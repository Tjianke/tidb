[2021/02/04 11:19:36.730 +08:00] [INFO] [tidb.go:71] ["new domain"] [store=d1f1e52e-8193-4e4e-b2a1-2255c20805c3] ["ddl lease"=0s] ["stats lease"=0s] ["index usage sync lease"=0s]
[2021/02/04 11:19:36.734 +08:00] [INFO] [ddl.go:328] ["[ddl] start DDL"] [ID=494ed978-4c02-439b-a9a1-46db817f7d2c] [runWorker=true]
[2021/02/04 11:19:36.734 +08:00] [INFO] [ddl.go:317] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2021/02/04 11:19:36.734 +08:00] [INFO] [ddl_worker.go:130] ["[ddl] start DDL worker"] [worker="worker 2, tp add index"]
[2021/02/04 11:19:36.734 +08:00] [INFO] [ddl_worker.go:130] ["[ddl] start DDL worker"] [worker="worker 1, tp general"]
[2021/02/04 11:19:36.734 +08:00] [INFO] [delete_range.go:141] ["[ddl] start delRange emulator"]
[2021/02/04 11:19:36.735 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=1.099526ms]
[2021/02/04 11:19:36.735 +08:00] [INFO] [domain.go:392] ["full load and reset schema validator"]
[2021/02/04 11:19:36.735 +08:00] [INFO] [tidb.go:71] ["new domain"] [store=839e26fe-997d-4563-932b-da2cc17b5194] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2021/02/04 11:19:36.735 +08:00] [INFO] [ddl.go:328] ["[ddl] start DDL"] [ID=ccbb295d-cebd-47c4-b4a5-73d51e0a6684] [runWorker=true]
[2021/02/04 11:19:36.736 +08:00] [INFO] [ddl.go:317] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2021/02/04 11:19:36.736 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:36.736 +08:00] [INFO] [ddl_worker.go:130] ["[ddl] start DDL worker"] [worker="worker 3, tp general"]
[2021/02/04 11:19:36.736 +08:00] [INFO] [delete_range.go:141] ["[ddl] start delRange emulator"]
[2021/02/04 11:19:36.736 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:156\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/Users/damn/go/tidb/executor/simple.go:537\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/Users/damn/go/tidb/executor/simple.go:119\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/damn/go/tidb/executor/executor.go:279\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/damn/go/tidb/executor/adapter.go:537\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/damn/go/tidb/executor/adapter.go:418\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/damn/go/tidb/executor/adapter.go:368\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/damn/go/tidb/session/session.go:1632\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1537\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/Users/damn/go/tidb/session/session.go:1308\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/Users/damn/go/tidb/session/bootstrap.go:542\ngithub.com/pingcap/tidb/session.bootstrap\n\t/Users/damn/go/tidb/session/bootstrap.go:330\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/Users/damn/go/tidb/session/session.go:2395\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/Users/damn/go/tidb/session/session.go:2265\ngithub.com/pingcap/tidb/executor_test.(*baseTestSuite).SetUpSuite\n\t/Users/damn/go/tidb/executor/executor_test.go:190\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).runFixture.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:799\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:36.736 +08:00] [INFO] [ddl_worker.go:130] ["[ddl] start DDL worker"] [worker="worker 4, tp add index"]
[2021/02/04 11:19:36.736 +08:00] [WARN] [session.go:1522] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:156\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/Users/damn/go/tidb/infoschema/infoschema.go:185\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/Users/damn/go/tidb/planner/core/preprocess.go:1130\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/Users/damn/go/tidb/planner/core/preprocess.go:355\ngithub.com/pingcap/parser/ast.(*TableName).Accept\n\t/Users/damn/go/pkg/mod/github.com/pingcap/parser@v0.0.0-20210125075924-ffe0fda947cb/ast/dml.go:382\ngithub.com/pingcap/parser/ast.(*TableSource).Accept\n\t/Users/damn/go/pkg/mod/github.com/pingcap/parser@v0.0.0-20210125075924-ffe0fda947cb/ast/dml.go:525\ngithub.com/pingcap/parser/ast.(*Join).Accept\n\t/Users/damn/go/pkg/mod/github.com/pingcap/parser@v0.0.0-20210125075924-ffe0fda947cb/ast/dml.go:210\ngithub.com/pingcap/parser/ast.(*TableRefsClause).Accept\n\t/Users/damn/go/pkg/mod/github.com/pingcap/parser@v0.0.0-20210125075924-ffe0fda947cb/ast/dml.go:723\ngithub.com/pingcap/parser/ast.(*SelectStmt).Accept\n\t/Users/damn/go/pkg/mod/github.com/pingcap/parser@v0.0.0-20210125075924-ffe0fda947cb/ast/dml.go:1210\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/Users/damn/go/tidb/planner/core/preprocess.go:89\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/Users/damn/go/tidb/executor/compiler.go:57\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1515\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/Users/damn/go/tidb/session/session.go:1308\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/Users/damn/go/tidb/session/bootstrap.go:571\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/Users/damn/go/tidb/session/bootstrap.go:548\ngithub.com/pingcap/tidb/session.bootstrap\n\t/Users/damn/go/tidb/session/bootstrap.go:330\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/Users/damn/go/tidb/session/session.go:2395\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/Users/damn/go/tidb/session/session.go:2265\ngithub.com/pingcap/tidb/executor_test.(*baseTestSuite).SetUpSuite\n\t/Users/damn/go/tidb/executor/executor_test.go:190\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).runFixture.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:799\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2021/02/04 11:19:36.736 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2021/02/04 11:19:36.737 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=1.394462ms]
[2021/02/04 11:19:36.737 +08:00] [INFO] [domain.go:392] ["full load and reset schema validator"]
[2021/02/04 11:19:36.737 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:36.737 +08:00] [INFO] [tidb.go:71] ["new domain"] [store=f24a9c67-c8da-42f6-8ef5-1445eb1bebfa] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2021/02/04 11:19:36.737 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:156\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/Users/damn/go/tidb/executor/simple.go:537\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/Users/damn/go/tidb/executor/simple.go:119\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/damn/go/tidb/executor/executor.go:279\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/damn/go/tidb/executor/adapter.go:537\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/damn/go/tidb/executor/adapter.go:418\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/damn/go/tidb/executor/adapter.go:368\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/damn/go/tidb/session/session.go:1632\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1537\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/Users/damn/go/tidb/session/session.go:1308\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/Users/damn/go/tidb/session/bootstrap.go:542\ngithub.com/pingcap/tidb/session.bootstrap\n\t/Users/damn/go/tidb/session/bootstrap.go:330\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/Users/damn/go/tidb/session/session.go:2395\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/Users/damn/go/tidb/session/session.go:2265\ngithub.com/pingcap/tidb/executor_test.(*testSuiteWithCliBase).SetUpSuite\n\t/Users/damn/go/tidb/executor/executor_test.go:3240\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).runFixture.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:799\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:36.737 +08:00] [INFO] [ddl.go:328] ["[ddl] start DDL"] [ID=74503cf7-7d45-4544-bad4-dbbfebe46563] [runWorker=true]
[2021/02/04 11:19:36.737 +08:00] [WARN] [session.go:1522] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:156\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/Users/damn/go/tidb/infoschema/infoschema.go:185\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/Users/damn/go/tidb/planner/core/preprocess.go:1130\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/Users/damn/go/tidb/planner/core/preprocess.go:355\ngithub.com/pingcap/parser/ast.(*TableName).Accept\n\t/Users/damn/go/pkg/mod/github.com/pingcap/parser@v0.0.0-20210125075924-ffe0fda947cb/ast/dml.go:382\ngithub.com/pingcap/parser/ast.(*TableSource).Accept\n\t/Users/damn/go/pkg/mod/github.com/pingcap/parser@v0.0.0-20210125075924-ffe0fda947cb/ast/dml.go:525\ngithub.com/pingcap/parser/ast.(*Join).Accept\n\t/Users/damn/go/pkg/mod/github.com/pingcap/parser@v0.0.0-20210125075924-ffe0fda947cb/ast/dml.go:210\ngithub.com/pingcap/parser/ast.(*TableRefsClause).Accept\n\t/Users/damn/go/pkg/mod/github.com/pingcap/parser@v0.0.0-20210125075924-ffe0fda947cb/ast/dml.go:723\ngithub.com/pingcap/parser/ast.(*SelectStmt).Accept\n\t/Users/damn/go/pkg/mod/github.com/pingcap/parser@v0.0.0-20210125075924-ffe0fda947cb/ast/dml.go:1210\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/Users/damn/go/tidb/planner/core/preprocess.go:89\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/Users/damn/go/tidb/executor/compiler.go:57\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1515\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/Users/damn/go/tidb/session/session.go:1308\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/Users/damn/go/tidb/session/bootstrap.go:571\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/Users/damn/go/tidb/session/bootstrap.go:548\ngithub.com/pingcap/tidb/session.bootstrap\n\t/Users/damn/go/tidb/session/bootstrap.go:330\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/Users/damn/go/tidb/session/session.go:2395\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/Users/damn/go/tidb/session/session.go:2265\ngithub.com/pingcap/tidb/executor_test.(*testSuiteWithCliBase).SetUpSuite\n\t/Users/damn/go/tidb/executor/executor_test.go:3240\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).runFixture.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:799\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2021/02/04 11:19:36.738 +08:00] [INFO] [ddl.go:317] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2021/02/04 11:19:36.738 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2021/02/04 11:19:36.738 +08:00] [INFO] [delete_range.go:141] ["[ddl] start delRange emulator"]
[2021/02/04 11:19:36.738 +08:00] [INFO] [ddl_worker.go:130] ["[ddl] start DDL worker"] [worker="worker 6, tp add index"]
[2021/02/04 11:19:36.738 +08:00] [INFO] [ddl_worker.go:130] ["[ddl] start DDL worker"] [worker="worker 5, tp general"]
[2021/02/04 11:19:36.738 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.737 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.738 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.737 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2021/02/04 11:19:36.738 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.737 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.738 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.738 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.738 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.738 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2021/02/04 11:19:36.738 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.738 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.738 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.737 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.739 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.738 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.739 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=2]
[2021/02/04 11:19:36.739 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=2]
[2021/02/04 11:19:36.739 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.739 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.739 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=1.197229ms]
[2021/02/04 11:19:36.739 +08:00] [INFO] [domain.go:392] ["full load and reset schema validator"]
[2021/02/04 11:19:36.739 +08:00] [INFO] [tidb.go:71] ["new domain"] [store=9aab00cb-d9d6-4a08-809d-d45dc2ea74b7] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2021/02/04 11:19:36.739 +08:00] [INFO] [ddl.go:328] ["[ddl] start DDL"] [ID=4731f193-1719-44f6-bc52-5a5a189e56d0] [runWorker=true]
[2021/02/04 11:19:36.739 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:36.739 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:156\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/Users/damn/go/tidb/executor/simple.go:537\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/Users/damn/go/tidb/executor/simple.go:119\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/damn/go/tidb/executor/executor.go:279\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/damn/go/tidb/executor/adapter.go:537\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/damn/go/tidb/executor/adapter.go:418\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/damn/go/tidb/executor/adapter.go:368\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/damn/go/tidb/session/session.go:1632\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1537\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/Users/damn/go/tidb/session/session.go:1308\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/Users/damn/go/tidb/session/bootstrap.go:542\ngithub.com/pingcap/tidb/session.bootstrap\n\t/Users/damn/go/tidb/session/bootstrap.go:330\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/Users/damn/go/tidb/session/session.go:2395\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/Users/damn/go/tidb/session/session.go:2265\ngithub.com/pingcap/tidb/executor_test.(*baseTestSuite).SetUpSuite\n\t/Users/damn/go/tidb/executor/executor_test.go:190\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).runFixture.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:799\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:36.739 +08:00] [INFO] [ddl.go:317] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2021/02/04 11:19:36.739 +08:00] [INFO] [delete_range.go:141] ["[ddl] start delRange emulator"]
[2021/02/04 11:19:36.739 +08:00] [WARN] [session.go:1522] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:156\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/Users/damn/go/tidb/infoschema/infoschema.go:185\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/Users/damn/go/tidb/planner/core/preprocess.go:1130\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/Users/damn/go/tidb/planner/core/preprocess.go:355\ngithub.com/pingcap/parser/ast.(*TableName).Accept\n\t/Users/damn/go/pkg/mod/github.com/pingcap/parser@v0.0.0-20210125075924-ffe0fda947cb/ast/dml.go:382\ngithub.com/pingcap/parser/ast.(*TableSource).Accept\n\t/Users/damn/go/pkg/mod/github.com/pingcap/parser@v0.0.0-20210125075924-ffe0fda947cb/ast/dml.go:525\ngithub.com/pingcap/parser/ast.(*Join).Accept\n\t/Users/damn/go/pkg/mod/github.com/pingcap/parser@v0.0.0-20210125075924-ffe0fda947cb/ast/dml.go:210\ngithub.com/pingcap/parser/ast.(*TableRefsClause).Accept\n\t/Users/damn/go/pkg/mod/github.com/pingcap/parser@v0.0.0-20210125075924-ffe0fda947cb/ast/dml.go:723\ngithub.com/pingcap/parser/ast.(*SelectStmt).Accept\n\t/Users/damn/go/pkg/mod/github.com/pingcap/parser@v0.0.0-20210125075924-ffe0fda947cb/ast/dml.go:1210\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/Users/damn/go/tidb/planner/core/preprocess.go:89\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/Users/damn/go/tidb/executor/compiler.go:57\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1515\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/Users/damn/go/tidb/session/session.go:1308\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/Users/damn/go/tidb/session/bootstrap.go:571\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/Users/damn/go/tidb/session/bootstrap.go:548\ngithub.com/pingcap/tidb/session.bootstrap\n\t/Users/damn/go/tidb/session/bootstrap.go:330\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/Users/damn/go/tidb/session/session.go:2395\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/Users/damn/go/tidb/session/session.go:2265\ngithub.com/pingcap/tidb/executor_test.(*baseTestSuite).SetUpSuite\n\t/Users/damn/go/tidb/executor/executor_test.go:190\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).runFixture.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:799\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2021/02/04 11:19:36.739 +08:00] [INFO] [ddl_worker.go:130] ["[ddl] start DDL worker"] [worker="worker 8, tp add index"]
[2021/02/04 11:19:36.739 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2021/02/04 11:19:36.739 +08:00] [INFO] [ddl_worker.go:130] ["[ddl] start DDL worker"] [worker="worker 7, tp general"]
[2021/02/04 11:19:36.740 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.74 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.740 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.74 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2021/02/04 11:19:36.740 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=1.374883ms]
[2021/02/04 11:19:36.740 +08:00] [INFO] [domain.go:392] ["full load and reset schema validator"]
[2021/02/04 11:19:36.740 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=1.40967ms]
[2021/02/04 11:19:36.740 +08:00] [INFO] [domain.go:392] ["full load and reset schema validator"]
[2021/02/04 11:19:36.740 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.74 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.740 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS mysql;"] [user=]
[2021/02/04 11:19:36.740 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS mysql;"] [user=]
[2021/02/04 11:19:36.741 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.74 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.741 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.74 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.741 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.74 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2021/02/04 11:19:36.741 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.74 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.741 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=1.404746ms]
[2021/02/04 11:19:36.741 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.74 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2021/02/04 11:19:36.741 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.74 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.741 +08:00] [INFO] [domain.go:392] ["full load and reset schema validator"]
[2021/02/04 11:19:36.741 +08:00] [INFO] [tidb.go:71] ["new domain"] [store=e74186a0-e925-4524-8149-e72300b5a18e] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2021/02/04 11:19:36.741 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=2]
[2021/02/04 11:19:36.741 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.741 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.74 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.741 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:36.741 +08:00] [INFO] [ddl.go:328] ["[ddl] start DDL"] [ID=ff91c903-127f-42f6-a160-658dfe4afa97] [runWorker=true]
[2021/02/04 11:19:36.741 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:156\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/Users/damn/go/tidb/executor/simple.go:537\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/Users/damn/go/tidb/executor/simple.go:119\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/damn/go/tidb/executor/executor.go:279\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/damn/go/tidb/executor/adapter.go:537\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/damn/go/tidb/executor/adapter.go:418\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/damn/go/tidb/executor/adapter.go:368\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/damn/go/tidb/session/session.go:1632\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1537\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/Users/damn/go/tidb/session/session.go:1308\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/Users/damn/go/tidb/session/bootstrap.go:542\ngithub.com/pingcap/tidb/session.bootstrap\n\t/Users/damn/go/tidb/session/bootstrap.go:330\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/Users/damn/go/tidb/session/session.go:2395\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/Users/damn/go/tidb/session/session.go:2265\ngithub.com/pingcap/tidb/executor_test.(*baseTestSuite).SetUpSuite\n\t/Users/damn/go/tidb/executor/executor_test.go:190\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).runFixture.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:799\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:36.741 +08:00] [INFO] [ddl.go:317] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2021/02/04 11:19:36.741 +08:00] [INFO] [delete_range.go:141] ["[ddl] start delRange emulator"]
[2021/02/04 11:19:36.741 +08:00] [INFO] [ddl_worker.go:130] ["[ddl] start DDL worker"] [worker="worker 9, tp general"]
[2021/02/04 11:19:36.741 +08:00] [INFO] [ddl_worker.go:130] ["[ddl] start DDL worker"] [worker="worker 10, tp add index"]
[2021/02/04 11:19:36.741 +08:00] [WARN] [session.go:1522] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:156\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/Users/damn/go/tidb/infoschema/infoschema.go:185\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/Users/damn/go/tidb/planner/core/preprocess.go:1130\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/Users/damn/go/tidb/planner/core/preprocess.go:355\ngithub.com/pingcap/parser/ast.(*TableName).Accept\n\t/Users/damn/go/pkg/mod/github.com/pingcap/parser@v0.0.0-20210125075924-ffe0fda947cb/ast/dml.go:382\ngithub.com/pingcap/parser/ast.(*TableSource).Accept\n\t/Users/damn/go/pkg/mod/github.com/pingcap/parser@v0.0.0-20210125075924-ffe0fda947cb/ast/dml.go:525\ngithub.com/pingcap/parser/ast.(*Join).Accept\n\t/Users/damn/go/pkg/mod/github.com/pingcap/parser@v0.0.0-20210125075924-ffe0fda947cb/ast/dml.go:210\ngithub.com/pingcap/parser/ast.(*TableRefsClause).Accept\n\t/Users/damn/go/pkg/mod/github.com/pingcap/parser@v0.0.0-20210125075924-ffe0fda947cb/ast/dml.go:723\ngithub.com/pingcap/parser/ast.(*SelectStmt).Accept\n\t/Users/damn/go/pkg/mod/github.com/pingcap/parser@v0.0.0-20210125075924-ffe0fda947cb/ast/dml.go:1210\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/Users/damn/go/tidb/planner/core/preprocess.go:89\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/Users/damn/go/tidb/executor/compiler.go:57\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1515\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/Users/damn/go/tidb/session/session.go:1308\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/Users/damn/go/tidb/session/bootstrap.go:571\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/Users/damn/go/tidb/session/bootstrap.go:548\ngithub.com/pingcap/tidb/session.bootstrap\n\t/Users/damn/go/tidb/session/bootstrap.go:330\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/Users/damn/go/tidb/session/session.go:2395\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/Users/damn/go/tidb/session/session.go:2265\ngithub.com/pingcap/tidb/executor_test.(*baseTestSuite).SetUpSuite\n\t/Users/damn/go/tidb/executor/executor_test.go:190\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).runFixture.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:799\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2021/02/04 11:19:36.741 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.74 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.741 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2021/02/04 11:19:36.741 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.74 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.741 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=4]
[2021/02/04 11:19:36.741 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.741 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=4]
[2021/02/04 11:19:36.742 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.741 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=91.314µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2021/02/04 11:19:36.742 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=60.241µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2021/02/04 11:19:36.742 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.741 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.742 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.741 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2021/02/04 11:19:36.742 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 7, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.741 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.742 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2021/02/04 11:19:36.742 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 7, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.741 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.742 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2021/02/04 11:19:36.742 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=1.580061ms]
[2021/02/04 11:19:36.742 +08:00] [INFO] [domain.go:392] ["full load and reset schema validator"]
[2021/02/04 11:19:36.742 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=2]
[2021/02/04 11:19:36.742 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.742 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS mysql;"] [user=]
[2021/02/04 11:19:36.742 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=0] ["start time"=1.42627ms]
[2021/02/04 11:19:36.743 +08:00] [INFO] [domain.go:392] ["full load and reset schema validator"]
[2021/02/04 11:19:36.743 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:36.743 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=0] [error="[schema:1049]Unknown database 'mysql'"] [errorVerbose="[schema:1049]Unknown database 'mysql'\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:156\ngithub.com/pingcap/tidb/executor.(*SimpleExec).executeUse\n\t/Users/damn/go/tidb/executor/simple.go:537\ngithub.com/pingcap/tidb/executor.(*SimpleExec).Next\n\t/Users/damn/go/tidb/executor/simple.go:119\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/damn/go/tidb/executor/executor.go:279\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/damn/go/tidb/executor/adapter.go:537\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/damn/go/tidb/executor/adapter.go:418\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/damn/go/tidb/executor/adapter.go:368\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/damn/go/tidb/session/session.go:1632\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1537\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/Users/damn/go/tidb/session/session.go:1308\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/Users/damn/go/tidb/session/bootstrap.go:542\ngithub.com/pingcap/tidb/session.bootstrap\n\t/Users/damn/go/tidb/session/bootstrap.go:330\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/Users/damn/go/tidb/session/session.go:2395\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/Users/damn/go/tidb/session/session.go:2265\ngithub.com/pingcap/tidb/executor_test.(*baseTestSuite).SetUpSuite\n\t/Users/damn/go/tidb/executor/executor_test.go:190\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).runFixture.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:799\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"\",\n  \"id\": 0,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:36.743 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.743 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.743 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.743 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2021/02/04 11:19:36.743 +08:00] [WARN] [session.go:1522] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.tidb' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.tidb' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:156\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/Users/damn/go/tidb/infoschema/infoschema.go:185\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/Users/damn/go/tidb/planner/core/preprocess.go:1130\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/Users/damn/go/tidb/planner/core/preprocess.go:355\ngithub.com/pingcap/parser/ast.(*TableName).Accept\n\t/Users/damn/go/pkg/mod/github.com/pingcap/parser@v0.0.0-20210125075924-ffe0fda947cb/ast/dml.go:382\ngithub.com/pingcap/parser/ast.(*TableSource).Accept\n\t/Users/damn/go/pkg/mod/github.com/pingcap/parser@v0.0.0-20210125075924-ffe0fda947cb/ast/dml.go:525\ngithub.com/pingcap/parser/ast.(*Join).Accept\n\t/Users/damn/go/pkg/mod/github.com/pingcap/parser@v0.0.0-20210125075924-ffe0fda947cb/ast/dml.go:210\ngithub.com/pingcap/parser/ast.(*TableRefsClause).Accept\n\t/Users/damn/go/pkg/mod/github.com/pingcap/parser@v0.0.0-20210125075924-ffe0fda947cb/ast/dml.go:723\ngithub.com/pingcap/parser/ast.(*SelectStmt).Accept\n\t/Users/damn/go/pkg/mod/github.com/pingcap/parser@v0.0.0-20210125075924-ffe0fda947cb/ast/dml.go:1210\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/Users/damn/go/tidb/planner/core/preprocess.go:89\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/Users/damn/go/tidb/executor/compiler.go:57\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1515\ngithub.com/pingcap/tidb/session.(*session).Execute\n\t/Users/damn/go/tidb/session/session.go:1308\ngithub.com/pingcap/tidb/session.getTiDBVar\n\t/Users/damn/go/tidb/session/bootstrap.go:571\ngithub.com/pingcap/tidb/session.checkBootstrapped\n\t/Users/damn/go/tidb/session/bootstrap.go:548\ngithub.com/pingcap/tidb/session.bootstrap\n\t/Users/damn/go/tidb/session/bootstrap.go:330\ngithub.com/pingcap/tidb/session.runInBootstrapSession\n\t/Users/damn/go/tidb/session/session.go:2395\ngithub.com/pingcap/tidb/session.BootstrapSession\n\t/Users/damn/go/tidb/session/session.go:2265\ngithub.com/pingcap/tidb/executor_test.(*baseTestSuite).SetUpSuite\n\t/Users/damn/go/tidb/executor/executor_test.go:190\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).runFixture.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:799\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [SQL="SELECT HIGH_PRIORITY VARIABLE_VALUE FROM mysql.tidb WHERE VARIABLE_NAME=\"bootstrapped\""]
[2021/02/04 11:19:36.743 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=0] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS test"] [user=]
[2021/02/04 11:19:36.743 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.743 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.743 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.742 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.743 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.742 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"]
[2021/02/04 11:19:36.743 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.743 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.743 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.743 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.743 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.743 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS test"]
[2021/02/04 11:19:36.743 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.743 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.743 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.743 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"]
[2021/02/04 11:19:36.743 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:2, Type:create schema, State:none, SchemaState:none, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.743 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.744 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=4]
[2021/02/04 11:19:36.744 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.744 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=57.693µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2021/02/04 11:19:36.744 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=1.338052ms]
[2021/02/04 11:19:36.744 +08:00] [INFO] [domain.go:392] ["full load and reset schema validator"]
[2021/02/04 11:19:36.744 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:2, Type:create schema, State:synced, SchemaState:public, SchemaID:1, TableID:0, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.743 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.744 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS mysql;"] [user=]
[2021/02/04 11:19:36.744 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.742 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.744 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=2]
[2021/02/04 11:19:36.744 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2021/02/04 11:19:36.744 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.744 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.743 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.744 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.744 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.744 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.744 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2021/02/04 11:19:36.744 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 7, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.744 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.745 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 7, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.744 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.745 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=4]
[2021/02/04 11:19:36.745 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.745 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=56.108µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2021/02/04 11:19:36.745 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.744 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.745 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.744 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"]
[2021/02/04 11:19:36.745 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2021/02/04 11:19:36.746 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=1] ["start time"=1.68535ms]
[2021/02/04 11:19:36.746 +08:00] [INFO] [domain.go:392] ["full load and reset schema validator"]
[2021/02/04 11:19:36.746 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.744 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.746 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=1] [cur_db=] [sql="CREATE DATABASE IF NOT EXISTS mysql;"] [user=]
[2021/02/04 11:19:36.746 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.746 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE DATABASE IF NOT EXISTS mysql;"]
[2021/02/04 11:19:36.746 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.746 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"]
[2021/02/04 11:19:36.746 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:4, Type:create schema, State:none, SchemaState:none, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.747 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:4, Type:create schema, State:synced, SchemaState:public, SchemaID:3, TableID:0, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.747 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=4]
[2021/02/04 11:19:36.747 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.747 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 7, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.747 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=1] [neededSchemaVersion=2] ["start time"=75.787µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2021/02/04 11:19:36.747 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=2] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"] [user=]
[2021/02/04 11:19:36.747 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.743 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.748 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.742 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.748 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.748 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.748 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.748 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.user (\n\t\tHost\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tauthentication_string\tTEXT,\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tProcess_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_db_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tSuper_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_user_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_role_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_role_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAccount_locked\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShutdown_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReload_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tFILE_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tConfig_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_Tablespace_Priv  ENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_slave_priv\t    \tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tRepl_client_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, User));"]
[2021/02/04 11:19:36.748 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=6]
[2021/02/04 11:19:36.748 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.749 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=6]
[2021/02/04 11:19:36.749 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.749 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=405.794µs] [phyTblIDs="[5]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.749 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(60) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2021/02/04 11:19:36.749 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:6, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.748 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.749 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.744 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.749 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.749 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(60) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2021/02/04 11:19:36.749 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.749 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=666.895µs] [phyTblIDs="[5]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.750 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(60) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2021/02/04 11:19:36.750 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.75 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.750 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.75 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(60) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2021/02/04 11:19:36.750 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 7, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.746 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.750 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.75 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.750 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=6]
[2021/02/04 11:19:36.750 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.749 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.750 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.751 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=8]
[2021/02/04 11:19:36.751 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.751 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=260.654µs] [phyTblIDs="[7]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.751 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=747.539µs] [phyTblIDs="[5]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.751 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.75 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.751 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(60) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2021/02/04 11:19:36.751 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=6]
[2021/02/04 11:19:36.751 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.751 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(60),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2021/02/04 11:19:36.752 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=8]
[2021/02/04 11:19:36.752 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.752 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.751 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.752 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.751 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(60) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2021/02/04 11:19:36.752 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=156.353µs] [phyTblIDs="[7]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.752 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.751 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.752 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=671.427µs] [phyTblIDs="[5]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.752 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.752 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.752 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.752 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(60),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2021/02/04 11:19:36.752 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(60),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2021/02/04 11:19:36.752 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.752 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.753 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:6, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:5, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.748 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.753 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.751 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.754 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(60) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2021/02/04 11:19:36.754 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=8]
[2021/02/04 11:19:36.754 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.754 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.754 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.754 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=127.753µs] [phyTblIDs="[7]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.754 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.754 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(60) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2021/02/04 11:19:36.754 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.754 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.754 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 7, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.754 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.754 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.754 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(60),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2021/02/04 11:19:36.755 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(60),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2021/02/04 11:19:36.755 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.754 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.755 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=6]
[2021/02/04 11:19:36.757 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.755 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 7, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.754 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.756 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.752 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.758 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=8]
[2021/02/04 11:19:36.758 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.758 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.758 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.758 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.758 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(60),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2021/02/04 11:19:36.758 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=137.699µs] [phyTblIDs="[7]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.758 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=2] [neededSchemaVersion=3] ["start time"=601.057µs] [phyTblIDs="[5]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.758 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=3] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(60) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"] [user=]
[2021/02/04 11:19:36.758 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=10]
[2021/02/04 11:19:36.758 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.758 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(60),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2021/02/04 11:19:36.758 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.758 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.759 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.758 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.759 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.758 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.global_priv (Host CHAR(60) NOT NULL DEFAULT '',User CHAR(80) NOT NULL DEFAULT '',Priv LONGTEXT NOT NULL DEFAULT '',PRIMARY KEY (Host, User))"]
[2021/02/04 11:19:36.759 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=385.947µs] [phyTblIDs="[9]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.759 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:8, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.758 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.759 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.759 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.759 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.759 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(60),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2021/02/04 11:19:36.759 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.754 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.759 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 7, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.759 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.760 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.758 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.762 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(60),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2021/02/04 11:19:36.762 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.762 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(60),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2021/02/04 11:19:36.762 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=10]
[2021/02/04 11:19:36.762 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.763 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:8, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:7, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.758 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.763 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=10]
[2021/02/04 11:19:36.763 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.763 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.763 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=8]
[2021/02/04 11:19:36.763 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.763 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=3] [neededSchemaVersion=4] ["start time"=139.935µs] [phyTblIDs="[7]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.763 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=479.377µs] [phyTblIDs="[9]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.763 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=352.665µs] [phyTblIDs="[9]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.763 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(60),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2021/02/04 11:19:36.763 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(60),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2021/02/04 11:19:36.763 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=4] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(60),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"] [user=]
[2021/02/04 11:19:36.764 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.763 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.764 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.763 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(60),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2021/02/04 11:19:36.764 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.763 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.764 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.763 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(60),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2021/02/04 11:19:36.764 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.763 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.764 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.762 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.764 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.763 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.764 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 7, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.759 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.767 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=12]
[2021/02/04 11:19:36.767 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.767 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.767 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.767 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.767 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.db (\n\t\tHost\t\t\t\t\tCHAR(60),\n\t\tDB\t\t\t\t\t\tCHAR(64),\n\t\tUser\t\t\t\t\tCHAR(32),\n\t\tSelect_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tInsert_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tUpdate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDelete_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tDrop_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tGrant_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tReferences_priv \t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tIndex_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_tmp_table_priv\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tLock_tables_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_view_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tShow_view_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tCreate_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tAlter_routine_priv\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tExecute_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tEvent_priv\t\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tTrigger_priv\t\t\tENUM('N','Y') NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (Host, DB, User));"]
[2021/02/04 11:19:36.767 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=10]
[2021/02/04 11:19:36.767 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.767 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=194.551µs] [phyTblIDs="[11]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.767 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(60),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2021/02/04 11:19:36.767 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.763 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.767 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:10, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.767 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.767 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=364.236µs] [phyTblIDs="[9]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.768 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.767 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.768 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.767 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(60),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2021/02/04 11:19:36.768 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.763 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.768 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.767 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.768 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=12]
[2021/02/04 11:19:36.769 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:10, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:9, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.767 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.771 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.771 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(60),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2021/02/04 11:19:36.771 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=252.135µs] [phyTblIDs="[11]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.771 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=12]
[2021/02/04 11:19:36.771 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.771 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(60),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2021/02/04 11:19:36.771 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.771 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.771 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.771 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(60),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2021/02/04 11:19:36.771 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=275.244µs] [phyTblIDs="[11]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.771 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=10]
[2021/02/04 11:19:36.771 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.771 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 7, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.771 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.771 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(60),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2021/02/04 11:19:36.772 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.771 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.772 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.771 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(60),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2021/02/04 11:19:36.772 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.771 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.772 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=4] [neededSchemaVersion=5] ["start time"=391.318µs] [phyTblIDs="[9]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.772 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.767 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.772 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.772 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.772 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=5] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(60),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"] [user=]
[2021/02/04 11:19:36.772 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.772 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(60),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2021/02/04 11:19:36.772 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.772 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.772 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=14]
[2021/02/04 11:19:36.773 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.771 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.774 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.773 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 7, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.771 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.774 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=217.345µs] [phyTblIDs="[13]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.774 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"] [user=]
[2021/02/04 11:19:36.774 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.774 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.774 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.774 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tables_priv (\n\t\tHost\t\tCHAR(60),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tGrantor\t\tCHAR(77),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tTable_priv\tSET('Select','Insert','Update','Delete','Create','Drop','Grant','Index','Alter','Create View','Show View','Trigger','References'),\n\t\tColumn_priv\tSET('Select','Insert','Update'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name));"]
[2021/02/04 11:19:36.775 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=14]
[2021/02/04 11:19:36.775 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.775 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=12]
[2021/02/04 11:19:36.775 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.775 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:12, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.774 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.775 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.775 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"]
[2021/02/04 11:19:36.775 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=286.311µs] [phyTblIDs="[13]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.775 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=246.633µs] [phyTblIDs="[11]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.775 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(60),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2021/02/04 11:19:36.775 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"] [user=]
[2021/02/04 11:19:36.775 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.775 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.772 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.775 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.775 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.775 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(60),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2021/02/04 11:19:36.775 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"]
[2021/02/04 11:19:36.775 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=14]
[2021/02/04 11:19:36.778 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.776 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.776 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 7, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.776 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.776 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:12, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:11, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.774 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.778 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=191.621µs] [phyTblIDs="[13]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.778 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"] [user=]
[2021/02/04 11:19:36.778 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=16]
[2021/02/04 11:19:36.778 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.778 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=119.476µs] [phyTblIDs="[15]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.778 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=12]
[2021/02/04 11:19:36.778 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.778 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2021/02/04 11:19:36.778 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.778 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.778 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.778 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.778 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"]
[2021/02/04 11:19:36.778 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=5] [neededSchemaVersion=6] ["start time"=214.108µs] [phyTblIDs="[11]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.779 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.778 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.779 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=6] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(60),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"] [user=]
[2021/02/04 11:19:36.779 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=16]
[2021/02/04 11:19:36.779 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.779 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.778 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.779 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.778 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2021/02/04 11:19:36.779 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.778 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.779 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 7, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.775 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.779 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=204.625µs] [phyTblIDs="[15]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.779 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2021/02/04 11:19:36.779 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.779 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.779 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.779 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.columns_priv(\n\t\tHost\t\tCHAR(60),\n\t\tDB\t\t\tCHAR(64),\n\t\tUser\t\tCHAR(32),\n\t\tTable_name\tCHAR(64),\n\t\tColumn_name\tCHAR(64),\n\t\tTimestamp\tTIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\t\tColumn_priv\tSET('Select','Insert','Update'),\n\t\tPRIMARY KEY (Host, DB, User, Table_name, Column_name));"]
[2021/02/04 11:19:36.779 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.778 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.779 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.779 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.779 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:14, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.779 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.779 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.779 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2021/02/04 11:19:36.779 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=14]
[2021/02/04 11:19:36.780 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.779 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.782 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.780 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.778 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.782 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=16]
[2021/02/04 11:19:36.782 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.782 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=218.329µs] [phyTblIDs="[13]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.782 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"] [user=]
[2021/02/04 11:19:36.782 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=114.042µs] [phyTblIDs="[15]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.782 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=18]
[2021/02/04 11:19:36.782 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.782 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2021/02/04 11:19:36.782 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=148.187µs] [phyTblIDs="[17]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.783 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.782 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.783 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.782 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"]
[2021/02/04 11:19:36.783 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2021/02/04 11:19:36.783 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.779 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.783 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.782 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.783 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.782 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2021/02/04 11:19:36.783 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 7, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.782 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.783 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:14, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:13, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.779 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.783 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.782 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.783 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=18]
[2021/02/04 11:19:36.783 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.783 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.783 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.783 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.783 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2021/02/04 11:19:36.783 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=176.139µs] [phyTblIDs="[17]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.783 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.783 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.783 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=14]
[2021/02/04 11:19:36.785 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.783 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 7, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.782 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.784 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.782 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.785 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2021/02/04 11:19:36.785 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=6] [neededSchemaVersion=7] ["start time"=207.611µs] [phyTblIDs="[13]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.785 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=16]
[2021/02/04 11:19:36.785 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.785 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=7] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"] [user=]
[2021/02/04 11:19:36.785 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=18]
[2021/02/04 11:19:36.785 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.785 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=93.266µs] [phyTblIDs="[15]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.785 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2021/02/04 11:19:36.785 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.785 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.785 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.785 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2021/02/04 11:19:36.785 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=148.79µs] [phyTblIDs="[17]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.786 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.785 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.786 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.785 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.GLOBAL_VARIABLES(\n\t\tVARIABLE_NAME  VARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE VARCHAR(1024) DEFAULT NULL);"]
[2021/02/04 11:19:36.786 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2021/02/04 11:19:36.786 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.785 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.786 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.785 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.786 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.785 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2021/02/04 11:19:36.786 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:16, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.785 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.786 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.783 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.786 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 7, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.785 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.786 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.786 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.786 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.786 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2021/02/04 11:19:36.786 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=20]
[2021/02/04 11:19:36.788 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.786 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.786 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.786 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:16, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:15, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.785 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.786 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.785 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.787 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 7, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.785 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.788 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=215.495µs] [phyTblIDs="[19]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.788 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=16]
[2021/02/04 11:19:36.788 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.788 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=18]
[2021/02/04 11:19:36.788 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.788 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=20]
[2021/02/04 11:19:36.788 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2021/02/04 11:19:36.788 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.788 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=7] [neededSchemaVersion=8] ["start time"=167.469µs] [phyTblIDs="[15]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.788 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=144.901µs] [phyTblIDs="[17]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.788 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=8] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"] [user=]
[2021/02/04 11:19:36.788 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=216.661µs] [phyTblIDs="[19]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.788 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2021/02/04 11:19:36.788 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2021/02/04 11:19:36.788 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.788 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.788 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.788 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2021/02/04 11:19:36.789 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.788 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.789 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.788 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.tidb(\n\t\tVARIABLE_NAME  \tVARCHAR(64) NOT NULL PRIMARY KEY,\n\t\tVARIABLE_VALUE \tVARCHAR(1024) DEFAULT NULL,\n\t\tCOMMENT \t\tVARCHAR(1024));"]
[2021/02/04 11:19:36.789 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.786 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.789 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.788 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.789 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.788 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.789 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.788 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.789 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.788 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2021/02/04 11:19:36.789 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.788 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2021/02/04 11:19:36.789 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:18, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.788 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.789 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.788 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.789 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=20]
[2021/02/04 11:19:36.789 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 7, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.788 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.791 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.789 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.788 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.791 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=286.632µs] [phyTblIDs="[19]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.791 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=22]
[2021/02/04 11:19:36.791 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.791 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2021/02/04 11:19:36.791 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:18, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:17, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.788 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.791 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=279.049µs] [phyTblIDs="[21]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.792 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.791 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.792 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.791 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2021/02/04 11:19:36.792 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=18]
[2021/02/04 11:19:36.792 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.792 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2021/02/04 11:19:36.792 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.788 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.792 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.791 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.792 +08:00] [INFO] [ddl_api.go:566] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"]
[2021/02/04 11:19:36.792 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 7, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.788 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.792 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=8] [neededSchemaVersion=9] ["start time"=118.906µs] [phyTblIDs="[17]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.792 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=9] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"] [user=]
[2021/02/04 11:19:36.792 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=22]
[2021/02/04 11:19:36.792 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.792 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=20]
[2021/02/04 11:19:36.794 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.792 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.792 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.792 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.792 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2021/02/04 11:19:36.792 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.792 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.792 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.792 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.help_topic (\n  \t\thelp_topic_id \t\tINT(10) UNSIGNED NOT NULL,\n  \t\tname \t\t\t\tCHAR(64) NOT NULL,\n  \t\thelp_category_id \tSMALLINT(5) UNSIGNED NOT NULL,\n  \t\tdescription \t\tTEXT NOT NULL,\n  \t\texample \t\t\tTEXT NOT NULL,\n  \t\turl \t\t\t\tTEXT NOT NULL,\n  \t\tPRIMARY KEY (help_topic_id),\n  \t\tUNIQUE KEY name (name)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 STATS_PERSISTENT=0 COMMENT='help topics';"]
[2021/02/04 11:19:36.792 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.791 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.793 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.792 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.793 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:20, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.792 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.794 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=158.391µs] [phyTblIDs="[21]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.794 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=186.665µs] [phyTblIDs="[19]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.794 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2021/02/04 11:19:36.794 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2021/02/04 11:19:36.794 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=22]
[2021/02/04 11:19:36.794 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.794 +08:00] [INFO] [ddl_api.go:566] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"]
[2021/02/04 11:19:36.794 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=192.809µs] [phyTblIDs="[21]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.794 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.794 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.794 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.794 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2021/02/04 11:19:36.794 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2021/02/04 11:19:36.795 +08:00] [INFO] [ddl_api.go:566] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"]
[2021/02/04 11:19:36.795 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 7, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.794 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.795 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:20, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:19, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.792 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.795 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.794 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.795 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.794 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2021/02/04 11:19:36.795 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.795 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.795 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.795 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2021/02/04 11:19:36.795 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.794 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.795 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.795 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.795 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.792 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.795 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 7, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.794 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.797 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=20]
[2021/02/04 11:19:36.797 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.797 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=22]
[2021/02/04 11:19:36.797 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.797 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=9] [neededSchemaVersion=10] ["start time"=143.496µs] [phyTblIDs="[19]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.797 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=24]
[2021/02/04 11:19:36.797 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.797 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=10] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"] [user=]
[2021/02/04 11:19:36.797 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=248.536µs] [phyTblIDs="[21]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.798 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2021/02/04 11:19:36.798 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=11] [neededSchemaVersion=12] ["start time"=384.947µs] [phyTblIDs="[23]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.798 +08:00] [INFO] [ddl_api.go:566] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"]
[2021/02/04 11:19:36.798 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound BLOB NOT NULL,\n\t\tlower_bound BLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2021/02/04 11:19:36.798 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.798 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.798 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.798 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_meta (\n\t\tversion \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\ttable_id \t\tBIGINT(64) NOT NULL,\n\t\tmodify_count\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcount \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tINDEX idx_ver(version),\n\t\tUNIQUE INDEX tbl(table_id)\n\t);"]
[2021/02/04 11:19:36.798 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:22, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.798 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.798 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.798 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.798 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.798 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2021/02/04 11:19:36.798 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.794 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.798 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:26, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.798 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.798 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.795 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.798 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:26, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.798 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound BLOB NOT NULL,\n\t\tlower_bound BLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2021/02/04 11:19:36.799 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 7, tp general"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.798 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.799 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:26, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.798 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.800 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=24]
[2021/02/04 11:19:36.800 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.800 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=24]
[2021/02/04 11:19:36.800 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.800 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:22, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:21, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.798 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.800 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=11] [neededSchemaVersion=12] ["start time"=320.414µs] [phyTblIDs="[23]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.800 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=11] [neededSchemaVersion=12] ["start time"=295.294µs] [phyTblIDs="[23]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.800 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound BLOB NOT NULL,\n\t\tlower_bound BLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2021/02/04 11:19:36.800 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound BLOB NOT NULL,\n\t\tlower_bound BLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2021/02/04 11:19:36.801 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=22]
[2021/02/04 11:19:36.801 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.801 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:26, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.798 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.801 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:26, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.801 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.801 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=10] [neededSchemaVersion=11] ["start time"=182.29µs] [phyTblIDs="[21]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.801 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:26, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.801 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound BLOB NOT NULL,\n\t\tlower_bound BLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2021/02/04 11:19:36.801 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:26, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.801 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.801 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:26, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.801 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound BLOB NOT NULL,\n\t\tlower_bound BLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2021/02/04 11:19:36.801 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 7, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.798 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.801 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=11] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2021/02/04 11:19:36.801 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:26, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.801 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.801 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=26]
[2021/02/04 11:19:36.802 +08:00] [INFO] [ddl_api.go:566] ["Automatically convert BLOB(6291456) to MEDIUMBLOB"]
[2021/02/04 11:19:36.802 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.801 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:26, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.801 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.802 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=12] [neededSchemaVersion=13] ["start time"=257.929µs] [phyTblIDs="[25]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.802 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2021/02/04 11:19:36.802 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=24]
[2021/02/04 11:19:36.802 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.802 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.803 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.803 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.802 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_histograms (\n\t\ttable_id \t\t\tBIGINT(64) NOT NULL,\n\t\tis_index \t\t\tTINYINT(2) NOT NULL,\n\t\thist_id \t\t\tBIGINT(64) NOT NULL,\n\t\tdistinct_count \t\tBIGINT(64) NOT NULL,\n\t\tnull_count \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\ttot_col_size \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tmodify_count \t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tversion \t\t\tBIGINT(64) UNSIGNED NOT NULL DEFAULT 0,\n\t\tcm_sketch \t\t\tBLOB(6291456),\n\t\tstats_ver \t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tflag \t\t\t\tBIGINT(64) NOT NULL DEFAULT 0,\n\t\tcorrelation \t\tDOUBLE NOT NULL DEFAULT 0,\n\t\tlast_analyze_pos \tBLOB DEFAULT NULL,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2021/02/04 11:19:36.803 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:28, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.803 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.803 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:28, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.803 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2021/02/04 11:19:36.803 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=11] [neededSchemaVersion=12] ["start time"=324.109µs] [phyTblIDs="[23]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.803 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:24, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.802 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.803 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:28, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.803 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.803 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound BLOB NOT NULL,\n\t\tlower_bound BLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2021/02/04 11:19:36.803 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:26, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.801 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.803 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:26, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.801 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.804 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:26, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.803 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.804 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:26, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.803 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound BLOB NOT NULL,\n\t\tlower_bound BLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2021/02/04 11:19:36.804 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=26]
[2021/02/04 11:19:36.805 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.804 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 7, tp general"] [job="ID:26, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.803 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.804 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=26]
[2021/02/04 11:19:36.804 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:28, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.803 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.804 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:24, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:23, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.802 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.805 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.805 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=12] [neededSchemaVersion=13] ["start time"=270.88µs] [phyTblIDs="[25]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.805 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=12] [neededSchemaVersion=13] ["start time"=277.668µs] [phyTblIDs="[25]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.806 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=28]
[2021/02/04 11:19:36.806 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.806 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2021/02/04 11:19:36.806 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2021/02/04 11:19:36.806 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=24]
[2021/02/04 11:19:36.806 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.806 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=13] [neededSchemaVersion=14] ["start time"=187.01µs] [phyTblIDs="[27]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.806 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2021/02/04 11:19:36.806 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:28, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.806 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.806 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:28, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.806 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2021/02/04 11:19:36.806 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=11] [neededSchemaVersion=12] ["start time"=328.668µs] [phyTblIDs="[23]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.806 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:28, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.806 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.806 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:28, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.806 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2021/02/04 11:19:36.806 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=12] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound BLOB NOT NULL,\n\t\tlower_bound BLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"] [user=]
[2021/02/04 11:19:36.806 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:28, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.806 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.806 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:28, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.806 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.806 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 7, tp general"] [job="ID:26, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.803 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.806 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:30, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.806 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.806 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:30, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.806 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2021/02/04 11:19:36.807 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:26, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.806 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.807 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:26, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.806 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_buckets (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tbucket_id \tBIGINT(64) NOT NULL,\n\t\tcount \t\tBIGINT(64) NOT NULL,\n\t\trepeats \tBIGINT(64) NOT NULL,\n\t\tupper_bound BLOB NOT NULL,\n\t\tlower_bound BLOB ,\n\t\tndv         BIGINT NOT NULL DEFAULT 0,\n\t\tUNIQUE INDEX tbl(table_id, is_index, hist_id, bucket_id)\n\t);"]
[2021/02/04 11:19:36.807 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:30, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.806 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.807 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:26, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.806 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.807 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:28, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.806 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.807 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:28, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.806 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.810 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=26]
[2021/02/04 11:19:36.810 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=28]
[2021/02/04 11:19:36.810 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.810 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.810 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=28]
[2021/02/04 11:19:36.810 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.810 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=13] [neededSchemaVersion=14] ["start time"=279.424µs] [phyTblIDs="[27]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.810 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=13] [neededSchemaVersion=14] ["start time"=247.831µs] [phyTblIDs="[27]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.811 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=12] [neededSchemaVersion=13] ["start time"=406.456µs] [phyTblIDs="[25]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.811 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2021/02/04 11:19:36.811 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2021/02/04 11:19:36.811 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2021/02/04 11:19:36.811 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:30, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.806 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.811 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:26, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:25, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.806 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.811 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=30]
[2021/02/04 11:19:36.812 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.812 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:30, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.811 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.812 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:30, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.811 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2021/02/04 11:19:36.812 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:28, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.811 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.812 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:30, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.811 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2021/02/04 11:19:36.812 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:30, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.811 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.812 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:28, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.811 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2021/02/04 11:19:36.812 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=14] [neededSchemaVersion=15] ["start time"=356.845µs] [phyTblIDs="[29]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.812 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 7, tp general"] [job="ID:28, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.811 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.812 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:30, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.811 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.812 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=26]
[2021/02/04 11:19:36.812 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:30, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.811 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.813 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.813 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2021/02/04 11:19:36.813 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=12] [neededSchemaVersion=13] ["start time"=295.097µs] [phyTblIDs="[25]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.814 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=13] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"] [user=]
[2021/02/04 11:19:36.814 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:32, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.813 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.814 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:32, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.813 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2021/02/04 11:19:36.814 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:32, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.813 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.814 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:28, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.814 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.814 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:30, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.811 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.814 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:28, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.814 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_index (job_id, element_id)\n\t);"]
[2021/02/04 11:19:36.814 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 7, tp general"] [job="ID:28, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.811 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.814 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:30, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.811 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.814 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:28, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.814 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.814 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=30]
[2021/02/04 11:19:36.815 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.815 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=28]
[2021/02/04 11:19:36.815 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.815 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=30]
[2021/02/04 11:19:36.815 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.815 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:32, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.813 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.815 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:28, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:27, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.814 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.815 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=14] [neededSchemaVersion=15] ["start time"=259.526µs] [phyTblIDs="[29]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.816 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=14] [neededSchemaVersion=15] ["start time"=319.632µs] [phyTblIDs="[29]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.816 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=13] [neededSchemaVersion=14] ["start time"=362.51µs] [phyTblIDs="[27]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.816 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2021/02/04 11:19:36.816 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2021/02/04 11:19:36.816 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=28]
[2021/02/04 11:19:36.816 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.816 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=32]
[2021/02/04 11:19:36.816 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2021/02/04 11:19:36.816 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.816 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=13] [neededSchemaVersion=14] ["start time"=176.109µs] [phyTblIDs="[27]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.816 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=15] [neededSchemaVersion=16] ["start time"=227.011µs] [phyTblIDs="[31]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.816 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:32, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.816 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2021/02/04 11:19:36.816 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=14] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"] [user=]
[2021/02/04 11:19:36.816 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:32, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.816 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.816 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:32, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.816 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.816 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:32, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.816 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2021/02/04 11:19:36.816 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:30, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.816 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.816 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:30, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.816 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2021/02/04 11:19:36.816 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:32, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.816 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.816 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2021/02/04 11:19:36.816 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:32, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.816 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.816 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:30, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.816 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.816 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 7, tp general"] [job="ID:30, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.816 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.816 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:30, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.816 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.gc_delete_range_done (\n\t\tjob_id \t\tBIGINT NOT NULL COMMENT \"the DDL job ID\",\n\t\telement_id \tBIGINT NOT NULL COMMENT \"the schema element ID\",\n\t\tstart_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tend_key \tVARCHAR(255) NOT NULL COMMENT \"encoded in hex\",\n\t\tts \t\t\tBIGINT NOT NULL COMMENT \"timestamp in uint64\",\n\t\tUNIQUE KEY delete_range_done_index (job_id, element_id)\n\t);"]
[2021/02/04 11:19:36.817 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:30, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.816 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.817 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:34, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.816 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.817 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:34, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.816 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2021/02/04 11:19:36.817 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:34, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.816 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.817 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:32, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.816 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.818 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=32]
[2021/02/04 11:19:36.818 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.818 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=15] [neededSchemaVersion=16] ["start time"=161.418µs] [phyTblIDs="[31]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.818 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:32, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.816 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.818 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2021/02/04 11:19:36.818 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 7, tp general"] [job="ID:30, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.816 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.819 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:34, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.816 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.819 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:30, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:29, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.816 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.819 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=32]
[2021/02/04 11:19:36.819 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.819 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=30]
[2021/02/04 11:19:36.819 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:34, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.818 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.819 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.819 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:34, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.818 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2021/02/04 11:19:36.819 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=15] [neededSchemaVersion=16] ["start time"=319.553µs] [phyTblIDs="[31]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.819 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=14] [neededSchemaVersion=15] ["start time"=125.291µs] [phyTblIDs="[29]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.819 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=30]
[2021/02/04 11:19:36.819 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.819 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=34]
[2021/02/04 11:19:36.819 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.819 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:34, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.818 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.819 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2021/02/04 11:19:36.819 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2021/02/04 11:19:36.819 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=14] [neededSchemaVersion=15] ["start time"=133.318µs] [phyTblIDs="[29]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.819 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=16] [neededSchemaVersion=17] ["start time"=130.365µs] [phyTblIDs="[33]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.820 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=15] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"] [user=]
[2021/02/04 11:19:36.820 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2021/02/04 11:19:36.820 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:34, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.82 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.820 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:32, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.82 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.820 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:32, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.82 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2021/02/04 11:19:36.820 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:34, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.82 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2021/02/04 11:19:36.820 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:36, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.82 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.820 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:36, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.82 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2021/02/04 11:19:36.820 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:32, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.82 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.820 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:32, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.82 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_feedback (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tfeedback \tBLOB NOT NULL,\n\t\tINDEX hist(table_id, is_index, hist_id)\n\t);"]
[2021/02/04 11:19:36.821 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 7, tp general"] [job="ID:32, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.82 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.821 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:34, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.82 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.821 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:32, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.82 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.821 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:36, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.82 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.821 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:34, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.818 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.821 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=34]
[2021/02/04 11:19:36.821 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.821 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 7, tp general"] [job="ID:32, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.82 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.821 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=16] [neededSchemaVersion=17] ["start time"=100.448µs] [phyTblIDs="[33]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.821 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:32, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:31, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.82 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.821 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:34, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.82 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.821 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:36, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.82 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.824 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2021/02/04 11:19:36.824 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=32]
[2021/02/04 11:19:36.824 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.824 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=32]
[2021/02/04 11:19:36.824 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.824 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=34]
[2021/02/04 11:19:36.824 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.824 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=36]
[2021/02/04 11:19:36.824 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.824 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=15] [neededSchemaVersion=16] ["start time"=144.688µs] [phyTblIDs="[31]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.824 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:36, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.824 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:36, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2021/02/04 11:19:36.824 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=15] [neededSchemaVersion=16] ["start time"=174.671µs] [phyTblIDs="[31]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.824 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=16] [neededSchemaVersion=17] ["start time"=155.762µs] [phyTblIDs="[33]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.824 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2021/02/04 11:19:36.824 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2021/02/04 11:19:36.824 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:36, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.824 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=17] [neededSchemaVersion=18] ["start time"=207.197µs] [phyTblIDs="[35]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.824 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=16] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"] [user=]
[2021/02/04 11:19:36.824 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(1024),default_db(1024)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2021/02/04 11:19:36.824 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:34, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.825 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:34, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2021/02/04 11:19:36.825 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:36, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.825 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:36, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2021/02/04 11:19:36.825 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:34, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.825 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:34, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.role_edges (\n\t\tFROM_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tFROM_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_HOST \t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tTO_USER \t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tWITH_ADMIN_OPTION \tENUM('N','Y') CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT 'N',\n\t\tPRIMARY KEY (FROM_HOST,FROM_USER,TO_HOST,TO_USER)\n\t);"]
[2021/02/04 11:19:36.825 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 7, tp general"] [job="ID:34, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.825 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:38, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.825 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.825 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:38, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.825 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(1024),default_db(1024)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2021/02/04 11:19:36.825 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:36, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.825 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:34, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.825 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:36, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.825 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:38, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.825 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.826 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=36]
[2021/02/04 11:19:36.826 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.826 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=17] [neededSchemaVersion=18] ["start time"=133.954µs] [phyTblIDs="[35]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.827 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(1024),default_db(1024)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2021/02/04 11:19:36.827 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 7, tp general"] [job="ID:34, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.827 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:34, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:33, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.827 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:36, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.824 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.827 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=34]
[2021/02/04 11:19:36.827 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.827 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=34]
[2021/02/04 11:19:36.827 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.827 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:38, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.827 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.827 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=36]
[2021/02/04 11:19:36.827 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.827 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:38, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.827 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(1024),default_db(1024)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2021/02/04 11:19:36.827 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=16] [neededSchemaVersion=17] ["start time"=175.885µs] [phyTblIDs="[33]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.827 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=16] [neededSchemaVersion=17] ["start time"=163.913µs] [phyTblIDs="[33]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.827 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=17] [neededSchemaVersion=18] ["start time"=161.735µs] [phyTblIDs="[35]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.827 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:38, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.825 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.827 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:38, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.827 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.830 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2021/02/04 11:19:36.830 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=17] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"] [user=]
[2021/02/04 11:19:36.830 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(1024),default_db(1024)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2021/02/04 11:19:36.830 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:36, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.83 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.830 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=38]
[2021/02/04 11:19:36.830 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.830 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:36, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.83 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.830 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:36, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.83 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2021/02/04 11:19:36.830 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:36, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.83 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.default_roles (\n\t\tHOST \t\t\t\tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tUSER \t\t\t\tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tDEFAULT_ROLE_HOST \tCHAR(60) COLLATE utf8_bin NOT NULL DEFAULT '%',\n\t\tDEFAULT_ROLE_USER \tCHAR(32) COLLATE utf8_bin NOT NULL DEFAULT '',\n\t\tPRIMARY KEY (HOST,USER,DEFAULT_ROLE_HOST,DEFAULT_ROLE_USER)\n\t)"]
[2021/02/04 11:19:36.830 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:38, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.83 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.830 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:38, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.83 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(1024),default_db(1024)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2021/02/04 11:19:36.831 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 7, tp general"] [job="ID:36, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.83 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.831 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:36, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.83 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.831 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=18] [neededSchemaVersion=19] ["start time"=314.839µs] [phyTblIDs="[37]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.831 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:38, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.83 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.831 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:38, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.827 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.831 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 7, tp general"] [job="ID:36, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.83 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.831 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:36, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:35, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.83 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.831 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2021/02/04 11:19:36.832 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=36]
[2021/02/04 11:19:36.832 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.832 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=36]
[2021/02/04 11:19:36.832 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.832 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=38]
[2021/02/04 11:19:36.832 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.832 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:40, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.832 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.832 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:40, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.832 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2021/02/04 11:19:36.833 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=17] [neededSchemaVersion=18] ["start time"=160.993µs] [phyTblIDs="[35]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.833 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=17] [neededSchemaVersion=18] ["start time"=204.817µs] [phyTblIDs="[35]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.833 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:40, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.832 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.833 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(1024),default_db(1024)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2021/02/04 11:19:36.833 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=18] [neededSchemaVersion=19] ["start time"=285.475µs] [phyTblIDs="[37]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.833 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=18] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(1024),default_db(1024)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"] [user=]
[2021/02/04 11:19:36.833 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:38, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.833 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.833 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:38, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.833 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(1024),default_db(1024)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2021/02/04 11:19:36.833 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:38, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.833 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.833 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:38, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.833 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.bind_info (\n\t\toriginal_sql TEXT NOT NULL,\n\t\tbind_sql TEXT NOT NULL,\n\t\tdefault_db TEXT NOT NULL,\n\t\tstatus TEXT NOT NULL,\n\t\tcreate_time TIMESTAMP(3) NOT NULL,\n\t\tupdate_time TIMESTAMP(3) NOT NULL,\n\t\tcharset TEXT NOT NULL,\n\t\tcollation TEXT NOT NULL,\n\t\tsource VARCHAR(10) NOT NULL DEFAULT 'unknown',\n\t\tINDEX sql_index(original_sql(1024),default_db(1024)) COMMENT \"accelerate the speed when add global binding query\",\n\t\tINDEX time_index(update_time) COMMENT \"accelerate the speed when querying with last update time\"\n\t) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2021/02/04 11:19:36.833 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:38, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.83 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.833 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2021/02/04 11:19:36.833 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 7, tp general"] [job="ID:38, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.833 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.833 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:38, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.833 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.834 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:40, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.832 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.834 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=38]
[2021/02/04 11:19:36.835 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.835 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:40, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.835 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2021/02/04 11:19:36.835 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:40, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.835 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.835 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=40]
[2021/02/04 11:19:36.835 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=18] [neededSchemaVersion=19] ["start time"=324.52µs] [phyTblIDs="[37]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.835 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.835 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:40, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.835 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.835 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=19] [neededSchemaVersion=20] ["start time"=267.726µs] [phyTblIDs="[39]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.835 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2021/02/04 11:19:36.836 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2021/02/04 11:19:36.836 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:42, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.835 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.836 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:42, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.835 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2021/02/04 11:19:36.836 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:38, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.833 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.836 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:42, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.835 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.836 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 7, tp general"] [job="ID:38, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:37, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.833 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.836 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:40, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.836 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.836 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:40, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.836 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2021/02/04 11:19:36.836 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:40, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.835 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.836 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:40, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.836 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.836 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=40]
[2021/02/04 11:19:36.836 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.836 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=38]
[2021/02/04 11:19:36.836 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.837 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=38]
[2021/02/04 11:19:36.837 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.837 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=19] [neededSchemaVersion=20] ["start time"=120.036µs] [phyTblIDs="[39]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.837 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:42, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.835 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.837 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2021/02/04 11:19:36.837 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=18] [neededSchemaVersion=19] ["start time"=261.176µs] [phyTblIDs="[37]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.837 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=18] [neededSchemaVersion=19] ["start time"=239.899µs] [phyTblIDs="[37]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.837 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:40, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.836 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.838 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=42]
[2021/02/04 11:19:36.838 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.838 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:42, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.838 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.838 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:42, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.838 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2021/02/04 11:19:36.838 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=40]
[2021/02/04 11:19:36.838 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=20] [neededSchemaVersion=21] ["start time"=142.175µs] [phyTblIDs="[41]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.838 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.838 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:42, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.838 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.838 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2021/02/04 11:19:36.838 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2021/02/04 11:19:36.838 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=19] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"] [user=]
[2021/02/04 11:19:36.838 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=19] [neededSchemaVersion=20] ["start time"=159.076µs] [phyTblIDs="[39]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.838 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2021/02/04 11:19:36.838 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:40, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.838 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.838 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:40, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.838 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2021/02/04 11:19:36.839 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:44, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.838 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.839 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:44, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.838 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2021/02/04 11:19:36.839 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:40, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.838 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.839 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:40, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.838 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_top_n (\n\t\ttable_id \tBIGINT(64) NOT NULL,\n\t\tis_index \tTINYINT(2) NOT NULL,\n\t\thist_id \tBIGINT(64) NOT NULL,\n\t\tvalue \t\tLONGBLOB,\n\t\tcount \t\tBIGINT(64) UNSIGNED NOT NULL,\n\t\tINDEX tbl(table_id, is_index, hist_id)\n\t);"]
[2021/02/04 11:19:36.839 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:42, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.838 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.839 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:42, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.838 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2021/02/04 11:19:36.839 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:44, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.838 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.839 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:42, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.838 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.839 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:40, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.838 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.839 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 7, tp general"] [job="ID:40, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.838 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.839 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:42, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.838 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.839 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=42]
[2021/02/04 11:19:36.839 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:44, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.838 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.840 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.841 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=20] [neededSchemaVersion=21] ["start time"=196.431µs] [phyTblIDs="[41]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.841 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=44]
[2021/02/04 11:19:36.841 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.841 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2021/02/04 11:19:36.841 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=21] [neededSchemaVersion=22] ["start time"=149.096µs] [phyTblIDs="[43]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.841 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:42, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.838 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.841 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2021/02/04 11:19:36.841 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:44, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.841 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.841 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 7, tp general"] [job="ID:40, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.838 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.841 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:44, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.841 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2021/02/04 11:19:36.841 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:40, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:39, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.838 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.841 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:44, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.841 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.841 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=42]
[2021/02/04 11:19:36.841 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.842 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=20] [neededSchemaVersion=21] ["start time"=194.825µs] [phyTblIDs="[41]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.842 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:46, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.841 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.842 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=40]
[2021/02/04 11:19:36.842 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.842 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2021/02/04 11:19:36.842 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:46, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.841 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2021/02/04 11:19:36.842 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=40]
[2021/02/04 11:19:36.842 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.842 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=19] [neededSchemaVersion=20] ["start time"=205.52µs] [phyTblIDs="[39]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.842 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:46, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.841 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.842 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=19] [neededSchemaVersion=20] ["start time"=172.46µs] [phyTblIDs="[39]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.842 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:44, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.841 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.842 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2021/02/04 11:19:36.842 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=20] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"] [user=]
[2021/02/04 11:19:36.842 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:44, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.842 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.842 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:44, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.842 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2021/02/04 11:19:36.842 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:44, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.842 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.842 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=44]
[2021/02/04 11:19:36.843 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.843 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:42, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.842 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.843 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:42, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.842 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2021/02/04 11:19:36.843 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:42, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.842 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.843 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:46, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.841 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.844 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=21] [neededSchemaVersion=22] ["start time"=110.576µs] [phyTblIDs="[43]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.844 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:42, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.844 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.844 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:42, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.844 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.expr_pushdown_blacklist (\n\t\tname \t\tCHAR(100) NOT NULL,\n\t\tstore_type \tCHAR(100) NOT NULL DEFAULT 'tikv,tiflash,tidb',\n\t\treason \t\tVARCHAR(200)\n\t);"]
[2021/02/04 11:19:36.844 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2021/02/04 11:19:36.844 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=46]
[2021/02/04 11:19:36.844 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 7, tp general"] [job="ID:42, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.844 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.844 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.844 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:44, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.842 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.844 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:42, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.842 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.844 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=22] [neededSchemaVersion=23] ["start time"=293.459µs] [phyTblIDs="[45]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.844 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:46, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.844 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.844 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:46, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.844 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2021/02/04 11:19:36.844 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=44]
[2021/02/04 11:19:36.844 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.845 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"] [user=]
[2021/02/04 11:19:36.845 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=42]
[2021/02/04 11:19:36.845 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.845 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=21] [neededSchemaVersion=22] ["start time"=67.368µs] [phyTblIDs="[43]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.845 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2021/02/04 11:19:36.845 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=20] [neededSchemaVersion=21] ["start time"=147.477µs] [phyTblIDs="[41]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.845 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:46, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.844 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.845 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 7, tp general"] [job="ID:42, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:41, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.844 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.845 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:48, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.845 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.845 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:48, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.845 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"]
[2021/02/04 11:19:36.845 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:46, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.845 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.845 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:46, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.845 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2021/02/04 11:19:36.845 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 1, tp general"] [job="ID:48, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.845 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.845 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:46, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.845 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.846 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2021/02/04 11:19:36.847 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=42]
[2021/02/04 11:19:36.847 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.847 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:44, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.846 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.847 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:44, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.846 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2021/02/04 11:19:36.847 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=20] [neededSchemaVersion=21] ["start time"=151.185µs] [phyTblIDs="[41]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.847 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=21] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"] [user=]
[2021/02/04 11:19:36.847 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:44, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.846 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.847 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 1, tp general"] [job="ID:48, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.845 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.847 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:44, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.847 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.847 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:44, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.847 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.opt_rule_blacklist (\n\t\tname \tCHAR(100) NOT NULL\n\t);"]
[2021/02/04 11:19:36.847 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:44, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.846 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.847 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 7, tp general"] [job="ID:44, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.847 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.848 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:46, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.844 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.848 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=48]
[2021/02/04 11:19:36.848 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.848 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:46, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.845 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.848 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=44]
[2021/02/04 11:19:36.848 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.848 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=23] [neededSchemaVersion=24] ["start time"=148.183µs] [phyTblIDs="[47]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.848 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=21] [neededSchemaVersion=22] ["start time"=171.296µs] [phyTblIDs="[43]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.848 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=46]
[2021/02/04 11:19:36.849 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.848 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 7, tp general"] [job="ID:44, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:43, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.847 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.848 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2021/02/04 11:19:36.848 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=46]
[2021/02/04 11:19:36.849 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.849 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=44]
[2021/02/04 11:19:36.850 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=22] [neededSchemaVersion=23] ["start time"=249.167µs] [phyTblIDs="[45]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.850 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.850 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=22] [neededSchemaVersion=23] ["start time"=216.181µs] [phyTblIDs="[45]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.850 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"] [user=]
[2021/02/04 11:19:36.850 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"] [user=]
[2021/02/04 11:19:36.850 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=21] [neededSchemaVersion=22] ["start time"=108.937µs] [phyTblIDs="[43]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.850 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:46, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.849 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.850 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:46, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.849 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2021/02/04 11:19:36.850 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=22] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"] [user=]
[2021/02/04 11:19:36.850 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:46, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.849 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.850 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:48, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.85 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.850 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:48, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.85 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"]
[2021/02/04 11:19:36.850 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:48, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.85 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.850 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:48, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.85 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"]
[2021/02/04 11:19:36.850 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 3, tp general"] [job="ID:48, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.85 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.850 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 5, tp general"] [job="ID:48, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.85 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.850 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:46, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.85 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.850 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:46, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.85 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.stats_extended (\n\t\tname varchar(32) NOT NULL,\n\t\ttype tinyint(4) NOT NULL,\n\t\ttable_id bigint(64) NOT NULL,\n\t\tcolumn_ids varchar(32) NOT NULL,\n\t\tstats blob DEFAULT NULL,\n\t\tversion bigint(64) unsigned NOT NULL,\n\t\tstatus tinyint(4) NOT NULL,\n\t\tPRIMARY KEY(name, table_id),\n\t\tKEY idx_1 (table_id, status, version),\n\t\tKEY idx_2 (status, version)\n\t);"]
[2021/02/04 11:19:36.851 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 7, tp general"] [job="ID:46, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.85 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.851 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:46, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.849 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.851 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 3, tp general"] [job="ID:48, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.85 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.851 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 5, tp general"] [job="ID:48, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.85 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.852 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 7, tp general"] [job="ID:46, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:45, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.85 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.853 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=48]
[2021/02/04 11:19:36.853 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.853 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=48]
[2021/02/04 11:19:36.853 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.853 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=46]
[2021/02/04 11:19:36.853 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.853 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=46]
[2021/02/04 11:19:36.853 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.853 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=23] [neededSchemaVersion=24] ["start time"=217.372µs] [phyTblIDs="[47]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.853 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=23] [neededSchemaVersion=24] ["start time"=413.261µs] [phyTblIDs="[47]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.853 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=22] [neededSchemaVersion=23] ["start time"=264.558µs] [phyTblIDs="[45]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.853 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=22] [neededSchemaVersion=23] ["start time"=322.152µs] [phyTblIDs="[45]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.853 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"] [user=]
[2021/02/04 11:19:36.853 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=0] [schemaVersion=23] [cur_db=] [sql="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"] [user=]
[2021/02/04 11:19:36.854 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:48, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.854 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.854 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:48, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.854 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.854 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:48, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.854 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"]
[2021/02/04 11:19:36.854 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:48, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.854 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE IF NOT EXISTS mysql.schema_index_usage (\n\t\tTABLE_ID bigint(64),\n\t\tINDEX_ID bigint(21),\n\t\tQUERY_COUNT bigint(64),\n\t\tROWS_SELECTED bigint(64),\n\t\tLAST_USED_AT timestamp,\n\t\tPRIMARY KEY(TABLE_ID, INDEX_ID)\n\t);"]
[2021/02/04 11:19:36.854 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 9, tp general"] [job="ID:48, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.854 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.854 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 7, tp general"] [job="ID:48, Type:create table, State:none, SchemaState:none, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.854 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.855 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 9, tp general"] [job="ID:48, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.854 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.855 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 7, tp general"] [job="ID:48, Type:create table, State:synced, SchemaState:public, SchemaID:3, TableID:47, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.854 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.856 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=48]
[2021/02/04 11:19:36.856 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.856 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=48]
[2021/02/04 11:19:36.856 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.856 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=23] [neededSchemaVersion=24] ["start time"=150.769µs] [phyTblIDs="[47]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.856 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=23] [neededSchemaVersion=24] ["start time"=178.429µs] [phyTblIDs="[47]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.864 +08:00] [INFO] [bootstrap.go:347] ["bootstrap successful"] ["take time"=128.45929ms]
[2021/02/04 11:19:36.867 +08:00] [INFO] [ddl_worker.go:124] ["[ddl] DDL worker closed"] [worker="worker 1, tp general"] ["take time"=432ns]
[2021/02/04 11:19:36.867 +08:00] [INFO] [ddl_worker.go:124] ["[ddl] DDL worker closed"] [worker="worker 2, tp add index"] ["take time"=230ns]
[2021/02/04 11:19:36.867 +08:00] [INFO] [delete_range.go:131] ["[ddl] closing delRange"]
[2021/02/04 11:19:36.867 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2021/02/04 11:19:36.867 +08:00] [INFO] [ddl.go:396] ["[ddl] DDL closed"] [ID=494ed978-4c02-439b-a9a1-46db817f7d2c] ["take time"=2.679293ms]
[2021/02/04 11:19:36.867 +08:00] [INFO] [ddl.go:309] ["[ddl] stop DDL"] [ID=494ed978-4c02-439b-a9a1-46db817f7d2c]
[2021/02/04 11:19:36.867 +08:00] [INFO] [domain.go:439] ["topNSlowQueryLoop exited."]
[2021/02/04 11:19:36.869 +08:00] [INFO] [domain.go:496] ["topologySyncerKeeper exited."]
[2021/02/04 11:19:36.869 +08:00] [INFO] [domain.go:468] ["infoSyncerKeeper exited."]
[2021/02/04 11:19:36.869 +08:00] [INFO] [domain.go:648] ["domain closed"] ["take time"=4.204898ms]
[2021/02/04 11:19:36.869 +08:00] [INFO] [tidb.go:71] ["new domain"] [store=d1f1e52e-8193-4e4e-b2a1-2255c20805c3] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2021/02/04 11:19:36.869 +08:00] [INFO] [ddl.go:328] ["[ddl] start DDL"] [ID=55833143-81f1-4fc2-89a0-2daf6b65d421] [runWorker=true]
[2021/02/04 11:19:36.870 +08:00] [INFO] [ddl.go:317] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2021/02/04 11:19:36.870 +08:00] [INFO] [delete_range.go:141] ["[ddl] start delRange emulator"]
[2021/02/04 11:19:36.870 +08:00] [INFO] [ddl_worker.go:130] ["[ddl] start DDL worker"] [worker="worker 11, tp general"]
[2021/02/04 11:19:36.870 +08:00] [INFO] [ddl_worker.go:130] ["[ddl] start DDL worker"] [worker="worker 12, tp add index"]
[2021/02/04 11:19:36.875 +08:00] [INFO] [bootstrap.go:347] ["bootstrap successful"] ["take time"=137.386728ms]
[2021/02/04 11:19:36.875 +08:00] [INFO] [bootstrap.go:347] ["bootstrap successful"] ["take time"=136.00577ms]
[2021/02/04 11:19:36.876 +08:00] [INFO] [ddl_worker.go:124] ["[ddl] DDL worker closed"] [worker="worker 3, tp general"] ["take time"=474ns]
[2021/02/04 11:19:36.876 +08:00] [INFO] [ddl_worker.go:124] ["[ddl] DDL worker closed"] [worker="worker 4, tp add index"] ["take time"=150ns]
[2021/02/04 11:19:36.876 +08:00] [INFO] [delete_range.go:131] ["[ddl] closing delRange"]
[2021/02/04 11:19:36.876 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2021/02/04 11:19:36.876 +08:00] [INFO] [ddl.go:396] ["[ddl] DDL closed"] [ID=ccbb295d-cebd-47c4-b4a5-73d51e0a6684] ["take time"=554.412µs]
[2021/02/04 11:19:36.876 +08:00] [INFO] [ddl.go:309] ["[ddl] stop DDL"] [ID=ccbb295d-cebd-47c4-b4a5-73d51e0a6684]
[2021/02/04 11:19:36.876 +08:00] [INFO] [domain.go:439] ["topNSlowQueryLoop exited."]
[2021/02/04 11:19:36.876 +08:00] [INFO] [domain.go:496] ["topologySyncerKeeper exited."]
[2021/02/04 11:19:36.876 +08:00] [INFO] [domain.go:468] ["infoSyncerKeeper exited."]
[2021/02/04 11:19:36.876 +08:00] [INFO] [domain.go:648] ["domain closed"] ["take time"=614.117µs]
[2021/02/04 11:19:36.876 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=24] ["start time"=6.049354ms]
[2021/02/04 11:19:36.876 +08:00] [INFO] [domain.go:392] ["full load and reset schema validator"]
[2021/02/04 11:19:36.876 +08:00] [INFO] [ddl_worker.go:124] ["[ddl] DDL worker closed"] [worker="worker 5, tp general"] ["take time"=329ns]
[2021/02/04 11:19:36.876 +08:00] [INFO] [ddl_worker.go:124] ["[ddl] DDL worker closed"] [worker="worker 6, tp add index"] ["take time"=121ns]
[2021/02/04 11:19:36.876 +08:00] [INFO] [delete_range.go:131] ["[ddl] closing delRange"]
[2021/02/04 11:19:36.876 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2021/02/04 11:19:36.876 +08:00] [INFO] [ddl.go:396] ["[ddl] DDL closed"] [ID=74503cf7-7d45-4544-bad4-dbbfebe46563] ["take time"=51.034µs]
[2021/02/04 11:19:36.876 +08:00] [INFO] [ddl.go:309] ["[ddl] stop DDL"] [ID=74503cf7-7d45-4544-bad4-dbbfebe46563]
[2021/02/04 11:19:36.876 +08:00] [INFO] [domain.go:439] ["topNSlowQueryLoop exited."]
[2021/02/04 11:19:36.876 +08:00] [INFO] [domain.go:496] ["topologySyncerKeeper exited."]
[2021/02/04 11:19:36.876 +08:00] [INFO] [domain.go:468] ["infoSyncerKeeper exited."]
[2021/02/04 11:19:36.876 +08:00] [INFO] [domain.go:648] ["domain closed"] ["take time"=107.161µs]
[2021/02/04 11:19:36.876 +08:00] [INFO] [tidb.go:71] ["new domain"] [store=f24a9c67-c8da-42f6-8ef5-1445eb1bebfa] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2021/02/04 11:19:36.876 +08:00] [INFO] [ddl.go:328] ["[ddl] start DDL"] [ID=08872c48-b775-4cf2-9df6-c5f79768efa6] [runWorker=true]
[2021/02/04 11:19:36.876 +08:00] [INFO] [ddl.go:317] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2021/02/04 11:19:36.876 +08:00] [INFO] [ddl_worker.go:130] ["[ddl] start DDL worker"] [worker="worker 13, tp general"]
[2021/02/04 11:19:36.876 +08:00] [INFO] [ddl_worker.go:130] ["[ddl] start DDL worker"] [worker="worker 14, tp add index"]
[2021/02/04 11:19:36.876 +08:00] [INFO] [delete_range.go:141] ["[ddl] start delRange emulator"]
[2021/02/04 11:19:36.877 +08:00] [INFO] [bootstrap.go:347] ["bootstrap successful"] ["take time"=136.094232ms]
[2021/02/04 11:19:36.877 +08:00] [INFO] [ddl_worker.go:124] ["[ddl] DDL worker closed"] [worker="worker 7, tp general"] ["take time"=293ns]
[2021/02/04 11:19:36.877 +08:00] [INFO] [ddl_worker.go:124] ["[ddl] DDL worker closed"] [worker="worker 8, tp add index"] ["take time"=109ns]
[2021/02/04 11:19:36.877 +08:00] [INFO] [delete_range.go:131] ["[ddl] closing delRange"]
[2021/02/04 11:19:36.877 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2021/02/04 11:19:36.877 +08:00] [INFO] [ddl.go:396] ["[ddl] DDL closed"] [ID=4731f193-1719-44f6-bc52-5a5a189e56d0] ["take time"=46.7µs]
[2021/02/04 11:19:36.877 +08:00] [INFO] [ddl.go:309] ["[ddl] stop DDL"] [ID=4731f193-1719-44f6-bc52-5a5a189e56d0]
[2021/02/04 11:19:36.877 +08:00] [INFO] [domain.go:439] ["topNSlowQueryLoop exited."]
[2021/02/04 11:19:36.877 +08:00] [INFO] [domain.go:496] ["topologySyncerKeeper exited."]
[2021/02/04 11:19:36.877 +08:00] [INFO] [domain.go:468] ["infoSyncerKeeper exited."]
[2021/02/04 11:19:36.877 +08:00] [INFO] [domain.go:648] ["domain closed"] ["take time"=102.149µs]
[2021/02/04 11:19:36.877 +08:00] [INFO] [bootstrap.go:347] ["bootstrap successful"] ["take time"=134.887296ms]
[2021/02/04 11:19:36.878 +08:00] [INFO] [ddl_worker.go:124] ["[ddl] DDL worker closed"] [worker="worker 10, tp add index"] ["take time"=335ns]
[2021/02/04 11:19:36.878 +08:00] [INFO] [ddl_worker.go:124] ["[ddl] DDL worker closed"] [worker="worker 9, tp general"] ["take time"=415ns]
[2021/02/04 11:19:36.878 +08:00] [INFO] [delete_range.go:131] ["[ddl] closing delRange"]
[2021/02/04 11:19:36.878 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2021/02/04 11:19:36.878 +08:00] [INFO] [ddl.go:396] ["[ddl] DDL closed"] [ID=ff91c903-127f-42f6-a160-658dfe4afa97] ["take time"=75.549µs]
[2021/02/04 11:19:36.878 +08:00] [INFO] [ddl.go:309] ["[ddl] stop DDL"] [ID=ff91c903-127f-42f6-a160-658dfe4afa97]
[2021/02/04 11:19:36.878 +08:00] [INFO] [domain.go:439] ["topNSlowQueryLoop exited."]
[2021/02/04 11:19:36.878 +08:00] [INFO] [domain.go:468] ["infoSyncerKeeper exited."]
[2021/02/04 11:19:36.878 +08:00] [INFO] [domain.go:496] ["topologySyncerKeeper exited."]
[2021/02/04 11:19:36.878 +08:00] [INFO] [domain.go:648] ["domain closed"] ["take time"=120.981µs]
[2021/02/04 11:19:36.880 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=24] ["start time"=3.980985ms]
[2021/02/04 11:19:36.880 +08:00] [INFO] [domain.go:392] ["full load and reset schema validator"]
[2021/02/04 11:19:36.880 +08:00] [INFO] [tidb.go:71] ["new domain"] [store=839e26fe-997d-4563-932b-da2cc17b5194] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2021/02/04 11:19:36.880 +08:00] [INFO] [ddl.go:328] ["[ddl] start DDL"] [ID=b937d96d-a0f7-43e6-abf9-a1974821518d] [runWorker=true]
[2021/02/04 11:19:36.881 +08:00] [INFO] [ddl.go:317] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2021/02/04 11:19:36.881 +08:00] [INFO] [delete_range.go:141] ["[ddl] start delRange emulator"]
[2021/02/04 11:19:36.881 +08:00] [INFO] [ddl_worker.go:130] ["[ddl] start DDL worker"] [worker="worker 15, tp general"]
[2021/02/04 11:19:36.881 +08:00] [INFO] [ddl_worker.go:130] ["[ddl] start DDL worker"] [worker="worker 16, tp add index"]
[2021/02/04 11:19:36.884 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=24] ["start time"=3.232628ms]
[2021/02/04 11:19:36.884 +08:00] [INFO] [domain.go:392] ["full load and reset schema validator"]
[2021/02/04 11:19:36.884 +08:00] [INFO] [tidb.go:71] ["new domain"] [store=9aab00cb-d9d6-4a08-809d-d45dc2ea74b7] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2021/02/04 11:19:36.884 +08:00] [INFO] [ddl.go:328] ["[ddl] start DDL"] [ID=193318bc-8945-44e8-8ac8-792b800bc995] [runWorker=true]
[2021/02/04 11:19:36.884 +08:00] [INFO] [ddl.go:317] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2021/02/04 11:19:36.884 +08:00] [INFO] [ddl_worker.go:130] ["[ddl] start DDL worker"] [worker="worker 17, tp general"]
[2021/02/04 11:19:36.884 +08:00] [INFO] [delete_range.go:141] ["[ddl] start delRange emulator"]
[2021/02/04 11:19:36.884 +08:00] [INFO] [ddl_worker.go:130] ["[ddl] start DDL worker"] [worker="worker 18, tp add index"]
[2021/02/04 11:19:36.887 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=24] ["start time"=2.74983ms]
[2021/02/04 11:19:36.887 +08:00] [INFO] [domain.go:392] ["full load and reset schema validator"]
[2021/02/04 11:19:36.887 +08:00] [INFO] [tidb.go:71] ["new domain"] [store=e74186a0-e925-4524-8149-e72300b5a18e] ["ddl lease"=0s] ["stats lease"=-1ns] ["index usage sync lease"=0s]
[2021/02/04 11:19:36.887 +08:00] [INFO] [ddl.go:328] ["[ddl] start DDL"] [ID=ce57f196-4883-45b0-a28d-55a50d68e02c] [runWorker=true]
[2021/02/04 11:19:36.887 +08:00] [INFO] [ddl.go:317] ["[ddl] start delRangeManager OK"] ["is a emulator"=true]
[2021/02/04 11:19:36.887 +08:00] [INFO] [delete_range.go:141] ["[ddl] start delRange emulator"]
[2021/02/04 11:19:36.887 +08:00] [INFO] [ddl_worker.go:130] ["[ddl] start DDL worker"] [worker="worker 20, tp add index"]
[2021/02/04 11:19:36.887 +08:00] [INFO] [ddl_worker.go:130] ["[ddl] start DDL worker"] [worker="worker 19, tp general"]
[2021/02/04 11:19:36.890 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=24] ["start time"=2.989425ms]
[2021/02/04 11:19:36.890 +08:00] [INFO] [domain.go:392] ["full load and reset schema validator"]
[2021/02/04 11:19:36.892 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=24] [cur_db=test] [sql="drop table if exists admin_test"] [user=]
[2021/02/04 11:19:36.892 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=24] [cur_db=test] [sql="create table admin_test (c1 int, c2 int, c3 int default 1, index (c1), unique key(c2))"] [user=]
[2021/02/04 11:19:36.893 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:50, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.892 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.893 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:50, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.892 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table admin_test (c1 int, c2 int, c3 int default 1, index (c1), unique key(c2))"]
[2021/02/04 11:19:36.893 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:50, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.892 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.895 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:50, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.892 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.895 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=50]
[2021/02/04 11:19:36.895 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.896 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=24] [neededSchemaVersion=25] ["start time"=382.176µs] [phyTblIDs="[49]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.897 +08:00] [WARN] [2pc.go:1522] ["schemaLeaseChecker is not set for this transaction"] [sessionID=1] [startTS=422683286410625032] [commitTS=422683286410887168]
[2021/02/04 11:19:36.898 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=2] [schemaVersion=24] [cur_db=test] [sql="DROP TABLE IF EXISTS admin_checksum_partition_test;"] [user=]
[2021/02/04 11:19:36.899 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=2] [schemaVersion=24] [cur_db=test] [sql="CREATE TABLE admin_checksum_partition_test (a INT) PARTITION BY HASH(a) PARTITIONS 4;"] [user=]
[2021/02/04 11:19:36.900 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=3] [schemaVersion=24] [cur_db=test] [sql="drop table if exists check_index_test;"] [user=]
[2021/02/04 11:19:36.900 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=5] [schemaVersion=24] [cur_db=test] [sql="drop table if exists admin_test"] [user=]
[2021/02/04 11:19:36.900 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=24] [cur_db=test] [sql="CREATE TABLE test_null (\n\t\ta int(11) NOT NULL,\n\t\tc int(11) NOT NULL,\n\t\tPRIMARY KEY (a, c),\n\t\tKEY idx_a (a)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin"] [user=]
[2021/02/04 11:19:36.900 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=3] [schemaVersion=24] [cur_db=test] [sql="create table check_index_test (a int, b varchar(10), index a_b (a, b), index b (b))"] [user=]
[2021/02/04 11:19:36.900 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=5] [schemaVersion=24] [cur_db=test] [sql="create table admin_test (c1 int, c2 int, c3 int default 1, index (c1))"] [user=]
[2021/02/04 11:19:36.900 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:54, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.9 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.900 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:54, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.9 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE admin_checksum_partition_test (a INT) PARTITION BY HASH(a) PARTITIONS 4;"]
[2021/02/04 11:19:36.900 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 11, tp general"] [job="ID:54, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.9 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.900 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:50, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.9 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.900 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:50, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.9 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.900 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:50, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.9 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table check_index_test (a int, b varchar(10), index a_b (a, b), index b (b))"]
[2021/02/04 11:19:36.900 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:50, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.9 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE test_null (\n\t\ta int(11) NOT NULL,\n\t\tc int(11) NOT NULL,\n\t\tPRIMARY KEY (a, c),\n\t\tKEY idx_a (a)\n\t\t) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin"]
[2021/02/04 11:19:36.900 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:50, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.9 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.900 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:50, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.9 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table admin_test (c1 int, c2 int, c3 int default 1, index (c1))"]
[2021/02/04 11:19:36.900 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 15, tp general"] [job="ID:50, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.9 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.900 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:50, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.9 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.900 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:50, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.9 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.901 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 11, tp general"] [job="ID:54, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.9 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.901 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=54]
[2021/02/04 11:19:36.901 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.901 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 15, tp general"] [job="ID:50, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.9 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.901 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:50, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.9 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.901 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 19, tp general"] [job="ID:50, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.9 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.901 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=24] [neededSchemaVersion=25] ["start time"=187.274µs] [phyTblIDs="[49,50,51,52,53]"] [actionTypes="[8,8,8,8,8]"]
[2021/02/04 11:19:36.901 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=50]
[2021/02/04 11:19:36.901 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.901 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=50]
[2021/02/04 11:19:36.901 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.901 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=50]
[2021/02/04 11:19:36.901 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.901 +08:00] [WARN] [2pc.go:1522] ["schemaLeaseChecker is not set for this transaction"] [sessionID=2] [startTS=422683286411935766] [commitTS=422683286411935767]
[2021/02/04 11:19:36.901 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=24] [neededSchemaVersion=25] ["start time"=113.104µs] [phyTblIDs="[49]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.901 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=24] [neededSchemaVersion=25] ["start time"=129.206µs] [phyTblIDs="[49]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.902 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=24] [neededSchemaVersion=25] ["start time"=143.155µs] [phyTblIDs="[49]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.902 +08:00] [WARN] [2pc.go:1522] ["schemaLeaseChecker is not set for this transaction"] [sessionID=5] [startTS=422683286412197890] [commitTS=422683286412197891]
[2021/02/04 11:19:36.902 +08:00] [WARN] [2pc.go:1522] ["schemaLeaseChecker is not set for this transaction"] [sessionID=3] [startTS=422683286412197894] [commitTS=422683286412197897]
[2021/02/04 11:19:36.902 +08:00] [WARN] [2pc.go:1522] ["schemaLeaseChecker is not set for this transaction"] [sessionID=4] [startTS=422683286412197896] [commitTS=422683286412197898]
PASS: executor_test.go:561: testSuiteP2.TestAdminChecksumOfPartitionedTable	0.004s
[2021/02/04 11:19:36.902 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=6] [schemaVersion=25] [cur_db=] [sql="create database if not exists test_admin_show_ddl_jobs"] [user=]
[2021/02/04 11:19:36.902 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=25] [cur_db=test] [sql="ALTER TABLE test_null ADD COLUMN b int NULL DEFAULT '1795454803' AFTER a;"] [user=]
[2021/02/04 11:19:36.903 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:56, Type:create schema, State:none, SchemaState:none, SchemaID:55, TableID:0, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.902 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.903 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:51, Type:add column, State:none, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:3, start time: 2021-02-04 11:19:36.902 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="ALTER TABLE test_null ADD COLUMN b int NULL DEFAULT '1795454803' AFTER a;"]
[2021/02/04 11:19:36.903 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:56, Type:create schema, State:none, SchemaState:none, SchemaID:55, TableID:0, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.902 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create database if not exists test_admin_show_ddl_jobs"]
[2021/02/04 11:19:36.903 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:51, Type:add column, State:none, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:3, start time: 2021-02-04 11:19:36.902 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.903 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:51, Type:add column, State:none, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.902 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.903 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 11, tp general"] [job="ID:56, Type:create schema, State:none, SchemaState:none, SchemaID:55, TableID:0, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.902 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.903 +08:00] [INFO] [column.go:200] ["[ddl] run add column job"] [job="ID:51, Type:add column, State:running, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:3, start time: 2021-02-04 11:19:36.902 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [columnInfo="{\"id\":3,\"name\":{\"O\":\"b\",\"L\":\"b\"},\"offset\":2,\"origin_default\":\"1795454803\",\"origin_default_bit\":null,\"default\":\"1795454803\",\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":3,\"Flag\":0,\"Flen\":11,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null},\"state\":0,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2}"] [offset=1]
[2021/02/04 11:19:36.903 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 11, tp general"] [job="ID:56, Type:create schema, State:synced, SchemaState:public, SchemaID:55, TableID:0, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.902 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.903 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=7] [schemaVersion=25] [cur_db=test] [sql="drop table check_index_test"] [user=]
[2021/02/04 11:19:36.903 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:51, Type:add column, State:running, SchemaState:delete only, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.902 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.903 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=56]
[2021/02/04 11:19:36.903 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.903 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=25] [neededSchemaVersion=26] ["start time"=35.704µs] [phyTblIDs="[]"] [actionTypes="[]"]
[2021/02/04 11:19:36.904 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:51, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.903 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.904 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=6] [schemaVersion=26] [cur_db=test_admin_show_ddl_jobs] [sql="create table t (a int);"] [user=]
[2021/02/04 11:19:36.904 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:51, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.903 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table check_index_test"]
[2021/02/04 11:19:36.904 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 15, tp general"] [job="ID:51, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.903 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.904 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:51, Type:add column, State:running, SchemaState:write only, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.902 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.904 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:58, Type:create table, State:none, SchemaState:none, SchemaID:55, TableID:57, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.904 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.904 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=25] ["start time"=5.417072ms]
[2021/02/04 11:19:36.904 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:58, Type:create table, State:none, SchemaState:none, SchemaID:55, TableID:57, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.904 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t (a int);"]
[2021/02/04 11:19:36.904 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=25]
[2021/02/04 11:19:36.904 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 11, tp general"] [job="ID:58, Type:create table, State:none, SchemaState:none, SchemaID:55, TableID:57, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.904 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.904 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 15, tp general"] [job="ID:51, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.903 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.904 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:51, Type:add column, State:running, SchemaState:write reorganization, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.902 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.904 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=25]
[2021/02/04 11:19:36.904 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=25]
[2021/02/04 11:19:36.904 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 15, tp general"] [job="ID:51, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.903 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.905 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 11, tp general"] [job="ID:58, Type:create table, State:synced, SchemaState:public, SchemaID:55, TableID:57, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.904 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.905 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=58]
[2021/02/04 11:19:36.905 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.905 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 19, tp general"] [job="ID:51, Type:add column, State:synced, SchemaState:public, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.902 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.905 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=26] [neededSchemaVersion=27] ["start time"=75.361µs] [phyTblIDs="[57]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.905 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=51] [elementID=49]
[2021/02/04 11:19:36.905 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=51]
[2021/02/04 11:19:36.905 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.905 +08:00] [INFO] [delete_range.go:106] ["[ddl] add job into delete-range table"] [jobID=51] [jobType="drop table"]
[2021/02/04 11:19:36.906 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 15, tp general"] [job="ID:51, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:2, start time: 2021-02-04 11:19:36.903 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.906 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=25] [neededSchemaVersion=29] ["start time"=535.667µs] [phyTblIDs="[49,49,49,49]"] [actionTypes="[32,32,32,32]"]
[2021/02/04 11:19:36.906 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=29] [cur_db=test] [sql="ALTER TABLE test_null add index b(b);"] [user=]
[2021/02/04 11:19:36.906 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:52, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:36.906 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.906 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:52, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:36.906 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="ALTER TABLE test_null add index b(b);"]
[2021/02/04 11:19:36.906 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:52, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.906 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.906 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=51]
[2021/02/04 11:19:36.907 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.907 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=25] [neededSchemaVersion=28] ["start time"=77.209µs] [phyTblIDs="[49]"] [actionTypes="[16]"]
[2021/02/04 11:19:36.907 +08:00] [INFO] [index.go:506] ["[ddl] run add index job"] [job="ID:52, Type:add index, State:running, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:36.906 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [indexInfo="{\"id\":3,\"idx_name\":{\"O\":\"b\",\"L\":\"b\"},\"tbl_name\":{\"O\":\"\",\"L\":\"\"},\"idx_cols\":[{\"name\":{\"O\":\"b\",\"L\":\"b\"},\"offset\":1,\"length\":-1}],\"state\":0,\"comment\":\"\",\"index_type\":1,\"is_unique\":false,\"is_primary\":false,\"is_invisible\":false,\"is_global\":false}"]
PASS: admin_test.go:35: testSuite1.TestAdminCheckIndexRange	0.004s
[2021/02/04 11:19:36.908 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:52, Type:add index, State:running, SchemaState:delete only, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.906 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.908 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=8] [schemaVersion=28] [cur_db=test] [sql="create table t(a bigint unsigned primary key, b int, c int, index idx(a, b));"] [user=]
PASS: executor_test.go:518: testSuiteP2.TestAdminShowDDLJobs	0.006s
[2021/02/04 11:19:36.908 +08:00] [INFO] [ddl_worker.go:124] ["[ddl] DDL worker closed"] [worker="worker 11, tp general"] ["take time"=335ns]
[2021/02/04 11:19:36.908 +08:00] [INFO] [ddl_worker.go:124] ["[ddl] DDL worker closed"] [worker="worker 12, tp add index"] ["take time"=263ns]
[2021/02/04 11:19:36.908 +08:00] [INFO] [delete_range.go:131] ["[ddl] closing delRange"]
[2021/02/04 11:19:36.908 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2021/02/04 11:19:36.908 +08:00] [INFO] [ddl.go:396] ["[ddl] DDL closed"] [ID=55833143-81f1-4fc2-89a0-2daf6b65d421] ["take time"=86.551µs]
[2021/02/04 11:19:36.908 +08:00] [INFO] [ddl.go:309] ["[ddl] stop DDL"] [ID=55833143-81f1-4fc2-89a0-2daf6b65d421]
[2021/02/04 11:19:36.908 +08:00] [INFO] [domain.go:439] ["topNSlowQueryLoop exited."]
[2021/02/04 11:19:36.908 +08:00] [INFO] [domain.go:1007] ["handleEvolvePlanTasksLoop exited."]
[2021/02/04 11:19:36.908 +08:00] [INFO] [domain.go:978] ["globalBindHandleWorkerLoop exited."]
[2021/02/04 11:19:36.908 +08:00] [INFO] [domain.go:1036] ["handleTelemetryLoop exited."]
[2021/02/04 11:19:36.908 +08:00] [INFO] [domain.go:914] ["loadPrivilegeInLoop exited."]
[2021/02/04 11:19:36.908 +08:00] [INFO] [domain.go:496] ["topologySyncerKeeper exited."]
[2021/02/04 11:19:36.908 +08:00] [INFO] [domain.go:468] ["infoSyncerKeeper exited."]
[2021/02/04 11:19:36.908 +08:00] [INFO] [domain.go:648] ["domain closed"] ["take time"=191.592µs]
[2021/02/04 11:19:36.908 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:53, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.908 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.908 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:53, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.908 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t(a bigint unsigned primary key, b int, c int, index idx(a, b));"]
[2021/02/04 11:19:36.908 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:52, Type:add index, State:running, SchemaState:write only, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.906 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.909 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 15, tp general"] [job="ID:53, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.908 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.909 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:52, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.906 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.909 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=5] [schemaVersion=25] [cur_db=test] [sql="drop table if exists admin_test2"] [user=]
[2021/02/04 11:19:36.909 +08:00] [INFO] [reorg.go:599] ["[ddl] job get table range"] [jobID=52] [physicalTableID=49] [startHandle=1] [endHandle=1]
[2021/02/04 11:19:36.910 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=5] [schemaVersion=25] [cur_db=test] [sql="create table admin_test2 (c1 int, c2 int, c3 int default 1, index (c1))"] [user=]
[2021/02/04 11:19:36.910 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 15, tp general"] [job="ID:53, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.908 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.910 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:52, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.906 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:422683286414032903"]
[2021/02/04 11:19:36.910 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=53]
[2021/02/04 11:19:36.910 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.910 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:52, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:51, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.91 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.910 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:52, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:51, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.91 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table admin_test2 (c1 int, c2 int, c3 int default 1, index (c1))"]
[2021/02/04 11:19:36.910 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=51] [elementID=49]
[2021/02/04 11:19:36.910 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=28] [neededSchemaVersion=29] ["start time"=123.837µs] [phyTblIDs="[52]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.910 +08:00] [INFO] [index.go:1207] ["[ddl] start to add table index"] [job="ID:52, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:49, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:36.906 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:422683286414032903"] [reorgInfo=CurrElementType:_idx_,CurrElementID:3,StartHandle:1,EndHandle:1,First:false,PhysicalTableID:49]
[2021/02/04 11:19:36.910 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:52, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:51, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.91 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.910 +08:00] [INFO] [backfilling.go:320] ["[ddl] split table range from PD"] [physicalTableID=49] [startHandle=1] [endHandle=1]
[2021/02/04 11:19:36.910 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=25] ["start time"=5.59118ms]
[2021/02/04 11:19:36.910 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=25]
[2021/02/04 11:19:36.910 +08:00] [INFO] [backfilling.go:636] ["[ddl] start backfill workers to reorg record"] [workerCnt=1] [regionCnt=1] [startHandle=1] [endHandle=1]
[2021/02/04 11:19:36.910 +08:00] [INFO] [backfilling.go:288] ["[ddl] backfill worker start"] [workerID=0]
[2021/02/04 11:19:36.910 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=25]
[2021/02/04 11:19:36.910 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=25]
[2021/02/04 11:19:36.910 +08:00] [INFO] [backfilling.go:278] ["[ddl] backfill worker finish task"] [workerID=0] [task="physicalTableID_49_[1,1]"] [addedCount=1] [scanCount=1] [nextHandle=1.next] [takeTime=168.658µs]
[2021/02/04 11:19:36.910 +08:00] [INFO] [backfilling.go:410] ["[ddl] backfill workers successfully processed batch"] [elementType=_idx_] [elementID=3] [totalAddedCount=1] [startHandle=1] [nextHandle=1.next] [batchAddedCount=1] [takeTime=211.84µs]
[2021/02/04 11:19:36.911 +08:00] [INFO] [reorg.go:220] ["[ddl] run reorg job done"] ["handled rows"=1]
[2021/02/04 11:19:36.911 +08:00] [INFO] [backfilling.go:313] ["[ddl] backfill worker exit"] [workerID=0]
[2021/02/04 11:19:36.911 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=6] [index="\"c1\""] [cnt=6]
[2021/02/04 11:19:36.911 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:52, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:51, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.91 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.911 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=52]
[2021/02/04 11:19:36.911 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.911 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=25] [neededSchemaVersion=26] ["start time"=73.942µs] [phyTblIDs="[51]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.911 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 20, tp add index"] [job="ID:52, Type:add index, State:synced, SchemaState:public, SchemaID:1, TableID:49, RowCount:1, ArgLen:0, start time: 2021-02-04 11:19:36.906 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:422683286414032903"]
[2021/02/04 11:19:36.911 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=52]
[2021/02/04 11:19:36.911 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.912 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=29] [neededSchemaVersion=33] ["start time"=527.427µs] [phyTblIDs="[49,49,49,49]"] [actionTypes="[128,128,128,128]"]
[2021/02/04 11:19:36.913 +08:00] [INFO] [db.go:565] ["Closing database"]
[2021/02/04 11:19:36.913 +08:00] [INFO] [db.go:590] ["Memtable flushed"]
[2021/02/04 11:19:36.913 +08:00] [INFO] [db.go:594] ["Compaction finished"]
[2021/02/04 11:19:36.913 +08:00] [INFO] [db.go:613] ["BlobManager finished"]
[2021/02/04 11:19:36.913 +08:00] [INFO] [db.go:617] ["ResourceManager finished"]
[2021/02/04 11:19:36.913 +08:00] [INFO] [db.go:623] ["Waiting for closer"]
[2021/02/04 11:19:36.914 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=29] ["start time"=3.145022ms]
[2021/02/04 11:19:36.914 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=29]
[2021/02/04 11:19:36.914 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=29]
[2021/02/04 11:19:36.914 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=29]
[2021/02/04 11:19:36.915 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=5] [schemaVersion=26] [cur_db=test] [sql="create table admin_test1 (c1 int, c2 int default 1, index (c1))"] [user=]
[2021/02/04 11:19:36.915 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=25] ["start time"=4.479963ms]
[2021/02/04 11:19:36.915 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=25]
[2021/02/04 11:19:36.916 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:54, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:53, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.915 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.916 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:54, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:53, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.915 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table admin_test1 (c1 int, c2 int default 1, index (c1))"]
[2021/02/04 11:19:36.916 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=25]
[2021/02/04 11:19:36.916 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=25]
[2021/02/04 11:19:36.916 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:54, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:53, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.915 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.916 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=33] ["start time"=3.800708ms]
[2021/02/04 11:19:36.916 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=33]
[2021/02/04 11:19:36.916 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=33]
[2021/02/04 11:19:36.916 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=33]
[2021/02/04 11:19:36.916 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:54, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:53, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.915 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.916 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=54]
[2021/02/04 11:19:36.917 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.917 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=26] [neededSchemaVersion=27] ["start time"=137.258µs] [phyTblIDs="[53]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.917 +08:00] [WARN] [2pc.go:1522] ["schemaLeaseChecker is not set for this transaction"] [sessionID=5] [startTS=422683286416130050] [commitTS=422683286416130051]
[2021/02/04 11:19:36.918 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=29] ["start time"=3.823859ms]
[2021/02/04 11:19:36.918 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=29]
[2021/02/04 11:19:36.918 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=29]
[2021/02/04 11:19:36.918 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=29]
[2021/02/04 11:19:36.918 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=t] [cnt=2] [index="\"idx\""] [cnt=2]
[2021/02/04 11:19:36.919 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=9] [schemaVersion=29] [cur_db=test] [sql="drop table t"] [user=]
[2021/02/04 11:19:36.920 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:54, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.919 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.920 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:54, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.919 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table t"]
[2021/02/04 11:19:36.920 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 15, tp general"] [job="ID:54, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.919 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.920 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=25] ["start time"=3.997354ms]
[2021/02/04 11:19:36.920 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=25]
[2021/02/04 11:19:36.920 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 15, tp general"] [job="ID:54, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.919 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.920 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=25]
[2021/02/04 11:19:36.920 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=25]
[2021/02/04 11:19:36.920 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=6] [index="\"c2\""] [cnt=6]
[2021/02/04 11:19:36.921 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 15, tp general"] [job="ID:54, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.919 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.921 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=33] ["start time"=4.289671ms]
[2021/02/04 11:19:36.921 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=33]
[2021/02/04 11:19:36.921 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=25] [cur_db=test] [sql="drop table if exists admin_test"] [user=]
[2021/02/04 11:19:36.921 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=33]
[2021/02/04 11:19:36.921 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=33]
[2021/02/04 11:19:36.921 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:51, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.921 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.921 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=54] [elementID=52]
[2021/02/04 11:19:36.921 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:51, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.921 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table if exists admin_test"]
[2021/02/04 11:19:36.921 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=test_null] [cnt=1] [index="\"PRIMARY\""] [cnt=1]
[2021/02/04 11:19:36.921 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:51, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.921 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.921 +08:00] [INFO] [delete_range.go:106] ["[ddl] add job into delete-range table"] [jobID=54] [jobType="drop table"]
[2021/02/04 11:19:36.922 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 15, tp general"] [job="ID:54, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2021-02-04 11:19:36.919 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.922 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:51, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.921 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.922 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=54]
[2021/02/04 11:19:36.922 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.922 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:51, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.921 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.922 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=29] [neededSchemaVersion=32] ["start time"=64.457µs] [phyTblIDs="[52]"] [actionTypes="[16]"]
PASS: admin_test.go:1029: testSuite1.TestAdminCheckPrimaryIndex	0.012s
[2021/02/04 11:19:36.922 +08:00] [INFO] [ddl_worker.go:124] ["[ddl] DDL worker closed"] [worker="worker 15, tp general"] ["take time"=247ns]
[2021/02/04 11:19:36.922 +08:00] [INFO] [ddl_worker.go:124] ["[ddl] DDL worker closed"] [worker="worker 16, tp add index"] ["take time"=195ns]
[2021/02/04 11:19:36.922 +08:00] [INFO] [delete_range.go:131] ["[ddl] closing delRange"]
[2021/02/04 11:19:36.923 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=27] ["start time"=5.282932ms]
[2021/02/04 11:19:36.923 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=27]
[2021/02/04 11:19:36.923 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=51] [elementID=49]
[2021/02/04 11:19:36.923 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=27]
[2021/02/04 11:19:36.923 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=27]
[2021/02/04 11:19:36.923 +08:00] [INFO] [delete_range.go:106] ["[ddl] add job into delete-range table"] [jobID=51] [jobType="drop table"]
[2021/02/04 11:19:36.923 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:51, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:2, start time: 2021-02-04 11:19:36.921 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.924 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=54] [elementID=52]
[2021/02/04 11:19:36.924 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2021/02/04 11:19:36.924 +08:00] [INFO] [ddl.go:396] ["[ddl] DDL closed"] [ID=b937d96d-a0f7-43e6-abf9-a1974821518d] ["take time"=1.281979ms]
[2021/02/04 11:19:36.924 +08:00] [INFO] [ddl.go:309] ["[ddl] stop DDL"] [ID=b937d96d-a0f7-43e6-abf9-a1974821518d]
[2021/02/04 11:19:36.924 +08:00] [INFO] [domain.go:439] ["topNSlowQueryLoop exited."]
[2021/02/04 11:19:36.924 +08:00] [INFO] [domain.go:978] ["globalBindHandleWorkerLoop exited."]
[2021/02/04 11:19:36.924 +08:00] [INFO] [domain.go:468] ["infoSyncerKeeper exited."]
[2021/02/04 11:19:36.924 +08:00] [INFO] [domain.go:1007] ["handleEvolvePlanTasksLoop exited."]
[2021/02/04 11:19:36.924 +08:00] [INFO] [domain.go:1036] ["handleTelemetryLoop exited."]
[2021/02/04 11:19:36.924 +08:00] [INFO] [domain.go:914] ["loadPrivilegeInLoop exited."]
[2021/02/04 11:19:36.924 +08:00] [INFO] [domain.go:496] ["topologySyncerKeeper exited."]
[2021/02/04 11:19:36.924 +08:00] [INFO] [domain.go:648] ["domain closed"] ["take time"=1.366623ms]
[2021/02/04 11:19:36.924 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=51]
[2021/02/04 11:19:36.924 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.924 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=25] [neededSchemaVersion=28] ["start time"=71.445µs] [phyTblIDs="[49]"] [actionTypes="[16]"]
[2021/02/04 11:19:36.924 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=28] [cur_db=test] [sql="create table admin_test (c1 int, c2 int, c3 int default 1, index (c1), unique key(c2)) partition by hash(c2) partitions 5;"] [user=]
[2021/02/04 11:19:36.925 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:58, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.925 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.925 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:58, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.925 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table admin_test (c1 int, c2 int, c3 int default 1, index (c1), unique key(c2)) partition by hash(c2) partitions 5;"]
[2021/02/04 11:19:36.925 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:58, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.925 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.925 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=51] [elementID=49]
[2021/02/04 11:19:36.926 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:58, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.925 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.926 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=58]
[2021/02/04 11:19:36.926 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.926 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=28] [neededSchemaVersion=29] ["start time"=152.832µs] [phyTblIDs="[52,53,54,55,56,57]"] [actionTypes="[8,8,8,8,8,8]"]
[2021/02/04 11:19:36.926 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=33] ["start time"=4.882451ms]
[2021/02/04 11:19:36.926 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=33]
[2021/02/04 11:19:36.926 +08:00] [WARN] [2pc.go:1522] ["schemaLeaseChecker is not set for this transaction"] [sessionID=1] [startTS=422683286418489349] [commitTS=422683286418489350]
[2021/02/04 11:19:36.926 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=33]
[2021/02/04 11:19:36.926 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=33]
[2021/02/04 11:19:36.927 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=test_null] [cnt=1] [index="\"idx_a\""] [cnt=1]
[2021/02/04 11:19:36.927 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=27] ["start time"=4.223695ms]
[2021/02/04 11:19:36.927 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=27]
[2021/02/04 11:19:36.927 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=27]
[2021/02/04 11:19:36.927 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=27]
[2021/02/04 11:19:36.928 +08:00] [INFO] [db.go:565] ["Closing database"]
[2021/02/04 11:19:36.928 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c1\""] [cnt=3]
[2021/02/04 11:19:36.928 +08:00] [INFO] [db.go:590] ["Memtable flushed"]
[2021/02/04 11:19:36.928 +08:00] [INFO] [db.go:594] ["Compaction finished"]
[2021/02/04 11:19:36.928 +08:00] [INFO] [db.go:613] ["BlobManager finished"]
[2021/02/04 11:19:36.928 +08:00] [INFO] [db.go:617] ["ResourceManager finished"]
[2021/02/04 11:19:36.928 +08:00] [INFO] [db.go:623] ["Waiting for closer"]
[2021/02/04 11:19:36.929 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=10] [schemaVersion=27] [cur_db=test] [sql="drop table admin_test"] [user=]
[2021/02/04 11:19:36.929 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:55, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.929 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.929 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:55, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.929 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table admin_test"]
[2021/02/04 11:19:36.929 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:55, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.929 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.929 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:55, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.929 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.930 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:55, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.929 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.930 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=55] [elementID=49]
[2021/02/04 11:19:36.930 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=33] ["start time"=3.942246ms]
[2021/02/04 11:19:36.931 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=33]
[2021/02/04 11:19:36.931 +08:00] [INFO] [delete_range.go:106] ["[ddl] add job into delete-range table"] [jobID=55] [jobType="drop table"]
[2021/02/04 11:19:36.931 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:55, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:2, start time: 2021-02-04 11:19:36.929 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.931 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=33]
[2021/02/04 11:19:36.931 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=33]
[2021/02/04 11:19:36.931 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=29] ["start time"=4.07176ms]
[2021/02/04 11:19:36.931 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=29]
[2021/02/04 11:19:36.931 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=test_null] [cnt=1] [index="\"b\""] [cnt=1]
[2021/02/04 11:19:36.931 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=29]
[2021/02/04 11:19:36.931 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=29]
[2021/02/04 11:19:36.931 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=55]
[2021/02/04 11:19:36.931 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.931 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=27] [neededSchemaVersion=30] ["start time"=59.944µs] [phyTblIDs="[49]"] [actionTypes="[16]"]
[2021/02/04 11:19:36.931 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=10] [schemaVersion=30] [cur_db=test] [sql="drop table admin_test1"] [user=]
[2021/02/04 11:19:36.931 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=33] [cur_db=test] [sql="drop table if exists test"] [user=]
[2021/02/04 11:19:36.932 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:56, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:53, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.931 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.932 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:56, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:53, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.931 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table admin_test1"]
[2021/02/04 11:19:36.932 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=33] [cur_db=test] [sql="create table test (\n\t\ta time,\n\t\tPRIMARY KEY (a)\n\t\t);"] [user=]
[2021/02/04 11:19:36.932 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:56, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:53, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.931 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.932 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:54, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:53, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.932 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.932 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:54, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:53, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.932 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table test (\n\t\ta time,\n\t\tPRIMARY KEY (a)\n\t\t);"]
[2021/02/04 11:19:36.932 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:56, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:53, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.931 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.932 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:54, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:53, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.932 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.932 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:56, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:53, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.931 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.932 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 19, tp general"] [job="ID:54, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:53, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.932 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.932 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=55] [elementID=49]
[2021/02/04 11:19:36.933 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=54]
[2021/02/04 11:19:36.933 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=56] [elementID=53]
[2021/02/04 11:19:36.933 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.933 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=33] [neededSchemaVersion=34] ["start time"=61.207µs] [phyTblIDs="[53]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.933 +08:00] [INFO] [delete_range.go:106] ["[ddl] add job into delete-range table"] [jobID=56] [jobType="drop table"]
[2021/02/04 11:19:36.933 +08:00] [WARN] [2pc.go:1522] ["schemaLeaseChecker is not set for this transaction"] [sessionID=4] [startTS=422683286420324362] [commitTS=422683286420324363]
[2021/02/04 11:19:36.933 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:56, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:53, RowCount:0, ArgLen:2, start time: 2021-02-04 11:19:36.931 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.933 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=56]
[2021/02/04 11:19:36.933 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.933 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=30] [neededSchemaVersion=33] ["start time"=59.204µs] [phyTblIDs="[53]"] [actionTypes="[16]"]
[2021/02/04 11:19:36.933 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=10] [schemaVersion=33] [cur_db=test] [sql="drop table admin_test2"] [user=]
[2021/02/04 11:19:36.934 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:57, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:51, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.934 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.934 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:57, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:51, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.934 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table admin_test2"]
[2021/02/04 11:19:36.934 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:57, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:51, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.934 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.934 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:57, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:51, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.934 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.935 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:57, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:51, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.934 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.935 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=56] [elementID=53]
[2021/02/04 11:19:36.935 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=57] [elementID=51]
[2021/02/04 11:19:36.935 +08:00] [INFO] [delete_range.go:106] ["[ddl] add job into delete-range table"] [jobID=57] [jobType="drop table"]
[2021/02/04 11:19:36.935 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=29] ["start time"=4.150958ms]
[2021/02/04 11:19:36.935 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=29]
[2021/02/04 11:19:36.936 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:57, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:51, RowCount:0, ArgLen:2, start time: 2021-02-04 11:19:36.934 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.936 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=29]
[2021/02/04 11:19:36.936 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=29]
[2021/02/04 11:19:36.936 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=57]
[2021/02/04 11:19:36.936 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.936 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=6] [index="\"c1\""] [cnt=6]
[2021/02/04 11:19:36.936 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=33] [neededSchemaVersion=36] ["start time"=54.521µs] [phyTblIDs="[51]"] [actionTypes="[16]"]

----------------------------------------------------------------------
PANIC: executor_test.go:352: testSuite3.TestAdmin

... Panic: runtime error: invalid memory address or nil pointer dereference (PC=0x4038ED8)

/usr/local/Cellar/go/1.15.5/libexec/src/runtime/panic.go:969
  in gopanic
/usr/local/Cellar/go/1.15.5/libexec/src/runtime/panic.go:212
  in panicmem
/usr/local/Cellar/go/1.15.5/libexec/src/runtime/signal_unix.go:742
  in sigpanic
executor_test.go:446
  in testSuite3.TestAdmin
/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337
  in Value.Call
/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:850
  in suiteRunner.forkTest.func1
/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739
  in suiteRunner.forkCall.func1
/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374
  in goexit
[2021/02/04 11:19:36.937 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=11] [schemaVersion=36] [cur_db=test] [sql="drop table if exists admin_test_p"] [user=]
[2021/02/04 11:19:36.937 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=11] [schemaVersion=36] [cur_db=test] [sql="create table admin_test_p (c1 int key,c2 int,c3 int,index idx(c2)) partition by hash(c1) partitions 4"] [user=]
[2021/02/04 11:19:36.937 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=57] [elementID=51]
[2021/02/04 11:19:36.937 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:63, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.937 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.937 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:63, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.937 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table admin_test_p (c1 int key,c2 int,c3 int,index idx(c2)) partition by hash(c1) partitions 4"]
[2021/02/04 11:19:36.938 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:63, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.937 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.938 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=34] ["start time"=5.091848ms]
[2021/02/04 11:19:36.938 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=34]
[2021/02/04 11:19:36.939 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:63, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.937 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.939 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=34]
[2021/02/04 11:19:36.939 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=34]
[2021/02/04 11:19:36.939 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=63]
[2021/02/04 11:19:36.939 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.939 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=36] [neededSchemaVersion=37] ["start time"=190.518µs] [phyTblIDs="[58,59,60,61,62]"] [actionTypes="[8,8,8,8,8]"]
[2021/02/04 11:19:36.941 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=29] ["start time"=4.106896ms]
[2021/02/04 11:19:36.941 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=29]
[2021/02/04 11:19:36.941 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=29]
[2021/02/04 11:19:36.941 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=29]
[2021/02/04 11:19:36.943 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=34] ["start time"=3.834283ms]
[2021/02/04 11:19:36.943 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=34]
[2021/02/04 11:19:36.943 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=34]
[2021/02/04 11:19:36.943 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=34]
[2021/02/04 11:19:36.943 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=test] [cnt=1] [index="\"PRIMARY\""] [cnt=1]
[2021/02/04 11:19:36.943 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=3.71358ms]
[2021/02/04 11:19:36.943 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=34] [cur_db=test] [sql="drop table if exists test"] [user=]
[2021/02/04 11:19:36.943 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.944 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:55, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:53, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.943 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.944 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:55, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:53, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.943 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table if exists test"]
[2021/02/04 11:19:36.944 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.944 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.944 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:55, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:53, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.943 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.944 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:55, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:53, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.943 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.944 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:55, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:53, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.943 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.945 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=55] [elementID=53]
[2021/02/04 11:19:36.945 +08:00] [INFO] [delete_range.go:106] ["[ddl] add job into delete-range table"] [jobID=55] [jobType="drop table"]
[2021/02/04 11:19:36.946 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 19, tp general"] [job="ID:55, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:53, RowCount:0, ArgLen:2, start time: 2021-02-04 11:19:36.943 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.946 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=29] ["start time"=4.16135ms]
[2021/02/04 11:19:36.946 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=29]
[2021/02/04 11:19:36.946 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=55]
[2021/02/04 11:19:36.946 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.946 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=34] [neededSchemaVersion=37] ["start time"=47.783µs] [phyTblIDs="[53]"] [actionTypes="[16]"]
[2021/02/04 11:19:36.946 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=29]
[2021/02/04 11:19:36.946 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=29]
[2021/02/04 11:19:36.946 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=37] [cur_db=test] [sql="CREATE TABLE test (  a decimal, PRIMARY KEY (a));"] [user=]
[2021/02/04 11:19:36.946 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=6] [index="\"c2\""] [cnt=6]
[2021/02/04 11:19:36.947 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:57, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.946 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.947 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:57, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.946 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE test (  a decimal, PRIMARY KEY (a));"]
[2021/02/04 11:19:36.947 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:57, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.946 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.947 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=29] [cur_db=test] [sql="drop table if exists admin_test"] [user=]
[2021/02/04 11:19:36.947 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:59, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.947 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.947 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:59, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.947 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table if exists admin_test"]
[2021/02/04 11:19:36.947 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:59, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.947 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.947 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 19, tp general"] [job="ID:57, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.946 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.948 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=57]
[2021/02/04 11:19:36.948 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:59, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.947 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.948 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.948 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=37] [neededSchemaVersion=38] ["start time"=97.882µs] [phyTblIDs="[56]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.948 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=55] [elementID=53]
[2021/02/04 11:19:36.948 +08:00] [WARN] [2pc.go:1522] ["schemaLeaseChecker is not set for this transaction"] [sessionID=4] [startTS=422683286424256522] [commitTS=422683286424256524]
[2021/02/04 11:19:36.948 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:59, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:52, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.947 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.949 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=59] [elementID=53]
[2021/02/04 11:19:36.949 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.866738ms]
[2021/02/04 11:19:36.949 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.949 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=59] [elementID=54]
[2021/02/04 11:19:36.949 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.949 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.949 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=59] [elementID=55]
[2021/02/04 11:19:36.949 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=6]
[2021/02/04 11:19:36.949 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=59] [elementID=56]
[2021/02/04 11:19:36.950 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=59] [elementID=57]
[2021/02/04 11:19:36.950 +08:00] [INFO] [delete_range.go:106] ["[ddl] add job into delete-range table"] [jobID=59] [jobType="drop table"]
[2021/02/04 11:19:36.950 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:59, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:52, RowCount:0, ArgLen:2, start time: 2021-02-04 11:19:36.947 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.951 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=59]
[2021/02/04 11:19:36.951 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.951 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=29] [neededSchemaVersion=32] ["start time"=97.121µs] [phyTblIDs="[52,53,54,55,56,57]"] [actionTypes="[16,16,16,16,16,16]"]
[2021/02/04 11:19:36.951 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=1] [schemaVersion=32] [cur_db=test] [sql="create table admin_test (c1 int, c2 int, c3 int default 1, index (c1), unique key(c2)) PARTITION BY RANGE ( c2 ) (\n\t\tPARTITION p0 VALUES LESS THAN (5),\n\t\tPARTITION p1 VALUES LESS THAN (10),\n\t\tPARTITION p2 VALUES LESS THAN (MAXVALUE))"] [user=]
[2021/02/04 11:19:36.952 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:64, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.952 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.952 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:64, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.952 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table admin_test (c1 int, c2 int, c3 int default 1, index (c1), unique key(c2)) PARTITION BY RANGE ( c2 ) (\n\t\tPARTITION p0 VALUES LESS THAN (5),\n\t\tPARTITION p1 VALUES LESS THAN (10),\n\t\tPARTITION p2 VALUES LESS THAN (MAXVALUE))"]
[2021/02/04 11:19:36.952 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=59] [elementID=53]
[2021/02/04 11:19:36.952 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:64, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.952 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.953 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:64, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.952 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.953 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=59] [elementID=54]
[2021/02/04 11:19:36.954 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=64]
[2021/02/04 11:19:36.954 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.954 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=38] ["start time"=5.15798ms]
[2021/02/04 11:19:36.954 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=38]
[2021/02/04 11:19:36.954 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=38]
[2021/02/04 11:19:36.954 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=38]
[2021/02/04 11:19:36.954 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=32] [neededSchemaVersion=33] ["start time"=249.329µs] [phyTblIDs="[60,61,62,63]"] [actionTypes="[8,8,8,8]"]
[2021/02/04 11:19:36.954 +08:00] [WARN] [2pc.go:1522] ["schemaLeaseChecker is not set for this transaction"] [sessionID=1] [startTS=422683286425829380] [commitTS=422683286425829382]
[2021/02/04 11:19:36.955 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=59] [elementID=55]
[2021/02/04 11:19:36.955 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=59] [elementID=56]
[2021/02/04 11:19:36.955 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.920654ms]
[2021/02/04 11:19:36.955 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.956 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.956 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.956 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=59] [elementID=57]
[2021/02/04 11:19:36.958 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=38] ["start time"=4.38333ms]
[2021/02/04 11:19:36.958 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=38]
[2021/02/04 11:19:36.959 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=38]
[2021/02/04 11:19:36.959 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=38]
[2021/02/04 11:19:36.959 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=test] [cnt=1] [index="\"PRIMARY\""] [cnt=1]
[2021/02/04 11:19:36.959 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=33] ["start time"=4.188413ms]
[2021/02/04 11:19:36.959 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=33]
[2021/02/04 11:19:36.959 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=33]
[2021/02/04 11:19:36.959 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=33]
[2021/02/04 11:19:36.959 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=38] [cur_db=test] [sql="drop table if exists test"] [user=]
[2021/02/04 11:19:36.959 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:58, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.959 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.959 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:58, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.959 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table if exists test"]
[2021/02/04 11:19:36.960 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:58, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.959 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.960 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:58, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.959 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.960 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.078414ms]
[2021/02/04 11:19:36.960 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.960 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:58, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:56, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.959 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.960 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.960 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.960 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=5]
[2021/02/04 11:19:36.961 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:36.961 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=58] [elementID=56]
[2021/02/04 11:19:36.961 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=37] [error="[executor:8003]admin_test_p err:[admin:8223]index:<nil> != record:&admin.RecordData{Handle:0, Values:[]types.Datum{types.Datum{k:0x1, decimal:0x0, length:0x0, i:0, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}}}"] [errorVerbose="[executor:8003]admin_test_p err:[admin:8223]index:<nil> != record:&admin.RecordData{Handle:0, Values:[]types.Datum{types.Datum{k:0x1, decimal:0x0, length:0x0, i:0, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}}}\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:147\ngithub.com/pingcap/tidb/executor.(*CheckTableExec).Next\n\t/Users/damn/go/tidb/executor/executor.go:758\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/damn/go/tidb/executor/executor.go:279\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/damn/go/tidb/executor/adapter.go:537\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/damn/go/tidb/executor/adapter.go:418\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/damn/go/tidb/executor/adapter.go:368\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/damn/go/tidb/session/session.go:1632\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1537\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).Exec\n\t/Users/damn/go/tidb/util/testkit/testkit.go:170\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).ExecToErr\n\t/Users/damn/go/tidb/util/testkit/testkit.go:288\ngithub.com/pingcap/tidb/executor_test.(*testSuite3).TestAdminCheckPartitionTableFailed\n\t/Users/damn/go/tidb/executor/admin_test.go:735\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:850\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 11,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:36.961 +08:00] [INFO] [delete_range.go:106] ["[ddl] add job into delete-range table"] [jobID=58] [jobType="drop table"]
[2021/02/04 11:19:36.961 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 19, tp general"] [job="ID:58, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:56, RowCount:0, ArgLen:2, start time: 2021-02-04 11:19:36.959 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.961 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=58]
[2021/02/04 11:19:36.961 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.961 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=38] [neededSchemaVersion=41] ["start time"=129.46µs] [phyTblIDs="[56]"] [actionTypes="[16]"]
[2021/02/04 11:19:36.961 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=41] [cur_db=test] [sql="create table test ( a  TIMESTAMP, primary key(a) );"] [user=]
[2021/02/04 11:19:36.962 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:60, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:59, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.962 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.962 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:60, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:59, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.962 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table test ( a  TIMESTAMP, primary key(a) );"]
[2021/02/04 11:19:36.962 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:60, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:59, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.962 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.963 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 19, tp general"] [job="ID:60, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:59, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.962 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.963 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=58] [elementID=56]
[2021/02/04 11:19:36.963 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=60]
[2021/02/04 11:19:36.963 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.963 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=41] [neededSchemaVersion=42] ["start time"=93.614µs] [phyTblIDs="[59]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.963 +08:00] [WARN] [2pc.go:1522] ["schemaLeaseChecker is not set for this transaction"] [sessionID=4] [startTS=422683286428188681] [commitTS=422683286428188682]
[2021/02/04 11:19:36.965 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=33] ["start time"=5.186521ms]
[2021/02/04 11:19:36.965 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=33]
[2021/02/04 11:19:36.965 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=33]
[2021/02/04 11:19:36.965 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=33]
[2021/02/04 11:19:36.965 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=6] [index="\"c1\""] [cnt=6]
[2021/02/04 11:19:36.966 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.413059ms]
[2021/02/04 11:19:36.966 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.967 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.967 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.968 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=42] ["start time"=4.311194ms]
[2021/02/04 11:19:36.968 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=42]
[2021/02/04 11:19:36.968 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=42]
[2021/02/04 11:19:36.968 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=42]
[2021/02/04 11:19:36.971 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.284728ms]
[2021/02/04 11:19:36.971 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.972 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.972 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.972 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=33] ["start time"=6.263521ms]
[2021/02/04 11:19:36.972 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=33]
[2021/02/04 11:19:36.973 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=6]
[2021/02/04 11:19:36.973 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=33]
[2021/02/04 11:19:36.973 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=33]
[2021/02/04 11:19:36.975 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=42] ["start time"=6.132928ms]
[2021/02/04 11:19:36.975 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=42]
[2021/02/04 11:19:36.975 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=42]
[2021/02/04 11:19:36.975 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=42]
[2021/02/04 11:19:36.976 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=test] [cnt=1] [index="\"PRIMARY\""] [cnt=1]
[2021/02/04 11:19:36.976 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=42] [cur_db=test] [sql="drop table if exists test"] [user=]
[2021/02/04 11:19:36.976 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:61, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:59, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.976 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.976 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:61, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:59, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.976 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table if exists test"]
[2021/02/04 11:19:36.976 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:61, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:59, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.976 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.977 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:61, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:59, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.976 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.977 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:61, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:59, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.976 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.977 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=61] [elementID=59]
[2021/02/04 11:19:36.977 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=33] ["start time"=4.089173ms]
[2021/02/04 11:19:36.977 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=33]
[2021/02/04 11:19:36.978 +08:00] [INFO] [delete_range.go:106] ["[ddl] add job into delete-range table"] [jobID=61] [jobType="drop table"]
[2021/02/04 11:19:36.978 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=33]
[2021/02/04 11:19:36.978 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=33]
[2021/02/04 11:19:36.978 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 19, tp general"] [job="ID:61, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:59, RowCount:0, ArgLen:2, start time: 2021-02-04 11:19:36.976 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.978 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=6] [index="\"c2\""] [cnt=6]
[2021/02/04 11:19:36.978 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=61]
[2021/02/04 11:19:36.978 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.978 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=42] [neededSchemaVersion=45] ["start time"=269.309µs] [phyTblIDs="[59]"] [actionTypes="[16]"]
[2021/02/04 11:19:36.979 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.566583ms]
[2021/02/04 11:19:36.979 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.979 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=45] [cur_db=test] [sql="create table test (\n\t\t      a int not null,\n\t\t      c int not null,\n\t\t      primary key (a, c),\n\t\t      key idx_a (a)) partition by range (c) (\n\t\t      partition p1 values less than (1),\n\t\t      partition p2 values less than (4),\n\t\t      partition p3 values less than (7),\n\t\t      partition p4 values less than (11))"] [user=]
[2021/02/04 11:19:36.979 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=12] [schemaVersion=33] [cur_db=test] [sql="drop table admin_test"] [user=]
[2021/02/04 11:19:36.979 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.979 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.979 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:65, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.979 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:65, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table admin_test"]
[2021/02/04 11:19:36.979 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:65, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.979 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:67, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.979 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:67, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table test (\n\t\t      a int not null,\n\t\t      c int not null,\n\t\t      primary key (a, c),\n\t\t      key idx_a (a)) partition by range (c) (\n\t\t      partition p1 values less than (1),\n\t\t      partition p2 values less than (4),\n\t\t      partition p3 values less than (7),\n\t\t      partition p4 values less than (11))"]
[2021/02/04 11:19:36.979 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:65, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.980 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:67, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.980 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=61] [elementID=59]
[2021/02/04 11:19:36.980 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:65, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:60, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.980 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 19, tp general"] [job="ID:67, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.980 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=65] [elementID=61]
[2021/02/04 11:19:36.981 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=67]
[2021/02/04 11:19:36.981 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.981 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=65] [elementID=62]
[2021/02/04 11:19:36.981 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=65] [elementID=63]
[2021/02/04 11:19:36.981 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=45] [neededSchemaVersion=46] ["start time"=260.552µs] [phyTblIDs="[62,63,64,65,66]"] [actionTypes="[8,8,8,8,8]"]
[2021/02/04 11:19:36.981 +08:00] [WARN] [2pc.go:1522] ["schemaLeaseChecker is not set for this transaction"] [sessionID=4] [startTS=422683286432907270] [commitTS=422683286432907272]
[2021/02/04 11:19:36.981 +08:00] [INFO] [delete_range.go:106] ["[ddl] add job into delete-range table"] [jobID=65] [jobType="drop table"]
[2021/02/04 11:19:36.981 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:65, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:60, RowCount:0, ArgLen:2, start time: 2021-02-04 11:19:36.979 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.982 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=65]
[2021/02/04 11:19:36.982 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.982 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=33] [neededSchemaVersion=36] ["start time"=72.636µs] [phyTblIDs="[60,61,62,63]"] [actionTypes="[16,16,16,16]"]
PASS: admin_test.go:52: testSuite5.TestAdminCheckIndex	0.087s
[2021/02/04 11:19:36.982 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=13] [schemaVersion=36] [cur_db=test] [sql="drop table if exists admin_test"] [user=]
[2021/02/04 11:19:36.982 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=13] [schemaVersion=36] [cur_db=test] [sql="create table admin_test (c1 int, c2 int, c3 varchar(255) default '1', primary key(c1), key(c3), unique key(c2), key(c2, c3))"] [user=]
[2021/02/04 11:19:36.983 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:67, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.983 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:36.983 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:67, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:36.983 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table admin_test (c1 int, c2 int, c3 varchar(255) default '1', primary key(c1), key(c3), unique key(c2), key(c2, c3))"]
[2021/02/04 11:19:36.983 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:67, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.983 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.983 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=65] [elementID=61]
[2021/02/04 11:19:36.984 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.497654ms]
[2021/02/04 11:19:36.984 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.984 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.984 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.984 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:67, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:36.983 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:36.984 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=5]
[2021/02/04 11:19:36.984 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:36.984 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=37] [error="[executor:8003]admin_test_p err:[admin:8223]index:<nil> != record:&admin.RecordData{Handle:1, Values:[]types.Datum{types.Datum{k:0x1, decimal:0x0, length:0x0, i:1, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}}}"] [errorVerbose="[executor:8003]admin_test_p err:[admin:8223]index:<nil> != record:&admin.RecordData{Handle:1, Values:[]types.Datum{types.Datum{k:0x1, decimal:0x0, length:0x0, i:1, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}}}\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:147\ngithub.com/pingcap/tidb/executor.(*CheckTableExec).Next\n\t/Users/damn/go/tidb/executor/executor.go:758\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/damn/go/tidb/executor/executor.go:279\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/damn/go/tidb/executor/adapter.go:537\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/damn/go/tidb/executor/adapter.go:418\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/damn/go/tidb/executor/adapter.go:368\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/damn/go/tidb/session/session.go:1632\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1537\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).Exec\n\t/Users/damn/go/tidb/util/testkit/testkit.go:170\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).ExecToErr\n\t/Users/damn/go/tidb/util/testkit/testkit.go:288\ngithub.com/pingcap/tidb/executor_test.(*testSuite3).TestAdminCheckPartitionTableFailed\n\t/Users/damn/go/tidb/executor/admin_test.go:735\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:850\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 11,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:36.984 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=67]
[2021/02/04 11:19:36.984 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:36.984 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=65] [elementID=62]
[2021/02/04 11:19:36.985 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=36] [neededSchemaVersion=37] ["start time"=147.577µs] [phyTblIDs="[66]"] [actionTypes="[8]"]
[2021/02/04 11:19:36.986 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=65] [elementID=63]
[2021/02/04 11:19:36.988 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=46] ["start time"=4.482949ms]
[2021/02/04 11:19:36.988 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=46]
[2021/02/04 11:19:36.989 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=46]
[2021/02/04 11:19:36.989 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=46]
[2021/02/04 11:19:36.989 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.168353ms]
[2021/02/04 11:19:36.989 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.989 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.989 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.989 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=3.689713ms]
[2021/02/04 11:19:36.989 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.989 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.989 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.993 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=46] ["start time"=3.950164ms]
[2021/02/04 11:19:36.993 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=46]
[2021/02/04 11:19:36.993 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=46]
[2021/02/04 11:19:36.993 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=46]
[2021/02/04 11:19:36.993 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.126148ms]
[2021/02/04 11:19:36.993 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.993 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=test] [cnt=10] [index="\"PRIMARY\""] [cnt=10]
[2021/02/04 11:19:36.993 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.005266ms]
[2021/02/04 11:19:36.993 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.994 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.994 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.994 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.994 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.994 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=7] [index="\"c3\""] [cnt=7]
[2021/02/04 11:19:36.994 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=6]
[2021/02/04 11:19:36.998 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.128453ms]
[2021/02/04 11:19:36.998 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.998 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=46] ["start time"=4.712328ms]
[2021/02/04 11:19:36.998 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=46]
[2021/02/04 11:19:36.998 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.998 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:36.998 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=46]
[2021/02/04 11:19:36.998 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=46]
[2021/02/04 11:19:36.999 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=7] [index="\"c2\""] [cnt=6]
[2021/02/04 11:19:36.999 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:36.999 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=test] [cnt=10] [index="\"idx_a\""] [cnt=10]
[2021/02/04 11:19:36.999 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=37] [error="[executor:8003]admin_test err:[admin:8223]index:<nil> != record:&admin.RecordData{Handle:-1, Values:[]types.Datum{types.Datum{k:0x1, decimal:0x0, length:0x0, i:-10, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}}}"] [errorVerbose="[executor:8003]admin_test err:[admin:8223]index:<nil> != record:&admin.RecordData{Handle:-1, Values:[]types.Datum{types.Datum{k:0x1, decimal:0x0, length:0x0, i:-10, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}}}\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:147\ngithub.com/pingcap/tidb/executor.(*CheckTableExec).Next\n\t/Users/damn/go/tidb/executor/executor.go:758\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/damn/go/tidb/executor/executor.go:279\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/damn/go/tidb/executor/adapter.go:537\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/damn/go/tidb/executor/adapter.go:418\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/damn/go/tidb/executor/adapter.go:368\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/damn/go/tidb/session/session.go:1632\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1537\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).Exec\n\t/Users/damn/go/tidb/util/testkit/testkit.go:170\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).ExecToErr\n\t/Users/damn/go/tidb/util/testkit/testkit.go:288\ngithub.com/pingcap/tidb/executor_test.(*testSuite5).TestAdminCheckTableFailed\n\t/Users/damn/go/tidb/executor/admin_test.go:831\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:850\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 13,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.000 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=46] [cur_db=test] [sql="drop table if exists test"] [user=]
[2021/02/04 11:19:37.000 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:68, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.000 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:68, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table if exists test"]
[2021/02/04 11:19:37.000 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:68, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.000 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.375287ms]
[2021/02/04 11:19:37.000 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.001 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:68, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.001 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.001 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.001 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:68, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:62, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.002 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=68] [elementID=63]
[2021/02/04 11:19:37.002 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=68] [elementID=64]
[2021/02/04 11:19:37.002 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=68] [elementID=65]
[2021/02/04 11:19:37.003 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=68] [elementID=66]
[2021/02/04 11:19:37.003 +08:00] [INFO] [delete_range.go:106] ["[ddl] add job into delete-range table"] [jobID=68] [jobType="drop table"]
[2021/02/04 11:19:37.003 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 19, tp general"] [job="ID:68, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:62, RowCount:0, ArgLen:2, start time: 2021-02-04 11:19:37 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.004 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=68]
[2021/02/04 11:19:37.004 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.004 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=46] [neededSchemaVersion=49] ["start time"=80.174µs] [phyTblIDs="[62,63,64,65,66]"] [actionTypes="[16,16,16,16,16]"]
[2021/02/04 11:19:37.004 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=49] [cur_db=test] [sql="create table test ( b json , c int as (JSON_EXTRACT(b,'$.d')), index idxc(c));"] [user=]
[2021/02/04 11:19:37.005 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:70, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:37.004 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.005 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:70, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:37.004 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table test ( b json , c int as (JSON_EXTRACT(b,'$.d')), index idxc(c));"]
[2021/02/04 11:19:37.005 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=68] [elementID=63]
[2021/02/04 11:19:37.005 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.95091ms]
[2021/02/04 11:19:37.005 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.005 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:70, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.004 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.005 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.005 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.006 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 19, tp general"] [job="ID:70, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.004 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.006 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=70]
[2021/02/04 11:19:37.006 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.006 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=68] [elementID=64]
[2021/02/04 11:19:37.006 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=49] [neededSchemaVersion=50] ["start time"=137.218µs] [phyTblIDs="[69]"] [actionTypes="[8]"]
[2021/02/04 11:19:37.006 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.244966ms]
[2021/02/04 11:19:37.006 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.007 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.007 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.007 +08:00] [WARN] [2pc.go:1522] ["schemaLeaseChecker is not set for this transaction"] [sessionID=4] [startTS=422683286439460874] [commitTS=422683286439723008]
[2021/02/04 11:19:37.007 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=5]
[2021/02/04 11:19:37.007 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.007 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=37] [error="[executor:8003]admin_test_p err:[admin:8223]index:<nil> != record:&admin.RecordData{Handle:2, Values:[]types.Datum{types.Datum{k:0x1, decimal:0x0, length:0x0, i:2, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}}}"] [errorVerbose="[executor:8003]admin_test_p err:[admin:8223]index:<nil> != record:&admin.RecordData{Handle:2, Values:[]types.Datum{types.Datum{k:0x1, decimal:0x0, length:0x0, i:2, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}}}\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:147\ngithub.com/pingcap/tidb/executor.(*CheckTableExec).Next\n\t/Users/damn/go/tidb/executor/executor.go:758\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/damn/go/tidb/executor/executor.go:279\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/damn/go/tidb/executor/adapter.go:537\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/damn/go/tidb/executor/adapter.go:418\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/damn/go/tidb/executor/adapter.go:368\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/damn/go/tidb/session/session.go:1632\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1537\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).Exec\n\t/Users/damn/go/tidb/util/testkit/testkit.go:170\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).ExecToErr\n\t/Users/damn/go/tidb/util/testkit/testkit.go:288\ngithub.com/pingcap/tidb/executor_test.(*testSuite3).TestAdminCheckPartitionTableFailed\n\t/Users/damn/go/tidb/executor/admin_test.go:735\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:850\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 11,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.008 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=68] [elementID=65]
[2021/02/04 11:19:37.009 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=68] [elementID=66]
[2021/02/04 11:19:37.011 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.566672ms]
[2021/02/04 11:19:37.011 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.011 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.011 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.011 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=7] [index="\"c3\""] [cnt=7]
[2021/02/04 11:19:37.012 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=50] ["start time"=5.360633ms]
[2021/02/04 11:19:37.012 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=50]
[2021/02/04 11:19:37.013 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=50]
[2021/02/04 11:19:37.013 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=50]
[2021/02/04 11:19:37.013 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.379675ms]
[2021/02/04 11:19:37.013 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.013 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.013 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.016 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.360698ms]
[2021/02/04 11:19:37.016 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.016 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.016 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.016 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=7] [index="\"c2\""] [cnt=7]
[2021/02/04 11:19:37.018 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=50] ["start time"=4.563681ms]
[2021/02/04 11:19:37.018 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=50]
[2021/02/04 11:19:37.018 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=50]
[2021/02/04 11:19:37.018 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=50]
[2021/02/04 11:19:37.018 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.40416ms]
[2021/02/04 11:19:37.018 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.018 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=test] [cnt=1] [index="\"idxc\""] [cnt=1]
[2021/02/04 11:19:37.018 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.018 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.018 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=6]
[2021/02/04 11:19:37.019 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=50] [cur_db=test] [sql="drop table if exists t"] [user=]
[2021/02/04 11:19:37.019 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=50] [cur_db=test] [sql="CREATE TABLE t (\n\t  \t\t\tID CHAR(32) NOT NULL,\n\t  \t\t\tname CHAR(32) NOT NULL,\n\t  \t\t\tvalue CHAR(255),\n\t  \t\t\tINDEX indexIDname (ID(8),name(8)));"] [user=]
[2021/02/04 11:19:37.019 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:72, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:71, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:37.019 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.019 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:72, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:71, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:37.019 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE t (\n\t  \t\t\tID CHAR(32) NOT NULL,\n\t  \t\t\tname CHAR(32) NOT NULL,\n\t  \t\t\tvalue CHAR(255),\n\t  \t\t\tINDEX indexIDname (ID(8),name(8)));"]
[2021/02/04 11:19:37.019 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:72, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:71, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.019 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.020 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 19, tp general"] [job="ID:72, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:71, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.019 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.021 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=72]
[2021/02/04 11:19:37.021 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.021 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.431079ms]
[2021/02/04 11:19:37.021 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.021 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=50] [neededSchemaVersion=51] ["start time"=162.221µs] [phyTblIDs="[71]"] [actionTypes="[8]"]
[2021/02/04 11:19:37.021 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.021 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.021 +08:00] [WARN] [2pc.go:1522] ["schemaLeaseChecker is not set for this transaction"] [sessionID=4] [startTS=422683286443393026] [commitTS=422683286443393027]
[2021/02/04 11:19:37.021 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=7] [index="\"c2_2\""] [cnt=7]
[2021/02/04 11:19:37.025 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.480358ms]
[2021/02/04 11:19:37.025 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.025 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.025 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.027 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.467303ms]
[2021/02/04 11:19:37.027 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.027 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=51] ["start time"=4.871898ms]
[2021/02/04 11:19:37.027 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=51]
[2021/02/04 11:19:37.027 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.027 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.027 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=51]
[2021/02/04 11:19:37.027 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=51]
[2021/02/04 11:19:37.030 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.792141ms]
[2021/02/04 11:19:37.030 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.031 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.032 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.032 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=5]
[2021/02/04 11:19:37.033 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.033 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=37] [error="[executor:8003]admin_test_p err:[admin:8223]index:<nil> != record:&admin.RecordData{Handle:3, Values:[]types.Datum{types.Datum{k:0x1, decimal:0x0, length:0x0, i:3, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}}}"] [errorVerbose="[executor:8003]admin_test_p err:[admin:8223]index:<nil> != record:&admin.RecordData{Handle:3, Values:[]types.Datum{types.Datum{k:0x1, decimal:0x0, length:0x0, i:3, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}}}\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:147\ngithub.com/pingcap/tidb/executor.(*CheckTableExec).Next\n\t/Users/damn/go/tidb/executor/executor.go:758\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/damn/go/tidb/executor/executor.go:279\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/damn/go/tidb/executor/adapter.go:537\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/damn/go/tidb/executor/adapter.go:418\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/damn/go/tidb/executor/adapter.go:368\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/damn/go/tidb/session/session.go:1632\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1537\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).Exec\n\t/Users/damn/go/tidb/util/testkit/testkit.go:170\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).ExecToErr\n\t/Users/damn/go/tidb/util/testkit/testkit.go:288\ngithub.com/pingcap/tidb/executor_test.(*testSuite3).TestAdminCheckPartitionTableFailed\n\t/Users/damn/go/tidb/executor/admin_test.go:735\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:850\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 11,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.033 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.67997ms]
[2021/02/04 11:19:37.033 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.033 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.033 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.034 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=7] [index="\"c3\""] [cnt=7]
[2021/02/04 11:19:37.034 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=51] ["start time"=6.280185ms]
[2021/02/04 11:19:37.034 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=51]
[2021/02/04 11:19:37.034 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=51]
[2021/02/04 11:19:37.034 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=51]
[2021/02/04 11:19:37.034 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=t] [cnt=1] [index="\"indexIDname\""] [cnt=1]
[2021/02/04 11:19:37.037 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=3.50953ms]
[2021/02/04 11:19:37.037 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.037 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.037 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.038 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=7] [index="\"c2\""] [cnt=8]
[2021/02/04 11:19:37.038 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.789993ms]
[2021/02/04 11:19:37.038 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.038 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.038 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.038 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.038 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=37] [error="handle 0, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:0, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>"] [errorVerbose="handle 0, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:0, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData.func1\n\t/Users/damn/go/tidb/executor/distsql.go:1077\ngithub.com/pingcap/tidb/kv.(*HandleMap).Range\n\t/Users/damn/go/tidb/kv/key.go:405\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData\n\t/Users/damn/go/tidb/executor/distsql.go:1075\ngithub.com/pingcap/tidb/executor.(*tableWorker).executeTask\n\t/Users/damn/go/tidb/executor/distsql.go:1129\ngithub.com/pingcap/tidb/executor.(*tableWorker).pickAndExecTask\n\t/Users/damn/go/tidb/executor/distsql.go:948\ngithub.com/pingcap/tidb/executor.(*IndexLookUpExecutor).startTableWorker.func1\n\t/Users/damn/go/tidb/executor/distsql.go:595\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 13,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.039 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=51] ["start time"=4.283857ms]
[2021/02/04 11:19:37.039 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=51]
[2021/02/04 11:19:37.039 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=51]
[2021/02/04 11:19:37.039 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=51]
[2021/02/04 11:19:37.043 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=3.775826ms]
[2021/02/04 11:19:37.043 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.043 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.094961ms]
[2021/02/04 11:19:37.043 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.043 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.043 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.043 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.043 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.043 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=6]
[2021/02/04 11:19:37.044 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=51] ["start time"=4.470586ms]
[2021/02/04 11:19:37.044 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=51]
[2021/02/04 11:19:37.044 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=51]
[2021/02/04 11:19:37.044 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=51]
[2021/02/04 11:19:37.045 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=t] [cnt=1] [index="\"indexIDname\""] [cnt=1]
[2021/02/04 11:19:37.045 +08:00] [WARN] [session.go:1522] ["compile SQL failed"] [error="[schema:1146]Table 'mysql.t' doesn't exist"] [errorVerbose="[schema:1146]Table 'mysql.t' doesn't exist\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:156\ngithub.com/pingcap/tidb/infoschema.(*infoSchema).TableByName\n\t/Users/damn/go/tidb/infoschema/infoschema.go:185\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).handleTableName\n\t/Users/damn/go/tidb/planner/core/preprocess.go:1130\ngithub.com/pingcap/tidb/planner/core.(*preprocessor).Leave\n\t/Users/damn/go/tidb/planner/core/preprocess.go:355\ngithub.com/pingcap/parser/ast.(*TableName).Accept\n\t/Users/damn/go/pkg/mod/github.com/pingcap/parser@v0.0.0-20210125075924-ffe0fda947cb/ast/dml.go:382\ngithub.com/pingcap/parser/ast.(*AdminStmt).Accept\n\t/Users/damn/go/pkg/mod/github.com/pingcap/parser@v0.0.0-20210125075924-ffe0fda947cb/ast/misc.go:1976\ngithub.com/pingcap/tidb/planner/core.Preprocess\n\t/Users/damn/go/tidb/planner/core/preprocess.go:89\ngithub.com/pingcap/tidb/executor.(*Compiler).Compile\n\t/Users/damn/go/tidb/executor/compiler.go:57\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1515\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).Exec\n\t/Users/damn/go/tidb/util/testkit/testkit.go:170\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).ExecToErr\n\t/Users/damn/go/tidb/util/testkit/testkit.go:288\ngithub.com/pingcap/tidb/executor_test.(*testSuite8).TestAdminCheckTable\n\t/Users/damn/go/tidb/executor/admin_test.go:982\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:850\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [SQL="admin check table t"]
[2021/02/04 11:19:37.045 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=51] [cur_db=test] [sql="drop table if exists t1"] [user=]
[2021/02/04 11:19:37.045 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=51] [cur_db=test] [sql="CREATE TABLE t1 (c2 YEAR, PRIMARY KEY (c2))"] [user=]
[2021/02/04 11:19:37.046 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:74, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:37.045 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.046 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:74, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:37.045 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE t1 (c2 YEAR, PRIMARY KEY (c2))"]
[2021/02/04 11:19:37.046 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:74, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.045 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.046 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 19, tp general"] [job="ID:74, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.045 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.046 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=74]
[2021/02/04 11:19:37.046 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.047 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=51] [neededSchemaVersion=52] ["start time"=66.821µs] [phyTblIDs="[73]"] [actionTypes="[8]"]
[2021/02/04 11:19:37.047 +08:00] [WARN] [2pc.go:1522] ["schemaLeaseChecker is not set for this transaction"] [sessionID=4] [startTS=422683286450208769] [commitTS=422683286450208770]
[2021/02/04 11:19:37.047 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=52] [cur_db=test] [sql="ALTER TABLE t1 ADD COLUMN c3 TIMESTAMP NULL DEFAULT '1976-08-29 16:28:11'"] [user=]
[2021/02/04 11:19:37.047 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:75, Type:add column, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:3, start time: 2021-02-04 11:19:37.047 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.047 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:75, Type:add column, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:3, start time: 2021-02-04 11:19:37.047 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="ALTER TABLE t1 ADD COLUMN c3 TIMESTAMP NULL DEFAULT '1976-08-29 16:28:11'"]
[2021/02/04 11:19:37.048 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:75, Type:add column, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.047 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.048 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.605635ms]
[2021/02/04 11:19:37.048 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.048 +08:00] [INFO] [column.go:200] ["[ddl] run add column job"] [job="ID:75, Type:add column, State:running, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:3, start time: 2021-02-04 11:19:37.047 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [columnInfo="{\"id\":2,\"name\":{\"O\":\"c3\",\"L\":\"c3\"},\"offset\":1,\"origin_default\":\"1976-08-29 08:28:11\",\"origin_default_bit\":null,\"default\":\"1976-08-29 08:28:11\",\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":7,\"Flag\":128,\"Flen\":19,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null},\"state\":0,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2}"] [offset=1]
[2021/02/04 11:19:37.048 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.048 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:75, Type:add column, State:running, SchemaState:delete only, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.047 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.048 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.048 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=3.891857ms]
[2021/02/04 11:19:37.048 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.048 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=7] [index="\"c3\""] [cnt=7]
[2021/02/04 11:19:37.048 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.048 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.048 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:75, Type:add column, State:running, SchemaState:write only, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.047 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.049 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:75, Type:add column, State:running, SchemaState:write reorganization, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.047 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.049 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 19, tp general"] [job="ID:75, Type:add column, State:synced, SchemaState:public, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.047 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.050 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=75]
[2021/02/04 11:19:37.050 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.050 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=52] [neededSchemaVersion=56] ["start time"=421.938µs] [phyTblIDs="[73,73,73,73]"] [actionTypes="[32,32,32,32]"]
[2021/02/04 11:19:37.050 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=56] [cur_db=test] [sql="ALTER TABLE t1 ADD COLUMN c4 DATE      NULL DEFAULT '1976-08-29'"] [user=]
[2021/02/04 11:19:37.051 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:76, Type:add column, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:3, start time: 2021-02-04 11:19:37.05 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.051 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:76, Type:add column, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:3, start time: 2021-02-04 11:19:37.05 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="ALTER TABLE t1 ADD COLUMN c4 DATE      NULL DEFAULT '1976-08-29'"]
[2021/02/04 11:19:37.051 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:76, Type:add column, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.05 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.051 +08:00] [INFO] [column.go:200] ["[ddl] run add column job"] [job="ID:76, Type:add column, State:running, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:3, start time: 2021-02-04 11:19:37.05 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [columnInfo="{\"id\":3,\"name\":{\"O\":\"c4\",\"L\":\"c4\"},\"offset\":2,\"origin_default\":\"1976-08-29\",\"origin_default_bit\":null,\"default\":\"1976-08-29\",\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":10,\"Flag\":128,\"Flen\":10,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null},\"state\":0,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2}"] [offset=2]
[2021/02/04 11:19:37.051 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:76, Type:add column, State:running, SchemaState:delete only, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.05 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.052 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:76, Type:add column, State:running, SchemaState:write only, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.05 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.052 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:76, Type:add column, State:running, SchemaState:write reorganization, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.05 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.053 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 19, tp general"] [job="ID:76, Type:add column, State:synced, SchemaState:public, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.05 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.053 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=76]
[2021/02/04 11:19:37.053 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.054 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.431323ms]
[2021/02/04 11:19:37.054 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.125958ms]
[2021/02/04 11:19:37.054 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.054 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.054 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.054 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.054 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.054 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=56] [neededSchemaVersion=60] ["start time"=643.199µs] [phyTblIDs="[73,73,73,73]"] [actionTypes="[32,32,32,32]"]
[2021/02/04 11:19:37.054 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.054 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=60] [cur_db=test] [sql="ALTER TABLE t1 ADD COLUMN c5 TIME      NULL DEFAULT '16:28:11'"] [user=]
[2021/02/04 11:19:37.054 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=7] [index="\"c2\""] [cnt=9]
[2021/02/04 11:19:37.054 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=5]
[2021/02/04 11:19:37.054 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.054 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:77, Type:add column, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:3, start time: 2021-02-04 11:19:37.054 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.054 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:77, Type:add column, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:3, start time: 2021-02-04 11:19:37.054 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="ALTER TABLE t1 ADD COLUMN c5 TIME      NULL DEFAULT '16:28:11'"]
[2021/02/04 11:19:37.054 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=37] [error="[executor:8003]admin_test_p err:[admin:8223]index:<nil> != record:&admin.RecordData{Handle:4, Values:[]types.Datum{types.Datum{k:0x1, decimal:0x0, length:0x0, i:4, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}}}"] [errorVerbose="[executor:8003]admin_test_p err:[admin:8223]index:<nil> != record:&admin.RecordData{Handle:4, Values:[]types.Datum{types.Datum{k:0x1, decimal:0x0, length:0x0, i:4, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}}}\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:147\ngithub.com/pingcap/tidb/executor.(*CheckTableExec).Next\n\t/Users/damn/go/tidb/executor/executor.go:758\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/damn/go/tidb/executor/executor.go:279\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/damn/go/tidb/executor/adapter.go:537\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/damn/go/tidb/executor/adapter.go:418\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/damn/go/tidb/executor/adapter.go:368\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/damn/go/tidb/session/session.go:1632\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1537\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).Exec\n\t/Users/damn/go/tidb/util/testkit/testkit.go:170\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).ExecToErr\n\t/Users/damn/go/tidb/util/testkit/testkit.go:288\ngithub.com/pingcap/tidb/executor_test.(*testSuite3).TestAdminCheckPartitionTableFailed\n\t/Users/damn/go/tidb/executor/admin_test.go:735\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:850\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 11,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.055 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:77, Type:add column, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.054 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.055 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.055 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=37] [error="col c2, handle 2, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:13, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:types.Datum{k:0x1, decimal:0x0, length:0x0, i:12, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}"] [errorVerbose="col c2, handle 2, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:13, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:types.Datum{k:0x1, decimal:0x0, length:0x0, i:12, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData\n\t/Users/damn/go/tidb/executor/distsql.go:1109\ngithub.com/pingcap/tidb/executor.(*tableWorker).executeTask\n\t/Users/damn/go/tidb/executor/distsql.go:1129\ngithub.com/pingcap/tidb/executor.(*tableWorker).pickAndExecTask\n\t/Users/damn/go/tidb/executor/distsql.go:948\ngithub.com/pingcap/tidb/executor.(*IndexLookUpExecutor).startTableWorker.func1\n\t/Users/damn/go/tidb/executor/distsql.go:595\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 13,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.055 +08:00] [INFO] [column.go:200] ["[ddl] run add column job"] [job="ID:77, Type:add column, State:running, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:3, start time: 2021-02-04 11:19:37.054 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [columnInfo="{\"id\":4,\"name\":{\"O\":\"c5\",\"L\":\"c5\"},\"offset\":3,\"origin_default\":\"16:28:11\",\"origin_default_bit\":null,\"default\":\"16:28:11\",\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":11,\"Flag\":128,\"Flen\":10,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null},\"state\":0,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2}"] [offset=3]
[2021/02/04 11:19:37.055 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:77, Type:add column, State:running, SchemaState:delete only, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.054 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.056 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:77, Type:add column, State:running, SchemaState:write only, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.054 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.056 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:77, Type:add column, State:running, SchemaState:write reorganization, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.054 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.057 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 19, tp general"] [job="ID:77, Type:add column, State:synced, SchemaState:public, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.054 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.057 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=77]
[2021/02/04 11:19:37.057 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.058 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=60] [neededSchemaVersion=64] ["start time"=527.503µs] [phyTblIDs="[73,73,73,73]"] [actionTypes="[32,32,32,32]"]
[2021/02/04 11:19:37.058 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=64] [cur_db=test] [sql="ALTER TABLE t1 ADD COLUMN c6 YEAR      NULL DEFAULT '1976'"] [user=]
[2021/02/04 11:19:37.058 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:78, Type:add column, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:3, start time: 2021-02-04 11:19:37.058 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.058 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:78, Type:add column, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:3, start time: 2021-02-04 11:19:37.058 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="ALTER TABLE t1 ADD COLUMN c6 YEAR      NULL DEFAULT '1976'"]
[2021/02/04 11:19:37.058 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:78, Type:add column, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.058 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.058 +08:00] [INFO] [column.go:200] ["[ddl] run add column job"] [job="ID:78, Type:add column, State:running, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:3, start time: 2021-02-04 11:19:37.058 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [columnInfo="{\"id\":5,\"name\":{\"O\":\"c6\",\"L\":\"c6\"},\"offset\":4,\"origin_default\":\"1976\",\"origin_default_bit\":null,\"default\":\"1976\",\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":13,\"Flag\":96,\"Flen\":4,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null},\"state\":0,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2}"] [offset=4]
[2021/02/04 11:19:37.059 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:78, Type:add column, State:running, SchemaState:delete only, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.058 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.059 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:78, Type:add column, State:running, SchemaState:write only, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.058 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.060 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.731537ms]
[2021/02/04 11:19:37.060 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.060 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:78, Type:add column, State:running, SchemaState:write reorganization, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.058 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.060 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.060 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.061 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 19, tp general"] [job="ID:78, Type:add column, State:synced, SchemaState:public, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.058 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.061 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.525187ms]
[2021/02/04 11:19:37.061 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.061 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.061 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.061 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=78]
[2021/02/04 11:19:37.061 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.062 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=64] [neededSchemaVersion=68] ["start time"=734.339µs] [phyTblIDs="[73,73,73,73]"] [actionTypes="[32,32,32,32]"]
[2021/02/04 11:19:37.062 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=68] [cur_db=test] [sql="ALTER TABLE t1 ADD INDEX idx1 (c2, c3,c4,c5,c6)"] [user=]
[2021/02/04 11:19:37.062 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:79, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:37.062 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.062 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:79, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:37.062 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="ALTER TABLE t1 ADD INDEX idx1 (c2, c3,c4,c5,c6)"]
[2021/02/04 11:19:37.062 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:79, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.062 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.063 +08:00] [INFO] [index.go:506] ["[ddl] run add index job"] [job="ID:79, Type:add index, State:running, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:37.062 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [indexInfo="{\"id\":2,\"idx_name\":{\"O\":\"idx1\",\"L\":\"idx1\"},\"tbl_name\":{\"O\":\"\",\"L\":\"\"},\"idx_cols\":[{\"name\":{\"O\":\"c2\",\"L\":\"c2\"},\"offset\":0,\"length\":-1},{\"name\":{\"O\":\"c3\",\"L\":\"c3\"},\"offset\":1,\"length\":-1},{\"name\":{\"O\":\"c4\",\"L\":\"c4\"},\"offset\":2,\"length\":-1},{\"name\":{\"O\":\"c5\",\"L\":\"c5\"},\"offset\":3,\"length\":-1},{\"name\":{\"O\":\"c6\",\"L\":\"c6\"},\"offset\":4,\"length\":-1}],\"state\":0,\"comment\":\"\",\"index_type\":1,\"is_unique\":false,\"is_primary\":false,\"is_invisible\":false,\"is_global\":false}"]
[2021/02/04 11:19:37.063 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:79, Type:add index, State:running, SchemaState:delete only, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.062 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.064 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:79, Type:add index, State:running, SchemaState:write only, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.062 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.064 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:79, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.062 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.065 +08:00] [INFO] [reorg.go:599] ["[ddl] job get table range"] [jobID=79] [physicalTableID=73] [startHandle=1] [endHandle=1]
[2021/02/04 11:19:37.065 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:79, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.062 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:422683286454927360"]
[2021/02/04 11:19:37.065 +08:00] [INFO] [index.go:1207] ["[ddl] start to add table index"] [job="ID:79, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:73, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:37.062 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:422683286454927360"] [reorgInfo=CurrElementType:_idx_,CurrElementID:2,StartHandle:1,EndHandle:1,First:false,PhysicalTableID:73]
[2021/02/04 11:19:37.066 +08:00] [INFO] [backfilling.go:320] ["[ddl] split table range from PD"] [physicalTableID=73] [startHandle=1] [endHandle=1]
[2021/02/04 11:19:37.066 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.478595ms]
[2021/02/04 11:19:37.066 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.066 +08:00] [INFO] [backfilling.go:636] ["[ddl] start backfill workers to reorg record"] [workerCnt=1] [regionCnt=1] [startHandle=1] [endHandle=1]
[2021/02/04 11:19:37.066 +08:00] [INFO] [backfilling.go:288] ["[ddl] backfill worker start"] [workerID=0]
[2021/02/04 11:19:37.066 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.066 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.066 +08:00] [INFO] [backfilling.go:278] ["[ddl] backfill worker finish task"] [workerID=0] [task="physicalTableID_73_[1,1]"] [addedCount=1] [scanCount=1] [nextHandle=1.next] [takeTime=256.84µs]
[2021/02/04 11:19:37.066 +08:00] [INFO] [backfilling.go:410] ["[ddl] backfill workers successfully processed batch"] [elementType=_idx_] [elementID=2] [totalAddedCount=1] [startHandle=1] [nextHandle=1.next] [batchAddedCount=1] [takeTime=323.266µs]
[2021/02/04 11:19:37.066 +08:00] [INFO] [backfilling.go:313] ["[ddl] backfill worker exit"] [workerID=0]
[2021/02/04 11:19:37.066 +08:00] [INFO] [reorg.go:220] ["[ddl] run reorg job done"] ["handled rows"=1]
[2021/02/04 11:19:37.066 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=6]
[2021/02/04 11:19:37.067 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.544157ms]
[2021/02/04 11:19:37.067 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.067 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.067 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.067 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=7] [index="\"c3\""] [cnt=7]
[2021/02/04 11:19:37.067 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 20, tp add index"] [job="ID:79, Type:add index, State:synced, SchemaState:public, SchemaID:1, TableID:73, RowCount:1, ArgLen:0, start time: 2021-02-04 11:19:37.062 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:422683286454927360"]
[2021/02/04 11:19:37.068 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=79]
[2021/02/04 11:19:37.068 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.068 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=68] [neededSchemaVersion=72] ["start time"=643.965µs] [phyTblIDs="[73,73,73,73]"] [actionTypes="[128,128,128,128]"]
[2021/02/04 11:19:37.069 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=72] [cur_db=test] [sql="ALTER TABLE t1 ADD INDEX idx2 (c2)"] [user=]
[2021/02/04 11:19:37.069 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:80, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:37.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.069 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:80, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:37.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="ALTER TABLE t1 ADD INDEX idx2 (c2)"]
[2021/02/04 11:19:37.069 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:80, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.069 +08:00] [INFO] [index.go:506] ["[ddl] run add index job"] [job="ID:80, Type:add index, State:running, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:37.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [indexInfo="{\"id\":3,\"idx_name\":{\"O\":\"idx2\",\"L\":\"idx2\"},\"tbl_name\":{\"O\":\"\",\"L\":\"\"},\"idx_cols\":[{\"name\":{\"O\":\"c2\",\"L\":\"c2\"},\"offset\":0,\"length\":-1}],\"state\":0,\"comment\":\"\",\"index_type\":1,\"is_unique\":false,\"is_primary\":false,\"is_invisible\":false,\"is_global\":false}"]
[2021/02/04 11:19:37.070 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:80, Type:add index, State:running, SchemaState:delete only, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.070 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:80, Type:add index, State:running, SchemaState:write only, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.071 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:80, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.071 +08:00] [INFO] [reorg.go:599] ["[ddl] job get table range"] [jobID=80] [physicalTableID=73] [startHandle=1] [endHandle=1]
[2021/02/04 11:19:37.072 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:80, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:422683286456500226"]
[2021/02/04 11:19:37.072 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.760631ms]
[2021/02/04 11:19:37.072 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.072 +08:00] [INFO] [index.go:1207] ["[ddl] start to add table index"] [job="ID:80, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:73, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:37.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:422683286456500226"] [reorgInfo=CurrElementType:_idx_,CurrElementID:3,StartHandle:1,EndHandle:1,First:false,PhysicalTableID:73]
[2021/02/04 11:19:37.072 +08:00] [INFO] [backfilling.go:320] ["[ddl] split table range from PD"] [physicalTableID=73] [startHandle=1] [endHandle=1]
[2021/02/04 11:19:37.072 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.072 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.073 +08:00] [INFO] [backfilling.go:636] ["[ddl] start backfill workers to reorg record"] [workerCnt=1] [regionCnt=1] [startHandle=1] [endHandle=1]
[2021/02/04 11:19:37.073 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=7] [index="\"c2\""] [cnt=7]
[2021/02/04 11:19:37.073 +08:00] [INFO] [backfilling.go:288] ["[ddl] backfill worker start"] [workerID=0]
[2021/02/04 11:19:37.073 +08:00] [INFO] [backfilling.go:278] ["[ddl] backfill worker finish task"] [workerID=0] [task="physicalTableID_73_[1,1]"] [addedCount=1] [scanCount=1] [nextHandle=1.next] [takeTime=216.757µs]
[2021/02/04 11:19:37.073 +08:00] [INFO] [backfilling.go:410] ["[ddl] backfill workers successfully processed batch"] [elementType=_idx_] [elementID=3] [totalAddedCount=1] [startHandle=1] [nextHandle=1.next] [batchAddedCount=1] [takeTime=260.569µs]
[2021/02/04 11:19:37.073 +08:00] [INFO] [reorg.go:220] ["[ddl] run reorg job done"] ["handled rows"=1]
[2021/02/04 11:19:37.073 +08:00] [INFO] [backfilling.go:313] ["[ddl] backfill worker exit"] [workerID=0]
[2021/02/04 11:19:37.073 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.575187ms]
[2021/02/04 11:19:37.073 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.073 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.073 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.074 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 20, tp add index"] [job="ID:80, Type:add index, State:synced, SchemaState:public, SchemaID:1, TableID:73, RowCount:1, ArgLen:0, start time: 2021-02-04 11:19:37.069 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:422683286456500226"]
[2021/02/04 11:19:37.074 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=80]
[2021/02/04 11:19:37.074 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.075 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=72] [neededSchemaVersion=76] ["start time"=806.757µs] [phyTblIDs="[73,73,73,73]"] [actionTypes="[128,128,128,128]"]
[2021/02/04 11:19:37.075 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=76] [cur_db=test] [sql="ALTER TABLE t1 ADD INDEX idx3 (c3)"] [user=]
[2021/02/04 11:19:37.075 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:81, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:37.075 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.075 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:81, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:37.075 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="ALTER TABLE t1 ADD INDEX idx3 (c3)"]
[2021/02/04 11:19:37.075 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:81, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.075 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.076 +08:00] [INFO] [index.go:506] ["[ddl] run add index job"] [job="ID:81, Type:add index, State:running, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:37.075 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [indexInfo="{\"id\":4,\"idx_name\":{\"O\":\"idx3\",\"L\":\"idx3\"},\"tbl_name\":{\"O\":\"\",\"L\":\"\"},\"idx_cols\":[{\"name\":{\"O\":\"c3\",\"L\":\"c3\"},\"offset\":1,\"length\":-1}],\"state\":0,\"comment\":\"\",\"index_type\":1,\"is_unique\":false,\"is_primary\":false,\"is_invisible\":false,\"is_global\":false}"]
[2021/02/04 11:19:37.076 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:81, Type:add index, State:running, SchemaState:delete only, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.075 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.077 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:81, Type:add index, State:running, SchemaState:write only, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.075 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.078 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:81, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.075 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.078 +08:00] [INFO] [reorg.go:599] ["[ddl] job get table range"] [jobID=81] [physicalTableID=73] [startHandle=1] [endHandle=1]
[2021/02/04 11:19:37.078 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.815292ms]
[2021/02/04 11:19:37.078 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.079 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:81, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.075 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:422683286458335232"]
[2021/02/04 11:19:37.079 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.159361ms]
[2021/02/04 11:19:37.079 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.079 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.079 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.079 +08:00] [INFO] [index.go:1207] ["[ddl] start to add table index"] [job="ID:81, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:73, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:37.075 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:422683286458335232"] [reorgInfo=CurrElementType:_idx_,CurrElementID:4,StartHandle:1,EndHandle:1,First:false,PhysicalTableID:73]
[2021/02/04 11:19:37.079 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.079 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=7] [index="\"c2_2\""] [cnt=7]
[2021/02/04 11:19:37.079 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.079 +08:00] [INFO] [backfilling.go:320] ["[ddl] split table range from PD"] [physicalTableID=73] [startHandle=1] [endHandle=1]
[2021/02/04 11:19:37.079 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=5]
[2021/02/04 11:19:37.079 +08:00] [INFO] [backfilling.go:636] ["[ddl] start backfill workers to reorg record"] [workerCnt=1] [regionCnt=1] [startHandle=1] [endHandle=1]
[2021/02/04 11:19:37.079 +08:00] [INFO] [backfilling.go:288] ["[ddl] backfill worker start"] [workerID=0]
[2021/02/04 11:19:37.079 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.079 +08:00] [INFO] [executor.go:774] ["check index handle failed"] [error="col c2, handle 10, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:19, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:types.Datum{k:0x1, decimal:0x0, length:0x0, i:20, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}"] [errorVerbose="col c2, handle 10, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:19, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:types.Datum{k:0x1, decimal:0x0, length:0x0, i:20, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData\n\t/Users/damn/go/tidb/executor/distsql.go:1109\ngithub.com/pingcap/tidb/executor.(*tableWorker).executeTask\n\t/Users/damn/go/tidb/executor/distsql.go:1129\ngithub.com/pingcap/tidb/executor.(*tableWorker).pickAndExecTask\n\t/Users/damn/go/tidb/executor/distsql.go:948\ngithub.com/pingcap/tidb/executor.(*IndexLookUpExecutor).startTableWorker.func1\n\t/Users/damn/go/tidb/executor/distsql.go:595\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"]
[2021/02/04 11:19:37.079 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=37] [error="[executor:8003]admin_test_p err:[admin:8223]index:<nil> != record:&admin.RecordData{Handle:5, Values:[]types.Datum{types.Datum{k:0x1, decimal:0x0, length:0x0, i:5, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}}}"] [errorVerbose="[executor:8003]admin_test_p err:[admin:8223]index:<nil> != record:&admin.RecordData{Handle:5, Values:[]types.Datum{types.Datum{k:0x1, decimal:0x0, length:0x0, i:5, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}}}\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:147\ngithub.com/pingcap/tidb/executor.(*CheckTableExec).Next\n\t/Users/damn/go/tidb/executor/executor.go:758\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/damn/go/tidb/executor/executor.go:279\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/damn/go/tidb/executor/adapter.go:537\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/damn/go/tidb/executor/adapter.go:418\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/damn/go/tidb/executor/adapter.go:368\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/damn/go/tidb/session/session.go:1632\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1537\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).Exec\n\t/Users/damn/go/tidb/util/testkit/testkit.go:170\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).ExecToErr\n\t/Users/damn/go/tidb/util/testkit/testkit.go:288\ngithub.com/pingcap/tidb/executor_test.(*testSuite3).TestAdminCheckPartitionTableFailed\n\t/Users/damn/go/tidb/executor/admin_test.go:735\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:850\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 11,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.080 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.080 +08:00] [INFO] [backfilling.go:278] ["[ddl] backfill worker finish task"] [workerID=0] [task="physicalTableID_73_[1,1]"] [addedCount=1] [scanCount=1] [nextHandle=1.next] [takeTime=271.514µs]
[2021/02/04 11:19:37.080 +08:00] [INFO] [backfilling.go:410] ["[ddl] backfill workers successfully processed batch"] [elementType=_idx_] [elementID=4] [totalAddedCount=1] [startHandle=1] [nextHandle=1.next] [batchAddedCount=1] [takeTime=337.874µs]
[2021/02/04 11:19:37.080 +08:00] [INFO] [reorg.go:220] ["[ddl] run reorg job done"] ["handled rows"=1]
[2021/02/04 11:19:37.080 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=37] [error="col c2, handle 10, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:19, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:types.Datum{k:0x1, decimal:0x0, length:0x0, i:20, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}"] [errorVerbose="col c2, handle 10, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:19, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:types.Datum{k:0x1, decimal:0x0, length:0x0, i:20, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData\n\t/Users/damn/go/tidb/executor/distsql.go:1109\ngithub.com/pingcap/tidb/executor.(*tableWorker).executeTask\n\t/Users/damn/go/tidb/executor/distsql.go:1129\ngithub.com/pingcap/tidb/executor.(*tableWorker).pickAndExecTask\n\t/Users/damn/go/tidb/executor/distsql.go:948\ngithub.com/pingcap/tidb/executor.(*IndexLookUpExecutor).startTableWorker.func1\n\t/Users/damn/go/tidb/executor/distsql.go:595\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 13,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.080 +08:00] [INFO] [backfilling.go:313] ["[ddl] backfill worker exit"] [workerID=0]
[2021/02/04 11:19:37.081 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 20, tp add index"] [job="ID:81, Type:add index, State:synced, SchemaState:public, SchemaID:1, TableID:73, RowCount:1, ArgLen:0, start time: 2021-02-04 11:19:37.075 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:422683286458335232"]
[2021/02/04 11:19:37.081 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=81]
[2021/02/04 11:19:37.081 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.082 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=76] [neededSchemaVersion=80] ["start time"=866.353µs] [phyTblIDs="[73,73,73,73]"] [actionTypes="[128,128,128,128]"]
[2021/02/04 11:19:37.082 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=80] [cur_db=test] [sql="ALTER TABLE t1 ADD INDEX idx4 (c4)"] [user=]
[2021/02/04 11:19:37.082 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:82, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:37.082 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.082 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:82, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:37.082 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="ALTER TABLE t1 ADD INDEX idx4 (c4)"]
[2021/02/04 11:19:37.082 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:82, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.082 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.083 +08:00] [INFO] [index.go:506] ["[ddl] run add index job"] [job="ID:82, Type:add index, State:running, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:37.082 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [indexInfo="{\"id\":5,\"idx_name\":{\"O\":\"idx4\",\"L\":\"idx4\"},\"tbl_name\":{\"O\":\"\",\"L\":\"\"},\"idx_cols\":[{\"name\":{\"O\":\"c4\",\"L\":\"c4\"},\"offset\":2,\"length\":-1}],\"state\":0,\"comment\":\"\",\"index_type\":1,\"is_unique\":false,\"is_primary\":false,\"is_invisible\":false,\"is_global\":false}"]
[2021/02/04 11:19:37.083 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:82, Type:add index, State:running, SchemaState:delete only, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.082 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.084 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:82, Type:add index, State:running, SchemaState:write only, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.082 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.085 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:82, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.082 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.085 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.869561ms]
[2021/02/04 11:19:37.085 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.086 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.462505ms]
[2021/02/04 11:19:37.086 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.086 +08:00] [INFO] [reorg.go:599] ["[ddl] job get table range"] [jobID=82] [physicalTableID=73] [startHandle=1] [endHandle=1]
[2021/02/04 11:19:37.086 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.086 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.086 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.086 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.086 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:82, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.082 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:422683286460170241"]
[2021/02/04 11:19:37.087 +08:00] [INFO] [index.go:1207] ["[ddl] start to add table index"] [job="ID:82, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:73, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:37.082 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:422683286460170241"] [reorgInfo=CurrElementType:_idx_,CurrElementID:5,StartHandle:1,EndHandle:1,First:false,PhysicalTableID:73]
[2021/02/04 11:19:37.087 +08:00] [INFO] [backfilling.go:320] ["[ddl] split table range from PD"] [physicalTableID=73] [startHandle=1] [endHandle=1]
[2021/02/04 11:19:37.087 +08:00] [INFO] [backfilling.go:636] ["[ddl] start backfill workers to reorg record"] [workerCnt=1] [regionCnt=1] [startHandle=1] [endHandle=1]
[2021/02/04 11:19:37.087 +08:00] [INFO] [backfilling.go:288] ["[ddl] backfill worker start"] [workerID=0]
[2021/02/04 11:19:37.088 +08:00] [INFO] [backfilling.go:278] ["[ddl] backfill worker finish task"] [workerID=0] [task="physicalTableID_73_[1,1]"] [addedCount=1] [scanCount=1] [nextHandle=1.next] [takeTime=507.677µs]
[2021/02/04 11:19:37.088 +08:00] [INFO] [backfilling.go:410] ["[ddl] backfill workers successfully processed batch"] [elementType=_idx_] [elementID=5] [totalAddedCount=1] [startHandle=1] [nextHandle=1.next] [batchAddedCount=1] [takeTime=637.222µs]
[2021/02/04 11:19:37.088 +08:00] [INFO] [backfilling.go:313] ["[ddl] backfill worker exit"] [workerID=0]
[2021/02/04 11:19:37.088 +08:00] [INFO] [reorg.go:220] ["[ddl] run reorg job done"] ["handled rows"=1]
[2021/02/04 11:19:37.089 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 20, tp add index"] [job="ID:82, Type:add index, State:synced, SchemaState:public, SchemaID:1, TableID:73, RowCount:1, ArgLen:0, start time: 2021-02-04 11:19:37.082 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:422683286460170241"]
[2021/02/04 11:19:37.090 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=82]
[2021/02/04 11:19:37.090 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.091 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=80] [neededSchemaVersion=84] ["start time"=649.677µs] [phyTblIDs="[73,73,73,73]"] [actionTypes="[128,128,128,128]"]
[2021/02/04 11:19:37.091 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=84] [cur_db=test] [sql="ALTER TABLE t1 ADD INDEX idx5 (c5)"] [user=]
[2021/02/04 11:19:37.091 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:83, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:37.091 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.091 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:83, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:37.091 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="ALTER TABLE t1 ADD INDEX idx5 (c5)"]
[2021/02/04 11:19:37.091 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:83, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.091 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.091 +08:00] [INFO] [index.go:506] ["[ddl] run add index job"] [job="ID:83, Type:add index, State:running, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:37.091 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [indexInfo="{\"id\":6,\"idx_name\":{\"O\":\"idx5\",\"L\":\"idx5\"},\"tbl_name\":{\"O\":\"\",\"L\":\"\"},\"idx_cols\":[{\"name\":{\"O\":\"c5\",\"L\":\"c5\"},\"offset\":3,\"length\":-1}],\"state\":0,\"comment\":\"\",\"index_type\":1,\"is_unique\":false,\"is_primary\":false,\"is_invisible\":false,\"is_global\":false}"]
[2021/02/04 11:19:37.092 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.142064ms]
[2021/02/04 11:19:37.092 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.092 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.273625ms]
[2021/02/04 11:19:37.092 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.092 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:83, Type:add index, State:running, SchemaState:delete only, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.091 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.092 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.092 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.092 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.092 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.092 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=6]
[2021/02/04 11:19:37.092 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=7] [index="\"c3\""] [cnt=7]
[2021/02/04 11:19:37.092 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:83, Type:add index, State:running, SchemaState:write only, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.091 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.093 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:83, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.091 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.093 +08:00] [INFO] [reorg.go:599] ["[ddl] job get table range"] [jobID=83] [physicalTableID=73] [startHandle=1] [endHandle=1]
[2021/02/04 11:19:37.094 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:83, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.091 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:422683286462267397"]
[2021/02/04 11:19:37.094 +08:00] [INFO] [index.go:1207] ["[ddl] start to add table index"] [job="ID:83, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:73, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:37.091 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:422683286462267397"] [reorgInfo=CurrElementType:_idx_,CurrElementID:6,StartHandle:1,EndHandle:1,First:false,PhysicalTableID:73]
[2021/02/04 11:19:37.094 +08:00] [INFO] [backfilling.go:320] ["[ddl] split table range from PD"] [physicalTableID=73] [startHandle=1] [endHandle=1]
[2021/02/04 11:19:37.094 +08:00] [INFO] [backfilling.go:636] ["[ddl] start backfill workers to reorg record"] [workerCnt=1] [regionCnt=1] [startHandle=1] [endHandle=1]
[2021/02/04 11:19:37.094 +08:00] [INFO] [backfilling.go:288] ["[ddl] backfill worker start"] [workerID=0]
[2021/02/04 11:19:37.095 +08:00] [INFO] [backfilling.go:278] ["[ddl] backfill worker finish task"] [workerID=0] [task="physicalTableID_73_[1,1]"] [addedCount=1] [scanCount=1] [nextHandle=1.next] [takeTime=215.786µs]
[2021/02/04 11:19:37.095 +08:00] [INFO] [backfilling.go:410] ["[ddl] backfill workers successfully processed batch"] [elementType=_idx_] [elementID=6] [totalAddedCount=1] [startHandle=1] [nextHandle=1.next] [batchAddedCount=1] [takeTime=272.585µs]
[2021/02/04 11:19:37.095 +08:00] [INFO] [reorg.go:220] ["[ddl] run reorg job done"] ["handled rows"=1]
[2021/02/04 11:19:37.095 +08:00] [INFO] [backfilling.go:313] ["[ddl] backfill worker exit"] [workerID=0]
[2021/02/04 11:19:37.095 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 20, tp add index"] [job="ID:83, Type:add index, State:synced, SchemaState:public, SchemaID:1, TableID:73, RowCount:1, ArgLen:0, start time: 2021-02-04 11:19:37.091 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:422683286462267397"]
[2021/02/04 11:19:37.096 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=83]
[2021/02/04 11:19:37.096 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.096 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=3.659001ms]
[2021/02/04 11:19:37.096 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.096 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.096 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.096 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=7] [index="\"c2\""] [cnt=7]
[2021/02/04 11:19:37.097 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=84] [neededSchemaVersion=88] ["start time"=900.057µs] [phyTblIDs="[73,73,73,73]"] [actionTypes="[128,128,128,128]"]
[2021/02/04 11:19:37.097 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=88] [cur_db=test] [sql="ALTER TABLE t1 ADD INDEX idx6 (c6)"] [user=]
[2021/02/04 11:19:37.097 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:84, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:37.097 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.097 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:84, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:37.097 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="ALTER TABLE t1 ADD INDEX idx6 (c6)"]
[2021/02/04 11:19:37.097 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.203134ms]
[2021/02/04 11:19:37.097 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.098 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:84, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.097 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.098 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.098 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.098 +08:00] [INFO] [index.go:506] ["[ddl] run add index job"] [job="ID:84, Type:add index, State:running, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:37.097 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [indexInfo="{\"id\":7,\"idx_name\":{\"O\":\"idx6\",\"L\":\"idx6\"},\"tbl_name\":{\"O\":\"\",\"L\":\"\"},\"idx_cols\":[{\"name\":{\"O\":\"c6\",\"L\":\"c6\"},\"offset\":4,\"length\":-1}],\"state\":0,\"comment\":\"\",\"index_type\":1,\"is_unique\":false,\"is_primary\":false,\"is_invisible\":false,\"is_global\":false}"]
[2021/02/04 11:19:37.098 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:84, Type:add index, State:running, SchemaState:delete only, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.097 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.099 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:84, Type:add index, State:running, SchemaState:write only, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.097 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.099 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:84, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.097 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.100 +08:00] [INFO] [reorg.go:599] ["[ddl] job get table range"] [jobID=84] [physicalTableID=73] [startHandle=1] [endHandle=1]
[2021/02/04 11:19:37.100 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:84, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.097 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:422683286464102400"]
[2021/02/04 11:19:37.100 +08:00] [INFO] [index.go:1207] ["[ddl] start to add table index"] [job="ID:84, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:73, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:37.097 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:422683286464102400"] [reorgInfo=CurrElementType:_idx_,CurrElementID:7,StartHandle:1,EndHandle:1,First:false,PhysicalTableID:73]
[2021/02/04 11:19:37.101 +08:00] [INFO] [backfilling.go:320] ["[ddl] split table range from PD"] [physicalTableID=73] [startHandle=1] [endHandle=1]
[2021/02/04 11:19:37.101 +08:00] [INFO] [backfilling.go:636] ["[ddl] start backfill workers to reorg record"] [workerCnt=1] [regionCnt=1] [startHandle=1] [endHandle=1]
[2021/02/04 11:19:37.101 +08:00] [INFO] [backfilling.go:288] ["[ddl] backfill worker start"] [workerID=0]
[2021/02/04 11:19:37.101 +08:00] [INFO] [backfilling.go:278] ["[ddl] backfill worker finish task"] [workerID=0] [task="physicalTableID_73_[1,1]"] [addedCount=1] [scanCount=1] [nextHandle=1.next] [takeTime=261.997µs]
[2021/02/04 11:19:37.101 +08:00] [INFO] [backfilling.go:410] ["[ddl] backfill workers successfully processed batch"] [elementType=_idx_] [elementID=7] [totalAddedCount=1] [startHandle=1] [nextHandle=1.next] [batchAddedCount=1] [takeTime=316.916µs]
[2021/02/04 11:19:37.101 +08:00] [INFO] [reorg.go:220] ["[ddl] run reorg job done"] ["handled rows"=1]
[2021/02/04 11:19:37.101 +08:00] [INFO] [backfilling.go:313] ["[ddl] backfill worker exit"] [workerID=0]
[2021/02/04 11:19:37.102 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 20, tp add index"] [job="ID:84, Type:add index, State:synced, SchemaState:public, SchemaID:1, TableID:73, RowCount:1, ArgLen:0, start time: 2021-02-04 11:19:37.097 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:422683286464102400"]
[2021/02/04 11:19:37.102 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.721985ms]
[2021/02/04 11:19:37.102 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.102 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.408504ms]
[2021/02/04 11:19:37.102 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.102 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.102 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.102 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=84]
[2021/02/04 11:19:37.103 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.103 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.103 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.103 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=7] [index="\"c2_2\""] [cnt=7]
[2021/02/04 11:19:37.103 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=7]
[2021/02/04 11:19:37.103 +08:00] [INFO] [executor.go:774] ["check index handle failed"] [error="col c2, handle 10, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:19, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:types.Datum{k:0x1, decimal:0x0, length:0x0, i:20, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}"] [errorVerbose="col c2, handle 10, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:19, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:types.Datum{k:0x1, decimal:0x0, length:0x0, i:20, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData\n\t/Users/damn/go/tidb/executor/distsql.go:1109\ngithub.com/pingcap/tidb/executor.(*tableWorker).executeTask\n\t/Users/damn/go/tidb/executor/distsql.go:1129\ngithub.com/pingcap/tidb/executor.(*tableWorker).pickAndExecTask\n\t/Users/damn/go/tidb/executor/distsql.go:948\ngithub.com/pingcap/tidb/executor.(*IndexLookUpExecutor).startTableWorker.func1\n\t/Users/damn/go/tidb/executor/distsql.go:595\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"]
[2021/02/04 11:19:37.103 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.103 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.103 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=37] [error="col c2, handle 10, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:19, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:types.Datum{k:0x1, decimal:0x0, length:0x0, i:20, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}"] [errorVerbose="col c2, handle 10, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:19, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:types.Datum{k:0x1, decimal:0x0, length:0x0, i:20, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData\n\t/Users/damn/go/tidb/executor/distsql.go:1109\ngithub.com/pingcap/tidb/executor.(*tableWorker).executeTask\n\t/Users/damn/go/tidb/executor/distsql.go:1129\ngithub.com/pingcap/tidb/executor.(*tableWorker).pickAndExecTask\n\t/Users/damn/go/tidb/executor/distsql.go:948\ngithub.com/pingcap/tidb/executor.(*IndexLookUpExecutor).startTableWorker.func1\n\t/Users/damn/go/tidb/executor/distsql.go:595\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 13,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.103 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=37] [error="handle 8, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:8, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>"] [errorVerbose="handle 8, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:8, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData.func1\n\t/Users/damn/go/tidb/executor/distsql.go:1077\ngithub.com/pingcap/tidb/kv.(*HandleMap).Range\n\t/Users/damn/go/tidb/kv/key.go:405\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData\n\t/Users/damn/go/tidb/executor/distsql.go:1075\ngithub.com/pingcap/tidb/executor.(*tableWorker).executeTask\n\t/Users/damn/go/tidb/executor/distsql.go:1129\ngithub.com/pingcap/tidb/executor.(*tableWorker).pickAndExecTask\n\t/Users/damn/go/tidb/executor/distsql.go:948\ngithub.com/pingcap/tidb/executor.(*IndexLookUpExecutor).startTableWorker.func1\n\t/Users/damn/go/tidb/executor/distsql.go:595\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 11,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.103 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=88] [neededSchemaVersion=92] ["start time"=922.097µs] [phyTblIDs="[73,73,73,73]"] [actionTypes="[128,128,128,128]"]
[2021/02/04 11:19:37.108 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.758115ms]
[2021/02/04 11:19:37.108 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.109 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.109 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.109 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=92] ["start time"=5.505664ms]
[2021/02/04 11:19:37.109 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=92]
[2021/02/04 11:19:37.109 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.854384ms]
[2021/02/04 11:19:37.109 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.110 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=92]
[2021/02/04 11:19:37.110 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=92]
[2021/02/04 11:19:37.110 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.110 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.114 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.346306ms]
[2021/02/04 11:19:37.114 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.115 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=92] ["start time"=4.577751ms]
[2021/02/04 11:19:37.115 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=92]
[2021/02/04 11:19:37.115 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.115 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.115 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=6]
[2021/02/04 11:19:37.115 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=92]
[2021/02/04 11:19:37.115 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=92]
[2021/02/04 11:19:37.115 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.713661ms]
[2021/02/04 11:19:37.115 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.115 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=t1] [cnt=1] [index="\"PRIMARY\""] [cnt=1]
[2021/02/04 11:19:37.115 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.115 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.116 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=7] [index="\"c3\""] [cnt=7]
[2021/02/04 11:19:37.120 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.469824ms]
[2021/02/04 11:19:37.120 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.121 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.121 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.121 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=7] [index="\"c2\""] [cnt=7]
[2021/02/04 11:19:37.121 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=92] ["start time"=5.422675ms]
[2021/02/04 11:19:37.121 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=92]
[2021/02/04 11:19:37.121 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=92]
[2021/02/04 11:19:37.121 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=92]
[2021/02/04 11:19:37.121 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=t1] [cnt=1] [index="\"idx1\""] [cnt=1]
[2021/02/04 11:19:37.122 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.490942ms]
[2021/02/04 11:19:37.122 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.122 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.122 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.126 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.462084ms]
[2021/02/04 11:19:37.126 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.126 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=92] ["start time"=5.040289ms]
[2021/02/04 11:19:37.127 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=92]
[2021/02/04 11:19:37.127 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.127 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.127 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=92]
[2021/02/04 11:19:37.127 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=92]
[2021/02/04 11:19:37.127 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=7] [index="\"c2_2\""] [cnt=7]
[2021/02/04 11:19:37.127 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=t1] [cnt=1] [index="\"idx2\""] [cnt=1]
[2021/02/04 11:19:37.128 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.59207ms]
[2021/02/04 11:19:37.128 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.128 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=14] [schemaVersion=37] [cur_db=test] [sql="drop table admin_test"] [user=]
[2021/02/04 11:19:37.128 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.128 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.129 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=7]
[2021/02/04 11:19:37.129 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:68, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.128 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.129 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:68, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.128 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table admin_test"]
[2021/02/04 11:19:37.129 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:68, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.128 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.129 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:68, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.128 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.129 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.129 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=37] [error="handle 9, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:9, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>"] [errorVerbose="handle 9, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:9, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData.func1\n\t/Users/damn/go/tidb/executor/distsql.go:1077\ngithub.com/pingcap/tidb/kv.(*HandleMap).Range\n\t/Users/damn/go/tidb/kv/key.go:405\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData\n\t/Users/damn/go/tidb/executor/distsql.go:1075\ngithub.com/pingcap/tidb/executor.(*tableWorker).executeTask\n\t/Users/damn/go/tidb/executor/distsql.go:1129\ngithub.com/pingcap/tidb/executor.(*tableWorker).pickAndExecTask\n\t/Users/damn/go/tidb/executor/distsql.go:948\ngithub.com/pingcap/tidb/executor.(*IndexLookUpExecutor).startTableWorker.func1\n\t/Users/damn/go/tidb/executor/distsql.go:595\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 11,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.130 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:68, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:66, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.128 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.130 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=68] [elementID=66]
[2021/02/04 11:19:37.131 +08:00] [INFO] [delete_range.go:106] ["[ddl] add job into delete-range table"] [jobID=68] [jobType="drop table"]
[2021/02/04 11:19:37.131 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:68, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:66, RowCount:0, ArgLen:2, start time: 2021-02-04 11:19:37.128 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.132 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=68]
[2021/02/04 11:19:37.132 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.132 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=37] [neededSchemaVersion=40] ["start time"=56.486µs] [phyTblIDs="[66]"] [actionTypes="[16]"]
PASS: admin_test.go:800: testSuite5.TestAdminCheckTableFailed	0.146s
[2021/02/04 11:19:37.132 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=15] [schemaVersion=40] [cur_db=test] [sql="drop table if exists admin_t_s"] [user=]
[2021/02/04 11:19:37.132 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=15] [schemaVersion=40] [cur_db=test] [sql="create table admin_t_s (a int, b int, key(a));"] [user=]
[2021/02/04 11:19:37.133 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:70, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:37.133 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.133 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:70, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:37.133 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table admin_t_s (a int, b int, key(a));"]
[2021/02/04 11:19:37.133 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:70, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.133 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.134 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=92] ["start time"=6.743952ms]
[2021/02/04 11:19:37.134 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=92]
[2021/02/04 11:19:37.134 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=68] [elementID=66]
[2021/02/04 11:19:37.134 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=92]
[2021/02/04 11:19:37.134 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=92]
[2021/02/04 11:19:37.134 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:70, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.133 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.134 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=t1] [cnt=1] [index="\"idx3\""] [cnt=1]
[2021/02/04 11:19:37.135 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=70]
[2021/02/04 11:19:37.135 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.135 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=40] [neededSchemaVersion=41] ["start time"=164.083µs] [phyTblIDs="[69]"] [actionTypes="[8]"]
[2021/02/04 11:19:37.135 +08:00] [WARN] [2pc.go:1522] ["schemaLeaseChecker is not set for this transaction"] [sessionID=15] [startTS=422683286473277442] [commitTS=422683286473277443]
[2021/02/04 11:19:37.136 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=6.032194ms]
[2021/02/04 11:19:37.136 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.136 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.136 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.140 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=92] ["start time"=5.342898ms]
[2021/02/04 11:19:37.140 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=92]
[2021/02/04 11:19:37.140 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=92]
[2021/02/04 11:19:37.140 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=41] ["start time"=4.403584ms]
[2021/02/04 11:19:37.140 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=92]
[2021/02/04 11:19:37.140 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.140 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=t1] [cnt=1] [index="\"idx4\""] [cnt=1]
[2021/02/04 11:19:37.140 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.140 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.143 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=6.412864ms]
[2021/02/04 11:19:37.143 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.144 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.144 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.144 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=6]
[2021/02/04 11:19:37.147 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=41] ["start time"=6.023093ms]
[2021/02/04 11:19:37.147 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.147 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.147 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.147 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=92] ["start time"=6.635463ms]
[2021/02/04 11:19:37.147 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=92]
[2021/02/04 11:19:37.147 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_t_s] [cnt=2] [index="\"a\""] [cnt=2]
[2021/02/04 11:19:37.147 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=92]
[2021/02/04 11:19:37.147 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=92]
[2021/02/04 11:19:37.148 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=t1] [cnt=1] [index="\"idx5\""] [cnt=1]
[2021/02/04 11:19:37.150 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.055123ms]
[2021/02/04 11:19:37.150 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.150 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.150 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.151 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=41] ["start time"=3.588755ms]
[2021/02/04 11:19:37.151 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.152 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.152 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.153 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=92] ["start time"=5.573261ms]
[2021/02/04 11:19:37.153 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=92]
[2021/02/04 11:19:37.154 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=92]
[2021/02/04 11:19:37.154 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=92]
[2021/02/04 11:19:37.154 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=t1] [cnt=1] [index="\"idx6\""] [cnt=1]
[2021/02/04 11:19:37.155 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.383434ms]
[2021/02/04 11:19:37.155 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.155 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=92] [cur_db=test] [sql="drop table if exists td1;"] [user=]
[2021/02/04 11:19:37.155 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.155 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.155 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=92] [cur_db=test] [sql="CREATE TABLE td1 (c2 INT NULL DEFAULT '70');"] [user=]
[2021/02/04 11:19:37.156 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=7]
[2021/02/04 11:19:37.156 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:86, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:85, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:37.156 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.156 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:86, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:85, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:37.156 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="CREATE TABLE td1 (c2 INT NULL DEFAULT '70');"]
[2021/02/04 11:19:37.156 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:86, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:85, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.156 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.157 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.157 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=37] [error="handle 10, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:10, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>"] [errorVerbose="handle 10, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:10, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData.func1\n\t/Users/damn/go/tidb/executor/distsql.go:1077\ngithub.com/pingcap/tidb/kv.(*HandleMap).Range\n\t/Users/damn/go/tidb/kv/key.go:405\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData\n\t/Users/damn/go/tidb/executor/distsql.go:1075\ngithub.com/pingcap/tidb/executor.(*tableWorker).executeTask\n\t/Users/damn/go/tidb/executor/distsql.go:1129\ngithub.com/pingcap/tidb/executor.(*tableWorker).pickAndExecTask\n\t/Users/damn/go/tidb/executor/distsql.go:948\ngithub.com/pingcap/tidb/executor.(*IndexLookUpExecutor).startTableWorker.func1\n\t/Users/damn/go/tidb/executor/distsql.go:595\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 11,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.157 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 19, tp general"] [job="ID:86, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:85, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.156 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.157 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=41] ["start time"=5.044867ms]
[2021/02/04 11:19:37.157 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.157 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=86]
[2021/02/04 11:19:37.157 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.157 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.157 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.157 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=92] [neededSchemaVersion=93] ["start time"=135.942µs] [phyTblIDs="[85]"] [actionTypes="[8]"]
[2021/02/04 11:19:37.157 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_t_s] [cnt=2] [index="\"a\""] [cnt=2]
[2021/02/04 11:19:37.158 +08:00] [WARN] [2pc.go:1522] ["schemaLeaseChecker is not set for this transaction"] [sessionID=4] [startTS=422683286479044616] [commitTS=422683286479306752]
[2021/02/04 11:19:37.158 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=93] [cur_db=test] [sql="ALTER TABLE td1 ADD COLUMN c4 DECIMAL(12,8) NULL DEFAULT '213.41598062';"] [user=]
[2021/02/04 11:19:37.158 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:87, Type:add column, State:none, SchemaState:none, SchemaID:1, TableID:85, RowCount:0, ArgLen:3, start time: 2021-02-04 11:19:37.158 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.158 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:87, Type:add column, State:none, SchemaState:none, SchemaID:1, TableID:85, RowCount:0, ArgLen:3, start time: 2021-02-04 11:19:37.158 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="ALTER TABLE td1 ADD COLUMN c4 DECIMAL(12,8) NULL DEFAULT '213.41598062';"]
[2021/02/04 11:19:37.158 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:87, Type:add column, State:none, SchemaState:none, SchemaID:1, TableID:85, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.158 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.159 +08:00] [INFO] [column.go:200] ["[ddl] run add column job"] [job="ID:87, Type:add column, State:running, SchemaState:none, SchemaID:1, TableID:85, RowCount:0, ArgLen:3, start time: 2021-02-04 11:19:37.158 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [columnInfo="{\"id\":2,\"name\":{\"O\":\"c4\",\"L\":\"c4\"},\"offset\":1,\"origin_default\":\"213.41598062\",\"origin_default_bit\":null,\"default\":\"213.41598062\",\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":246,\"Flag\":0,\"Flen\":12,\"Decimal\":8,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null},\"state\":0,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2}"] [offset=1]
[2021/02/04 11:19:37.159 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:87, Type:add column, State:running, SchemaState:delete only, SchemaID:1, TableID:85, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.158 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.159 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:87, Type:add column, State:running, SchemaState:write only, SchemaID:1, TableID:85, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.158 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.160 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:87, Type:add column, State:running, SchemaState:write reorganization, SchemaID:1, TableID:85, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.158 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.160 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 19, tp general"] [job="ID:87, Type:add column, State:synced, SchemaState:public, SchemaID:1, TableID:85, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.158 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.161 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=87]
[2021/02/04 11:19:37.161 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.161 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=93] [neededSchemaVersion=97] ["start time"=458.806µs] [phyTblIDs="[85,85,85,85]"] [actionTypes="[32,32,32,32]"]
[2021/02/04 11:19:37.161 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=97] [cur_db=test] [sql="ALTER TABLE td1 ADD INDEX id2 (c4) ;"] [user=]
[2021/02/04 11:19:37.162 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:88, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:85, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:37.161 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.162 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:88, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:85, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:37.161 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="ALTER TABLE td1 ADD INDEX id2 (c4) ;"]
[2021/02/04 11:19:37.162 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:88, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:85, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.161 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.162 +08:00] [INFO] [index.go:506] ["[ddl] run add index job"] [job="ID:88, Type:add index, State:running, SchemaState:none, SchemaID:1, TableID:85, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:37.161 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [indexInfo="{\"id\":1,\"idx_name\":{\"O\":\"id2\",\"L\":\"id2\"},\"tbl_name\":{\"O\":\"\",\"L\":\"\"},\"idx_cols\":[{\"name\":{\"O\":\"c4\",\"L\":\"c4\"},\"offset\":1,\"length\":-1}],\"state\":0,\"comment\":\"\",\"index_type\":1,\"is_unique\":false,\"is_primary\":false,\"is_invisible\":false,\"is_global\":false}"]
[2021/02/04 11:19:37.162 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:88, Type:add index, State:running, SchemaState:delete only, SchemaID:1, TableID:85, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.161 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.163 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:88, Type:add index, State:running, SchemaState:write only, SchemaID:1, TableID:85, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.161 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.163 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.884713ms]
[2021/02/04 11:19:37.163 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.163 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=41] ["start time"=5.154496ms]
[2021/02/04 11:19:37.163 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.163 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.163 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:88, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:85, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.161 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.163 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.164 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.164 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.164 +08:00] [INFO] [reorg.go:599] ["[ddl] job get table range"] [jobID=88] [physicalTableID=85] [startHandle=1] [endHandle=1]
[2021/02/04 11:19:37.164 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:88, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:85, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.161 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:422683286480617476"]
[2021/02/04 11:19:37.164 +08:00] [INFO] [index.go:1207] ["[ddl] start to add table index"] [job="ID:88, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:85, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:37.161 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:422683286480617476"] [reorgInfo=CurrElementType:_idx_,CurrElementID:1,StartHandle:1,EndHandle:1,First:false,PhysicalTableID:85]
[2021/02/04 11:19:37.165 +08:00] [INFO] [backfilling.go:320] ["[ddl] split table range from PD"] [physicalTableID=85] [startHandle=1] [endHandle=1]
[2021/02/04 11:19:37.165 +08:00] [INFO] [backfilling.go:636] ["[ddl] start backfill workers to reorg record"] [workerCnt=1] [regionCnt=1] [startHandle=1] [endHandle=1]
[2021/02/04 11:19:37.165 +08:00] [INFO] [backfilling.go:288] ["[ddl] backfill worker start"] [workerID=0]
[2021/02/04 11:19:37.165 +08:00] [INFO] [backfilling.go:278] ["[ddl] backfill worker finish task"] [workerID=0] [task="physicalTableID_85_[1,1]"] [addedCount=1] [scanCount=1] [nextHandle=1.next] [takeTime=295.072µs]
[2021/02/04 11:19:37.165 +08:00] [INFO] [backfilling.go:410] ["[ddl] backfill workers successfully processed batch"] [elementType=_idx_] [elementID=1] [totalAddedCount=1] [startHandle=1] [nextHandle=1.next] [batchAddedCount=1] [takeTime=334.531µs]
[2021/02/04 11:19:37.165 +08:00] [INFO] [reorg.go:220] ["[ddl] run reorg job done"] ["handled rows"=1]
[2021/02/04 11:19:37.165 +08:00] [INFO] [backfilling.go:313] ["[ddl] backfill worker exit"] [workerID=0]
[2021/02/04 11:19:37.166 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 20, tp add index"] [job="ID:88, Type:add index, State:synced, SchemaState:public, SchemaID:1, TableID:85, RowCount:1, ArgLen:0, start time: 2021-02-04 11:19:37.161 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:422683286480617476"]
[2021/02/04 11:19:37.166 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=88]
[2021/02/04 11:19:37.166 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.167 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=97] [neededSchemaVersion=101] ["start time"=441.74µs] [phyTblIDs="[85,85,85,85]"] [actionTypes="[128,128,128,128]"]
[2021/02/04 11:19:37.169 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.642961ms]
[2021/02/04 11:19:37.169 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.170 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=41] ["start time"=5.700609ms]
[2021/02/04 11:19:37.170 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.170 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.170 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.170 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.170 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.170 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=6]
[2021/02/04 11:19:37.170 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_t_s] [cnt=2] [index="\"a\""] [cnt=3]
[2021/02/04 11:19:37.170 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.170 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=41] [error="handle 100, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:2, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>"] [errorVerbose="handle 100, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:2, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData.func1\n\t/Users/damn/go/tidb/executor/distsql.go:1077\ngithub.com/pingcap/tidb/kv.(*HandleMap).Range\n\t/Users/damn/go/tidb/kv/key.go:405\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData\n\t/Users/damn/go/tidb/executor/distsql.go:1075\ngithub.com/pingcap/tidb/executor.(*tableWorker).executeTask\n\t/Users/damn/go/tidb/executor/distsql.go:1129\ngithub.com/pingcap/tidb/executor.(*tableWorker).pickAndExecTask\n\t/Users/damn/go/tidb/executor/distsql.go:948\ngithub.com/pingcap/tidb/executor.(*IndexLookUpExecutor).startTableWorker.func1\n\t/Users/damn/go/tidb/executor/distsql.go:595\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 15,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.173 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=101] ["start time"=5.679866ms]
[2021/02/04 11:19:37.173 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=101]
[2021/02/04 11:19:37.173 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=101]
[2021/02/04 11:19:37.173 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=101]
[2021/02/04 11:19:37.176 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=41] ["start time"=5.752697ms]
[2021/02/04 11:19:37.177 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.177 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.177 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.177 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.920914ms]
[2021/02/04 11:19:37.177 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.177 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.177 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.179 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=101] ["start time"=4.973793ms]
[2021/02/04 11:19:37.179 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=101]
[2021/02/04 11:19:37.179 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=101]
[2021/02/04 11:19:37.179 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=101]
[2021/02/04 11:19:37.179 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=td1] [cnt=1] [index="\"id2\""] [cnt=1]
[2021/02/04 11:19:37.180 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=101] [cur_db=test] [sql="drop table if exists t1"] [user=]
[2021/02/04 11:19:37.180 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:89, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.18 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.180 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:89, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.18 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table if exists t1"]
[2021/02/04 11:19:37.180 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:89, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.18 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.181 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:89, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.18 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.181 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:89, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:73, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.18 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.182 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=89] [elementID=73]
[2021/02/04 11:19:37.182 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.959423ms]
[2021/02/04 11:19:37.182 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=41] ["start time"=5.332343ms]
[2021/02/04 11:19:37.182 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.182 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.183 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.183 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.183 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.183 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.183 +08:00] [INFO] [delete_range.go:106] ["[ddl] add job into delete-range table"] [jobID=89] [jobType="drop table"]
[2021/02/04 11:19:37.183 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_t_s] [cnt=2] [index="\"a\""] [cnt=3]
[2021/02/04 11:19:37.183 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.183 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=7]
[2021/02/04 11:19:37.183 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 19, tp general"] [job="ID:89, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:73, RowCount:0, ArgLen:2, start time: 2021-02-04 11:19:37.18 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.183 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=41] [error="[admin:8003]table count 2 != index(a) count 3"] [errorVerbose="[admin:8003]table count 2 != index(a) count 3\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:147\ngithub.com/pingcap/tidb/util/admin.CheckIndicesCount\n\t/Users/damn/go/tidb/util/admin/admin.go:363\ngithub.com/pingcap/tidb/executor.(*CheckTableExec).Next\n\t/Users/damn/go/tidb/executor/executor.go:746\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/damn/go/tidb/executor/executor.go:279\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/damn/go/tidb/executor/adapter.go:537\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/damn/go/tidb/executor/adapter.go:418\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/damn/go/tidb/executor/adapter.go:368\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/damn/go/tidb/session/session.go:1632\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1537\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).Exec\n\t/Users/damn/go/tidb/util/testkit/testkit.go:170\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).ExecToErr\n\t/Users/damn/go/tidb/util/testkit/testkit.go:288\ngithub.com/pingcap/tidb/executor_test.(*testSuite5).TestAdminCheckWithSnapshot\n\t/Users/damn/go/tidb/executor/admin_test.go:1067\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:850\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 15,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.184 +08:00] [WARN] [2pc.go:1522] ["schemaLeaseChecker is not set for this transaction"] [sessionID=15] [startTS=422683286486122497] [commitTS=422683286486122498]
[2021/02/04 11:19:37.184 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=89]
[2021/02/04 11:19:37.184 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.184 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=101] [neededSchemaVersion=104] ["start time"=87.022µs] [phyTblIDs="[73]"] [actionTypes="[16]"]
[2021/02/04 11:19:37.184 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=104] [cur_db=test] [sql="create table t1 (a int);"] [user=]
[2021/02/04 11:19:37.184 +08:00] [INFO] [set.go:312] ["load snapshot info schema"] [conn=15] [SnapshotTS=422683286479306752]
[2021/02/04 11:19:37.184 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:91, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:37.184 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t1 (a int);"]
[2021/02/04 11:19:37.184 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:91, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:37.184 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.185 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.185 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:91, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.184 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.185 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=37] [error="handle 11, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:11, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>"] [errorVerbose="handle 11, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:11, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData.func1\n\t/Users/damn/go/tidb/executor/distsql.go:1077\ngithub.com/pingcap/tidb/kv.(*HandleMap).Range\n\t/Users/damn/go/tidb/kv/key.go:405\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData\n\t/Users/damn/go/tidb/executor/distsql.go:1075\ngithub.com/pingcap/tidb/executor.(*tableWorker).executeTask\n\t/Users/damn/go/tidb/executor/distsql.go:1129\ngithub.com/pingcap/tidb/executor.(*tableWorker).pickAndExecTask\n\t/Users/damn/go/tidb/executor/distsql.go:948\ngithub.com/pingcap/tidb/executor.(*IndexLookUpExecutor).startTableWorker.func1\n\t/Users/damn/go/tidb/executor/distsql.go:595\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 11,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.185 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=89] [elementID=73]
[2021/02/04 11:19:37.185 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 19, tp general"] [job="ID:91, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.184 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.186 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=91]
[2021/02/04 11:19:37.186 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.186 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=104] [neededSchemaVersion=105] ["start time"=164.334µs] [phyTblIDs="[90]"] [actionTypes="[8]"]
[2021/02/04 11:19:37.186 +08:00] [WARN] [2pc.go:1522] ["schemaLeaseChecker is not set for this transaction"] [sessionID=4] [startTS=422683286486646789] [commitTS=422683286486646790]
[2021/02/04 11:19:37.187 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=105] [cur_db=test] [sql="alter table t1 add column b timestamp not null;"] [user=]
[2021/02/04 11:19:37.187 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:92, Type:add column, State:none, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:3, start time: 2021-02-04 11:19:37.187 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.187 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:92, Type:add column, State:none, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:3, start time: 2021-02-04 11:19:37.187 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table t1 add column b timestamp not null;"]
[2021/02/04 11:19:37.187 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:92, Type:add column, State:none, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.187 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.188 +08:00] [INFO] [column.go:200] ["[ddl] run add column job"] [job="ID:92, Type:add column, State:running, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:3, start time: 2021-02-04 11:19:37.187 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [columnInfo="{\"id\":2,\"name\":{\"O\":\"b\",\"L\":\"b\"},\"offset\":1,\"origin_default\":\"0000-00-00 00:00:00\",\"origin_default_bit\":null,\"default\":null,\"default_bit\":null,\"default_is_expr\":false,\"generated_expr_string\":\"\",\"generated_stored\":false,\"dependences\":null,\"type\":{\"Tp\":7,\"Flag\":4225,\"Flen\":19,\"Decimal\":0,\"Charset\":\"binary\",\"Collate\":\"binary\",\"Elems\":null},\"state\":0,\"comment\":\"\",\"hidden\":false,\"change_state_info\":null,\"version\":2}"] [offset=1]
[2021/02/04 11:19:37.188 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:92, Type:add column, State:running, SchemaState:delete only, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.187 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.189 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:92, Type:add column, State:running, SchemaState:write only, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.187 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.189 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:92, Type:add column, State:running, SchemaState:write reorganization, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.187 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.190 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 19, tp general"] [job="ID:92, Type:add column, State:synced, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.187 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.190 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=92]
[2021/02/04 11:19:37.190 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.190 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=105] [neededSchemaVersion=109] ["start time"=356.676µs] [phyTblIDs="[90,90,90,90]"] [actionTypes="[32,32,32,32]"]
[2021/02/04 11:19:37.191 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=109] [cur_db=test] [sql="alter table t1 add index(b);"] [user=]
[2021/02/04 11:19:37.191 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=41] ["start time"=6.724691ms]
[2021/02/04 11:19:37.191 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:93, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:37.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.191 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:93, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:37.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="alter table t1 add index(b);"]
[2021/02/04 11:19:37.191 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=15] [schemaVersion=41]
[2021/02/04 11:19:37.191 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:93, Type:add index, State:none, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.191 +08:00] [INFO] [index.go:506] ["[ddl] run add index job"] [job="ID:93, Type:add index, State:running, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:37.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [indexInfo="{\"id\":1,\"idx_name\":{\"O\":\"b\",\"L\":\"b\"},\"tbl_name\":{\"O\":\"\",\"L\":\"\"},\"idx_cols\":[{\"name\":{\"O\":\"b\",\"L\":\"b\"},\"offset\":1,\"length\":-1}],\"state\":0,\"comment\":\"\",\"index_type\":1,\"is_unique\":false,\"is_primary\":false,\"is_invisible\":false,\"is_global\":false}"]
[2021/02/04 11:19:37.192 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:93, Type:add index, State:running, SchemaState:delete only, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.192 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:93, Type:add index, State:running, SchemaState:write only, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.193 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=7.581286ms]
[2021/02/04 11:19:37.193 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.193 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:93, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.193 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.193 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.193 +08:00] [INFO] [reorg.go:599] ["[ddl] job get table range"] [jobID=93] [physicalTableID=90] [startHandle=1] [endHandle=1]
[2021/02/04 11:19:37.194 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 20, tp add index"] [job="ID:93, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:422683286488481794"]
[2021/02/04 11:19:37.194 +08:00] [INFO] [index.go:1207] ["[ddl] start to add table index"] [job="ID:93, Type:add index, State:running, SchemaState:write reorganization, SchemaID:1, TableID:90, RowCount:0, ArgLen:6, start time: 2021-02-04 11:19:37.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:422683286488481794"] [reorgInfo=CurrElementType:_idx_,CurrElementID:1,StartHandle:1,EndHandle:1,First:false,PhysicalTableID:90]
[2021/02/04 11:19:37.194 +08:00] [INFO] [backfilling.go:320] ["[ddl] split table range from PD"] [physicalTableID=90] [startHandle=1] [endHandle=1]
[2021/02/04 11:19:37.195 +08:00] [INFO] [backfilling.go:636] ["[ddl] start backfill workers to reorg record"] [workerCnt=1] [regionCnt=1] [startHandle=1] [endHandle=1]
[2021/02/04 11:19:37.195 +08:00] [INFO] [backfilling.go:288] ["[ddl] backfill worker start"] [workerID=0]
[2021/02/04 11:19:37.195 +08:00] [INFO] [backfilling.go:278] ["[ddl] backfill worker finish task"] [workerID=0] [task="physicalTableID_90_[1,1]"] [addedCount=1] [scanCount=1] [nextHandle=1.next] [takeTime=381.272µs]
[2021/02/04 11:19:37.195 +08:00] [INFO] [backfilling.go:410] ["[ddl] backfill workers successfully processed batch"] [elementType=_idx_] [elementID=1] [totalAddedCount=1] [startHandle=1] [nextHandle=1.next] [batchAddedCount=1] [takeTime=493.093µs]
[2021/02/04 11:19:37.195 +08:00] [INFO] [backfilling.go:313] ["[ddl] backfill worker exit"] [workerID=0]
[2021/02/04 11:19:37.195 +08:00] [INFO] [reorg.go:220] ["[ddl] run reorg job done"] ["handled rows"=1]
[2021/02/04 11:19:37.196 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 20, tp add index"] [job="ID:93, Type:add index, State:synced, SchemaState:public, SchemaID:1, TableID:90, RowCount:1, ArgLen:0, start time: 2021-02-04 11:19:37.191 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:422683286488481794"]
[2021/02/04 11:19:37.196 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=93]
[2021/02/04 11:19:37.196 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.197 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=109] [neededSchemaVersion=113] ["start time"=438.392µs] [phyTblIDs="[90,90,90,90]"] [actionTypes="[128,128,128,128]"]
[2021/02/04 11:19:37.198 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=41] ["start time"=6.960919ms]
[2021/02/04 11:19:37.198 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.199 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.199 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.200 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=6.817214ms]
[2021/02/04 11:19:37.200 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.201 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.201 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.201 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=6]
[2021/02/04 11:19:37.204 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=113] ["start time"=7.165875ms]
[2021/02/04 11:19:37.204 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=113]
[2021/02/04 11:19:37.205 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=113]
[2021/02/04 11:19:37.205 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=113]
[2021/02/04 11:19:37.206 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=41] ["start time"=6.821981ms]
[2021/02/04 11:19:37.206 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.206 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.206 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.207 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_t_s] [cnt=2] [index="\"a\""] [cnt=2]
[2021/02/04 11:19:37.207 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=15] [schemaVersion=41]
[2021/02/04 11:19:37.207 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=15] [schemaVersion=41]
[2021/02/04 11:19:37.207 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=15] [schemaVersion=41]
[2021/02/04 11:19:37.207 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=15] [schemaVersion=41]
[2021/02/04 11:19:37.208 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=15] [schemaVersion=41]
[2021/02/04 11:19:37.210 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.834831ms]
[2021/02/04 11:19:37.210 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.210 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.210 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.211 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=113] ["start time"=6.390717ms]
[2021/02/04 11:19:37.212 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=113]
[2021/02/04 11:19:37.212 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=113]
[2021/02/04 11:19:37.212 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=113]
[2021/02/04 11:19:37.212 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=t1] [cnt=1] [index="\"b\""] [cnt=1]
[2021/02/04 11:19:37.213 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=113] [cur_db=test] [sql="drop table if exists t1"] [user=]
[2021/02/04 11:19:37.213 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:94, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.213 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.213 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:94, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.213 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table if exists t1"]
[2021/02/04 11:19:37.214 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:94, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.213 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.214 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=41] ["start time"=6.02047ms]
[2021/02/04 11:19:37.214 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.214 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:94, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.213 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.214 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.214 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.215 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:94, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.213 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.215 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=94] [elementID=90]
[2021/02/04 11:19:37.216 +08:00] [INFO] [delete_range.go:106] ["[ddl] add job into delete-range table"] [jobID=94] [jobType="drop table"]
[2021/02/04 11:19:37.216 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 19, tp general"] [job="ID:94, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2021-02-04 11:19:37.213 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.216 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=94]
[2021/02/04 11:19:37.216 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.216 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=113] [neededSchemaVersion=116] ["start time"=86.355µs] [phyTblIDs="[90]"] [actionTypes="[16]"]
[2021/02/04 11:19:37.217 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=116] [cur_db=test] [sql="create table t1 (a decimal(2,1), index(a))"] [user=]
[2021/02/04 11:19:37.217 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=6.477979ms]
[2021/02/04 11:19:37.217 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.217 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.217 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:96, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:95, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:37.217 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.217 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.217 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:96, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:95, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:37.217 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table t1 (a decimal(2,1), index(a))"]
[2021/02/04 11:19:37.217 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=7]
[2021/02/04 11:19:37.217 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:96, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:95, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.217 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.218 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.218 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=37] [error="handle 12, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:12, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>"] [errorVerbose="handle 12, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:12, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData.func1\n\t/Users/damn/go/tidb/executor/distsql.go:1077\ngithub.com/pingcap/tidb/kv.(*HandleMap).Range\n\t/Users/damn/go/tidb/kv/key.go:405\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData\n\t/Users/damn/go/tidb/executor/distsql.go:1075\ngithub.com/pingcap/tidb/executor.(*tableWorker).executeTask\n\t/Users/damn/go/tidb/executor/distsql.go:1129\ngithub.com/pingcap/tidb/executor.(*tableWorker).pickAndExecTask\n\t/Users/damn/go/tidb/executor/distsql.go:948\ngithub.com/pingcap/tidb/executor.(*IndexLookUpExecutor).startTableWorker.func1\n\t/Users/damn/go/tidb/executor/distsql.go:595\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 11,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.218 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 19, tp general"] [job="ID:96, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:95, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.217 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.218 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=94] [elementID=90]
[2021/02/04 11:19:37.219 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=96]
[2021/02/04 11:19:37.219 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.219 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=116] [neededSchemaVersion=117] ["start time"=187.245µs] [phyTblIDs="[95]"] [actionTypes="[8]"]
[2021/02/04 11:19:37.219 +08:00] [WARN] [2pc.go:1522] ["schemaLeaseChecker is not set for this transaction"] [sessionID=4] [startTS=422683286495297540] [commitTS=422683286495297541]
[2021/02/04 11:19:37.220 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=4] [schemaVersion=117] [cur_db=test] [sql="alter table t1 modify column a decimal(3,2);"] [user=]
[2021/02/04 11:19:37.220 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.220 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=117] [error="[ddl:8200]Unsupported modify column: decimal change from decimal(2, 1) to decimal(3, 2), and tidb_enable_change_column_type is false"] [errorVerbose="[ddl:8200]Unsupported modify column: decimal change from decimal(2, 1) to decimal(3, 2), and tidb_enable_change_column_type is false\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStackByArgs\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:156\ngithub.com/pingcap/tidb/ddl.checkModifyTypes\n\t/Users/damn/go/tidb/ddl/ddl_api.go:3532\ngithub.com/pingcap/tidb/ddl.(*ddl).getModifiableColumnJob\n\t/Users/damn/go/tidb/ddl/ddl_api.go:3762\ngithub.com/pingcap/tidb/ddl.(*ddl).ModifyColumn\n\t/Users/damn/go/tidb/ddl/ddl_api.go:4032\ngithub.com/pingcap/tidb/ddl.(*ddl).AlterTable\n\t/Users/damn/go/tidb/ddl/ddl_api.go:2421\ngithub.com/pingcap/tidb/executor.(*DDLExec).executeAlterTable\n\t/Users/damn/go/tidb/executor/ddl.go:372\ngithub.com/pingcap/tidb/executor.(*DDLExec).Next\n\t/Users/damn/go/tidb/executor/ddl.go:86\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/damn/go/tidb/executor/executor.go:279\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/damn/go/tidb/executor/adapter.go:537\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/damn/go/tidb/executor/adapter.go:418\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/damn/go/tidb/executor/adapter.go:368\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/damn/go/tidb/session/session.go:1632\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1537\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).Exec\n\t/Users/damn/go/tidb/util/testkit/testkit.go:170\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).ExecToErr\n\t/Users/damn/go/tidb/util/testkit/testkit.go:288\ngithub.com/pingcap/tidb/executor_test.(*testSuite8).TestAdminCheckTable\n\t/Users/damn/go/tidb/executor/admin_test.go:1022\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:850\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 4,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.220 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=41] ["start time"=5.873563ms]
[2021/02/04 11:19:37.220 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.221 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.221 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.221 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_t_s] [cnt=2] [index="\"a\""] [cnt=2]
[2021/02/04 11:19:37.221 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=15] [schemaVersion=41]
[2021/02/04 11:19:37.221 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=15] [schemaVersion=41]
[2021/02/04 11:19:37.221 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=15] [schemaVersion=41]
[2021/02/04 11:19:37.221 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=15] [schemaVersion=41]
[2021/02/04 11:19:37.222 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=15] [schemaVersion=41]
[2021/02/04 11:19:37.225 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=6.898398ms]
[2021/02/04 11:19:37.225 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.226 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.226 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.228 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=117] ["start time"=6.488925ms]
[2021/02/04 11:19:37.228 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=117]
[2021/02/04 11:19:37.228 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=117]
[2021/02/04 11:19:37.228 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=117]
[2021/02/04 11:19:37.228 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=41] ["start time"=6.43107ms]
[2021/02/04 11:19:37.228 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.229 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.229 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.232 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.716102ms]
[2021/02/04 11:19:37.232 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.232 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.232 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.232 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=6]
[2021/02/04 11:19:37.235 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=117] ["start time"=6.851651ms]
[2021/02/04 11:19:37.235 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=117]
[2021/02/04 11:19:37.235 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=41] ["start time"=6.129853ms]
[2021/02/04 11:19:37.235 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.235 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=117]
[2021/02/04 11:19:37.235 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.235 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=117]
[2021/02/04 11:19:37.235 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.236 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_t_s] [cnt=2] [index="\"a\""] [cnt=3]
[2021/02/04 11:19:37.236 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=t1] [cnt=0] [index="\"a\""] [cnt=0]
[2021/02/04 11:19:37.237 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.237 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=41] [error="handle 100, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:2, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>"] [errorVerbose="handle 100, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:2, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData.func1\n\t/Users/damn/go/tidb/executor/distsql.go:1077\ngithub.com/pingcap/tidb/kv.(*HandleMap).Range\n\t/Users/damn/go/tidb/kv/key.go:405\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData\n\t/Users/damn/go/tidb/executor/distsql.go:1075\ngithub.com/pingcap/tidb/executor.(*tableWorker).executeTask\n\t/Users/damn/go/tidb/executor/distsql.go:1129\ngithub.com/pingcap/tidb/executor.(*tableWorker).pickAndExecTask\n\t/Users/damn/go/tidb/executor/distsql.go:948\ngithub.com/pingcap/tidb/executor.(*IndexLookUpExecutor).startTableWorker.func1\n\t/Users/damn/go/tidb/executor/distsql.go:595\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 15,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.237 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=16] [schemaVersion=117] [cur_db=test] [sql="drop table t"] [user=]
[2021/02/04 11:19:37.237 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:97, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:71, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.237 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.237 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:97, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:71, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.237 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table t"]
[2021/02/04 11:19:37.237 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:97, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:71, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.237 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.238 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:97, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:71, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.237 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.238 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:97, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:71, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.237 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.239 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=97] [elementID=71]
[2021/02/04 11:19:37.239 +08:00] [INFO] [delete_range.go:106] ["[ddl] add job into delete-range table"] [jobID=97] [jobType="drop table"]
[2021/02/04 11:19:37.240 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 19, tp general"] [job="ID:97, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:71, RowCount:0, ArgLen:2, start time: 2021-02-04 11:19:37.237 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.240 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=6.366472ms]
[2021/02/04 11:19:37.240 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.240 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.240 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.240 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=97]
[2021/02/04 11:19:37.240 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.240 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=117] [neededSchemaVersion=120] ["start time"=120.544µs] [phyTblIDs="[71]"] [actionTypes="[16]"]
[2021/02/04 11:19:37.240 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=16] [schemaVersion=120] [cur_db=test] [sql="drop table t1"] [user=]
[2021/02/04 11:19:37.241 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:98, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:95, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.241 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.241 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:98, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:95, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.241 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table t1"]
[2021/02/04 11:19:37.241 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:98, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:95, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.241 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.242 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:98, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:95, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.241 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.242 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=97] [elementID=71]
[2021/02/04 11:19:37.242 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:98, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:95, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.241 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.243 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=98] [elementID=95]
[2021/02/04 11:19:37.243 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=41] ["start time"=6.198285ms]
[2021/02/04 11:19:37.243 +08:00] [INFO] [delete_range.go:106] ["[ddl] add job into delete-range table"] [jobID=98] [jobType="drop table"]
[2021/02/04 11:19:37.243 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.243 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 19, tp general"] [job="ID:98, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:95, RowCount:0, ArgLen:2, start time: 2021-02-04 11:19:37.241 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.244 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.244 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.244 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=98]
[2021/02/04 11:19:37.244 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.244 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=120] [neededSchemaVersion=123] ["start time"=116.177µs] [phyTblIDs="[95]"] [actionTypes="[16]"]
[2021/02/04 11:19:37.244 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=16] [schemaVersion=123] [cur_db=test] [sql="drop table td1"] [user=]
[2021/02/04 11:19:37.245 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:99, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:85, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.244 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.245 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:99, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:85, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.244 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table td1"]
[2021/02/04 11:19:37.245 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:99, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:85, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.244 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.245 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=98] [elementID=95]
[2021/02/04 11:19:37.245 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:99, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:85, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.244 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.246 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:99, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:85, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.244 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.247 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=99] [elementID=85]
[2021/02/04 11:19:37.247 +08:00] [INFO] [delete_range.go:106] ["[ddl] add job into delete-range table"] [jobID=99] [jobType="drop table"]
[2021/02/04 11:19:37.247 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 19, tp general"] [job="ID:99, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:85, RowCount:0, ArgLen:2, start time: 2021-02-04 11:19:37.244 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.247 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=6.58822ms]
[2021/02/04 11:19:37.247 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.247 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=99]
[2021/02/04 11:19:37.247 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.247 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.248 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.248 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=123] [neededSchemaVersion=126] ["start time"=131.725µs] [phyTblIDs="[85]"] [actionTypes="[16]"]
[2021/02/04 11:19:37.248 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=7]
[2021/02/04 11:19:37.248 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=16] [schemaVersion=126] [cur_db=test] [sql="drop table test"] [user=]
[2021/02/04 11:19:37.248 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:100, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.248 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table test"]
[2021/02/04 11:19:37.248 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:100, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.248 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.248 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:100, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.248 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.248 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.248 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=37] [error="handle 13, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:13, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>"] [errorVerbose="handle 13, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:13, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData.func1\n\t/Users/damn/go/tidb/executor/distsql.go:1077\ngithub.com/pingcap/tidb/kv.(*HandleMap).Range\n\t/Users/damn/go/tidb/kv/key.go:405\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData\n\t/Users/damn/go/tidb/executor/distsql.go:1075\ngithub.com/pingcap/tidb/executor.(*tableWorker).executeTask\n\t/Users/damn/go/tidb/executor/distsql.go:1129\ngithub.com/pingcap/tidb/executor.(*tableWorker).pickAndExecTask\n\t/Users/damn/go/tidb/executor/distsql.go:948\ngithub.com/pingcap/tidb/executor.(*IndexLookUpExecutor).startTableWorker.func1\n\t/Users/damn/go/tidb/executor/distsql.go:595\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 11,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.249 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:100, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.248 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.249 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:100, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.248 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.249 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=99] [elementID=85]
[2021/02/04 11:19:37.250 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=100] [elementID=69]
[2021/02/04 11:19:37.250 +08:00] [INFO] [delete_range.go:106] ["[ddl] add job into delete-range table"] [jobID=100] [jobType="drop table"]
[2021/02/04 11:19:37.250 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 19, tp general"] [job="ID:100, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2021-02-04 11:19:37.248 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.251 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=41] ["start time"=6.927051ms]
[2021/02/04 11:19:37.251 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.251 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=100]
[2021/02/04 11:19:37.251 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.251 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.251 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.251 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=126] [neededSchemaVersion=129] ["start time"=162.5µs] [phyTblIDs="[69]"] [actionTypes="[16]"]
[2021/02/04 11:19:37.251 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=16] [schemaVersion=129] [cur_db=test] [sql="drop table test_null"] [user=]
[2021/02/04 11:19:37.251 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_t_s] [cnt=2] [index="\"a\""] [cnt=3]
[2021/02/04 11:19:37.252 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.252 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:101, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.251 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.252 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:101, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.251 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table test_null"]
[2021/02/04 11:19:37.252 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=41] [error="[admin:8003]table count 2 != index(a) count 3"] [errorVerbose="[admin:8003]table count 2 != index(a) count 3\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:147\ngithub.com/pingcap/tidb/util/admin.CheckIndicesCount\n\t/Users/damn/go/tidb/util/admin/admin.go:363\ngithub.com/pingcap/tidb/executor.(*CheckTableExec).Next\n\t/Users/damn/go/tidb/executor/executor.go:746\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/damn/go/tidb/executor/executor.go:279\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/damn/go/tidb/executor/adapter.go:537\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/damn/go/tidb/executor/adapter.go:418\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/damn/go/tidb/executor/adapter.go:368\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/damn/go/tidb/session/session.go:1632\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1537\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).Exec\n\t/Users/damn/go/tidb/util/testkit/testkit.go:170\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).ExecToErr\n\t/Users/damn/go/tidb/util/testkit/testkit.go:288\ngithub.com/pingcap/tidb/executor_test.(*testSuite5).TestAdminCheckWithSnapshot\n\t/Users/damn/go/tidb/executor/admin_test.go:1086\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:850\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 15,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.252 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:101, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.251 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.252 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:101, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.251 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.253 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=100] [elementID=69]
[2021/02/04 11:19:37.253 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 19, tp general"] [job="ID:101, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:49, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.251 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.254 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=101] [elementID=49]
[2021/02/04 11:19:37.254 +08:00] [INFO] [delete_range.go:106] ["[ddl] add job into delete-range table"] [jobID=101] [jobType="drop table"]
[2021/02/04 11:19:37.255 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 19, tp general"] [job="ID:101, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:49, RowCount:0, ArgLen:2, start time: 2021-02-04 11:19:37.251 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.255 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=101]
[2021/02/04 11:19:37.255 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.255 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=129] [neededSchemaVersion=132] ["start time"=73.092µs] [phyTblIDs="[49]"] [actionTypes="[16]"]
PASS: admin_test.go:911: testSuite8.TestAdminCheckTable	0.337s
[2021/02/04 11:19:37.256 +08:00] [INFO] [ddl_worker.go:124] ["[ddl] DDL worker closed"] [worker="worker 19, tp general"] ["take time"=454ns]
[2021/02/04 11:19:37.256 +08:00] [INFO] [ddl_worker.go:124] ["[ddl] DDL worker closed"] [worker="worker 20, tp add index"] ["take time"=194ns]
[2021/02/04 11:19:37.256 +08:00] [INFO] [delete_range.go:131] ["[ddl] closing delRange"]
[2021/02/04 11:19:37.256 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=7.070132ms]
[2021/02/04 11:19:37.256 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.256 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.256 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.257 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=101] [elementID=49]
[2021/02/04 11:19:37.257 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2021/02/04 11:19:37.257 +08:00] [INFO] [ddl.go:396] ["[ddl] DDL closed"] [ID=ce57f196-4883-45b0-a28d-55a50d68e02c] ["take time"=1.597401ms]
[2021/02/04 11:19:37.257 +08:00] [INFO] [ddl.go:309] ["[ddl] stop DDL"] [ID=ce57f196-4883-45b0-a28d-55a50d68e02c]
[2021/02/04 11:19:37.257 +08:00] [INFO] [domain.go:439] ["topNSlowQueryLoop exited."]
[2021/02/04 11:19:37.257 +08:00] [INFO] [domain.go:978] ["globalBindHandleWorkerLoop exited."]
[2021/02/04 11:19:37.257 +08:00] [INFO] [domain.go:1007] ["handleEvolvePlanTasksLoop exited."]
[2021/02/04 11:19:37.257 +08:00] [INFO] [domain.go:1036] ["handleTelemetryLoop exited."]
[2021/02/04 11:19:37.257 +08:00] [INFO] [domain.go:914] ["loadPrivilegeInLoop exited."]
[2021/02/04 11:19:37.257 +08:00] [INFO] [domain.go:468] ["infoSyncerKeeper exited."]
[2021/02/04 11:19:37.257 +08:00] [INFO] [domain.go:648] ["domain closed"] ["take time"=1.728593ms]
[2021/02/04 11:19:37.257 +08:00] [INFO] [domain.go:496] ["topologySyncerKeeper exited."]
[2021/02/04 11:19:37.259 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=41] ["start time"=6.373951ms]
[2021/02/04 11:19:37.259 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.259 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.259 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.262 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.898398ms]
[2021/02/04 11:19:37.263 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.263 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.263 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.263 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=6]
[2021/02/04 11:19:37.266 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=41] ["start time"=5.596889ms]
[2021/02/04 11:19:37.266 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.266 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.266 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.266 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_t_s] [cnt=2] [index="\"a\""] [cnt=2]
[2021/02/04 11:19:37.269 +08:00] [INFO] [db.go:565] ["Closing database"]
[2021/02/04 11:19:37.269 +08:00] [INFO] [db.go:590] ["Memtable flushed"]
[2021/02/04 11:19:37.269 +08:00] [INFO] [db.go:594] ["Compaction finished"]
[2021/02/04 11:19:37.269 +08:00] [INFO] [db.go:613] ["BlobManager finished"]
[2021/02/04 11:19:37.269 +08:00] [INFO] [db.go:617] ["ResourceManager finished"]
[2021/02/04 11:19:37.269 +08:00] [INFO] [db.go:623] ["Waiting for closer"]
[2021/02/04 11:19:37.271 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=6.217882ms]
[2021/02/04 11:19:37.271 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.271 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.271 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.273 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=41] ["start time"=6.406012ms]
[2021/02/04 11:19:37.273 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.274 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.274 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.279 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=6.713184ms]
[2021/02/04 11:19:37.279 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.279 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.279 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.279 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=41] ["start time"=5.165457ms]
[2021/02/04 11:19:37.280 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.280 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=7]
[2021/02/04 11:19:37.280 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.280 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=41]
[2021/02/04 11:19:37.280 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.280 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_t_s] [cnt=2] [index="\"a\""] [cnt=2]
[2021/02/04 11:19:37.280 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=37] [error="col c2, handle 0, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:8, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:types.Datum{k:0x1, decimal:0x0, length:0x0, i:0, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}"] [errorVerbose="col c2, handle 0, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:8, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:types.Datum{k:0x1, decimal:0x0, length:0x0, i:0, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData\n\t/Users/damn/go/tidb/executor/distsql.go:1109\ngithub.com/pingcap/tidb/executor.(*tableWorker).executeTask\n\t/Users/damn/go/tidb/executor/distsql.go:1129\ngithub.com/pingcap/tidb/executor.(*tableWorker).pickAndExecTask\n\t/Users/damn/go/tidb/executor/distsql.go:948\ngithub.com/pingcap/tidb/executor.(*IndexLookUpExecutor).startTableWorker.func1\n\t/Users/damn/go/tidb/executor/distsql.go:595\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 11,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.280 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=15] [schemaVersion=41] [cur_db=test] [sql="drop table if exists admin_t_s"] [user=]
[2021/02/04 11:19:37.281 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:71, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.281 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.281 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:71, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.281 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table if exists admin_t_s"]
[2021/02/04 11:19:37.281 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:71, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.281 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.281 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:71, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.281 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.282 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:71, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:69, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.281 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.282 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=71] [elementID=69]
[2021/02/04 11:19:37.283 +08:00] [INFO] [delete_range.go:106] ["[ddl] add job into delete-range table"] [jobID=71] [jobType="drop table"]
[2021/02/04 11:19:37.283 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:71, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:69, RowCount:0, ArgLen:2, start time: 2021-02-04 11:19:37.281 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.283 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=71]
[2021/02/04 11:19:37.283 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.283 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=41] [neededSchemaVersion=44] ["start time"=50.589µs] [phyTblIDs="[69]"] [actionTypes="[16]"]
PASS: admin_test.go:1037: testSuite5.TestAdminCheckWithSnapshot	0.151s
[2021/02/04 11:19:37.284 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=18] [schemaVersion=44] [cur_db=test] [sql="drop table if exists admin_test"] [user=]
[2021/02/04 11:19:37.284 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=18] [schemaVersion=44] [cur_db=test] [sql="create table admin_test (c1 int, c2 int, c3 int default 1, primary key (c1), unique key(c2), key (c3))"] [user=]
[2021/02/04 11:19:37.285 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:73, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:37.285 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.285 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:73, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:37.285 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table admin_test (c1 int, c2 int, c3 int default 1, primary key (c1), unique key(c2), key (c3))"]
[2021/02/04 11:19:37.285 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=71] [elementID=69]
[2021/02/04 11:19:37.285 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:73, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.285 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.286 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.203809ms]
[2021/02/04 11:19:37.286 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.286 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:73, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.285 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.286 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.286 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.287 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=73]
[2021/02/04 11:19:37.287 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.287 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=44] [neededSchemaVersion=45] ["start time"=175.627µs] [phyTblIDs="[72]"] [actionTypes="[8]"]
[2021/02/04 11:19:37.288 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.288 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=45] [error="index `primary` is not found in table `admin_test`."] [errorVerbose="index `primary` is not found in table `admin_test`.\ngithub.com/pingcap/tidb/executor.(*executorBuilder).buildCleanupIndex\n\t/Users/damn/go/tidb/executor/builder.go:504\ngithub.com/pingcap/tidb/executor.(*executorBuilder).build\n\t/Users/damn/go/tidb/executor/builder.go:110\ngithub.com/pingcap/tidb/executor.(*ExecStmt).buildExecutor\n\t/Users/damn/go/tidb/executor/adapter.go:763\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/damn/go/tidb/executor/adapter.go:331\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/damn/go/tidb/session/session.go:1632\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1537\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).Exec\n\t/Users/damn/go/tidb/util/testkit/testkit.go:170\ngithub.com/pingcap/tidb/executor_test.(*testSuite5).TestAdminCleanupIndex\n\t/Users/damn/go/tidb/executor/admin_test.go:365\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:850\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 18,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.291 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.637584ms]
[2021/02/04 11:19:37.291 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.291 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.291 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.292 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=6]
[2021/02/04 11:19:37.294 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=45] ["start time"=5.034817ms]
[2021/02/04 11:19:37.294 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.295 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.295 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.299 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.866ms]
[2021/02/04 11:19:37.299 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.299 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.299 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.300 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=45] ["start time"=4.750953ms]
[2021/02/04 11:19:37.300 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.300 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.300 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.301 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=6] [index="\"c2\""] [cnt=11]
[2021/02/04 11:19:37.301 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.301 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=45] [error="handle 102, index:types.Datum{k:0x0, decimal:0x0, length:0x0, i:0, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>"] [errorVerbose="handle 102, index:types.Datum{k:0x0, decimal:0x0, length:0x0, i:0, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData.func1\n\t/Users/damn/go/tidb/executor/distsql.go:1077\ngithub.com/pingcap/tidb/kv.(*HandleMap).Range\n\t/Users/damn/go/tidb/kv/key.go:405\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData\n\t/Users/damn/go/tidb/executor/distsql.go:1075\ngithub.com/pingcap/tidb/executor.(*tableWorker).executeTask\n\t/Users/damn/go/tidb/executor/distsql.go:1129\ngithub.com/pingcap/tidb/executor.(*tableWorker).pickAndExecTask\n\t/Users/damn/go/tidb/executor/distsql.go:948\ngithub.com/pingcap/tidb/executor.(*IndexLookUpExecutor).startTableWorker.func1\n\t/Users/damn/go/tidb/executor/distsql.go:595\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 18,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.305 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.498773ms]
[2021/02/04 11:19:37.305 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.306 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.306 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.306 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=7]
[2021/02/04 11:19:37.306 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=45] ["start time"=4.628673ms]
[2021/02/04 11:19:37.306 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.307 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.307 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.307 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.307 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=37] [error="col c2, handle 1, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:9, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:types.Datum{k:0x1, decimal:0x0, length:0x0, i:1, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}"] [errorVerbose="col c2, handle 1, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:9, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:types.Datum{k:0x1, decimal:0x0, length:0x0, i:1, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData\n\t/Users/damn/go/tidb/executor/distsql.go:1109\ngithub.com/pingcap/tidb/executor.(*tableWorker).executeTask\n\t/Users/damn/go/tidb/executor/distsql.go:1129\ngithub.com/pingcap/tidb/executor.(*tableWorker).pickAndExecTask\n\t/Users/damn/go/tidb/executor/distsql.go:948\ngithub.com/pingcap/tidb/executor.(*IndexLookUpExecutor).startTableWorker.func1\n\t/Users/damn/go/tidb/executor/distsql.go:595\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 11,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.311 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=45] ["start time"=4.583279ms]
[2021/02/04 11:19:37.311 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.312 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.312 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.312 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=6] [index="\"c2\""] [cnt=11]
[2021/02/04 11:19:37.312 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.312 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.956664ms]
[2021/02/04 11:19:37.312 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=45] [error="[admin:8003]table count 6 != index(c2) count 11"] [errorVerbose="[admin:8003]table count 6 != index(c2) count 11\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:147\ngithub.com/pingcap/tidb/util/admin.CheckIndicesCount\n\t/Users/damn/go/tidb/util/admin/admin.go:363\ngithub.com/pingcap/tidb/executor.(*CheckTableExec).Next\n\t/Users/damn/go/tidb/executor/executor.go:746\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/damn/go/tidb/executor/executor.go:279\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/damn/go/tidb/executor/adapter.go:537\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/damn/go/tidb/executor/adapter.go:418\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/damn/go/tidb/executor/adapter.go:368\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/damn/go/tidb/session/session.go:1632\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1537\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).Exec\n\t/Users/damn/go/tidb/util/testkit/testkit.go:170\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).ExecToErr\n\t/Users/damn/go/tidb/util/testkit/testkit.go:288\ngithub.com/pingcap/tidb/executor_test.(*testSuite5).TestAdminCleanupIndex\n\t/Users/damn/go/tidb/executor/admin_test.go:410\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:850\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 18,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.312 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.312 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.312 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.317 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.395343ms]
[2021/02/04 11:19:37.317 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.317 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.317 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.318 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=6]
[2021/02/04 11:19:37.319 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=45] ["start time"=5.114138ms]
[2021/02/04 11:19:37.319 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.319 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.319 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.324 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.595571ms]
[2021/02/04 11:19:37.324 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.324 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=45] ["start time"=3.989721ms]
[2021/02/04 11:19:37.324 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.324 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.324 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.324 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.324 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.324 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=6] [index="\"c2\""] [cnt=6]
[2021/02/04 11:19:37.330 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.821562ms]
[2021/02/04 11:19:37.330 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.331 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.331 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.331 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=45] ["start time"=5.56568ms]
[2021/02/04 11:19:37.331 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.331 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=7]
[2021/02/04 11:19:37.331 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.331 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.332 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.332 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=37] [error="col c2, handle 2, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:10, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:types.Datum{k:0x1, decimal:0x0, length:0x0, i:2, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}"] [errorVerbose="col c2, handle 2, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:10, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:types.Datum{k:0x1, decimal:0x0, length:0x0, i:2, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData\n\t/Users/damn/go/tidb/executor/distsql.go:1109\ngithub.com/pingcap/tidb/executor.(*tableWorker).executeTask\n\t/Users/damn/go/tidb/executor/distsql.go:1129\ngithub.com/pingcap/tidb/executor.(*tableWorker).pickAndExecTask\n\t/Users/damn/go/tidb/executor/distsql.go:948\ngithub.com/pingcap/tidb/executor.(*IndexLookUpExecutor).startTableWorker.func1\n\t/Users/damn/go/tidb/executor/distsql.go:595\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 11,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.336 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=45] ["start time"=4.111067ms]
[2021/02/04 11:19:37.336 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.336 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.336 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.336 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=6] [index="\"c2\""] [cnt=6]
[2021/02/04 11:19:37.337 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.315677ms]
[2021/02/04 11:19:37.337 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.337 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.337 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.341 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=45] ["start time"=4.740168ms]
[2021/02/04 11:19:37.341 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.342 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.342 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.342 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=6] [index="\"c3\""] [cnt=9]
[2021/02/04 11:19:37.342 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.805757ms]
[2021/02/04 11:19:37.342 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.343 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.343 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=45] [error="handle -200, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:6, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>"] [errorVerbose="handle -200, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:6, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData.func1\n\t/Users/damn/go/tidb/executor/distsql.go:1077\ngithub.com/pingcap/tidb/kv.(*HandleMap).Range\n\t/Users/damn/go/tidb/kv/key.go:405\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData\n\t/Users/damn/go/tidb/executor/distsql.go:1075\ngithub.com/pingcap/tidb/executor.(*tableWorker).executeTask\n\t/Users/damn/go/tidb/executor/distsql.go:1129\ngithub.com/pingcap/tidb/executor.(*tableWorker).pickAndExecTask\n\t/Users/damn/go/tidb/executor/distsql.go:948\ngithub.com/pingcap/tidb/executor.(*IndexLookUpExecutor).startTableWorker.func1\n\t/Users/damn/go/tidb/executor/distsql.go:595\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 18,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.343 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.343 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.343 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=6]
[2021/02/04 11:19:37.348 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=45] ["start time"=4.837572ms]
[2021/02/04 11:19:37.348 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.348 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.348 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.349 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.135835ms]
[2021/02/04 11:19:37.349 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.350 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.350 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.353 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=45] ["start time"=4.440753ms]
[2021/02/04 11:19:37.353 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.353 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.353 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.353 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=6] [index="\"c3\""] [cnt=9]
[2021/02/04 11:19:37.353 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.353 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=45] [error="[admin:8003]table count 6 != index(c3) count 9"] [errorVerbose="[admin:8003]table count 6 != index(c3) count 9\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:147\ngithub.com/pingcap/tidb/util/admin.CheckIndicesCount\n\t/Users/damn/go/tidb/util/admin/admin.go:363\ngithub.com/pingcap/tidb/executor.(*CheckTableExec).Next\n\t/Users/damn/go/tidb/executor/executor.go:746\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/damn/go/tidb/executor/executor.go:279\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/damn/go/tidb/executor/adapter.go:537\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/damn/go/tidb/executor/adapter.go:418\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/damn/go/tidb/executor/adapter.go:368\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/damn/go/tidb/session/session.go:1632\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1537\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).Exec\n\t/Users/damn/go/tidb/util/testkit/testkit.go:170\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).ExecToErr\n\t/Users/damn/go/tidb/util/testkit/testkit.go:288\ngithub.com/pingcap/tidb/executor_test.(*testSuite5).TestAdminCleanupIndex\n\t/Users/damn/go/tidb/executor/admin_test.go:422\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:850\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 18,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.355 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.400442ms]
[2021/02/04 11:19:37.355 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.356 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.356 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.356 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=7]
[2021/02/04 11:19:37.357 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.358 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=37] [error="col c2, handle 3, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:11, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:types.Datum{k:0x1, decimal:0x0, length:0x0, i:3, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}"] [errorVerbose="col c2, handle 3, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:11, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:types.Datum{k:0x1, decimal:0x0, length:0x0, i:3, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData\n\t/Users/damn/go/tidb/executor/distsql.go:1109\ngithub.com/pingcap/tidb/executor.(*tableWorker).executeTask\n\t/Users/damn/go/tidb/executor/distsql.go:1129\ngithub.com/pingcap/tidb/executor.(*tableWorker).pickAndExecTask\n\t/Users/damn/go/tidb/executor/distsql.go:948\ngithub.com/pingcap/tidb/executor.(*IndexLookUpExecutor).startTableWorker.func1\n\t/Users/damn/go/tidb/executor/distsql.go:595\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 11,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.362 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=45] ["start time"=6.020684ms]
[2021/02/04 11:19:37.362 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.362 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.362 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.364 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.686408ms]
[2021/02/04 11:19:37.364 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.365 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.365 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.368 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=45] ["start time"=5.318167ms]
[2021/02/04 11:19:37.368 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.368 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.368 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.368 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=6] [index="\"c3\""] [cnt=6]
[2021/02/04 11:19:37.371 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.690238ms]
[2021/02/04 11:19:37.371 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.371 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.371 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.371 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=6]
[2021/02/04 11:19:37.375 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=45] ["start time"=5.440418ms]
[2021/02/04 11:19:37.375 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.375 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.375 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.378 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.095395ms]
[2021/02/04 11:19:37.378 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.378 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.378 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.381 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=45] ["start time"=5.003263ms]
[2021/02/04 11:19:37.381 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.381 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.381 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.381 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=6] [index="\"c2\""] [cnt=6]
[2021/02/04 11:19:37.384 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.089754ms]
[2021/02/04 11:19:37.384 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.384 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.384 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.384 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=7]
[2021/02/04 11:19:37.385 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.385 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=37] [error="col c2, handle 4, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:12, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:types.Datum{k:0x1, decimal:0x0, length:0x0, i:4, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}"] [errorVerbose="col c2, handle 4, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:12, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:types.Datum{k:0x1, decimal:0x0, length:0x0, i:4, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData\n\t/Users/damn/go/tidb/executor/distsql.go:1109\ngithub.com/pingcap/tidb/executor.(*tableWorker).executeTask\n\t/Users/damn/go/tidb/executor/distsql.go:1129\ngithub.com/pingcap/tidb/executor.(*tableWorker).pickAndExecTask\n\t/Users/damn/go/tidb/executor/distsql.go:948\ngithub.com/pingcap/tidb/executor.(*IndexLookUpExecutor).startTableWorker.func1\n\t/Users/damn/go/tidb/executor/distsql.go:595\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 11,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.387 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=45] ["start time"=5.148612ms]
[2021/02/04 11:19:37.387 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.387 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.387 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=45]
[2021/02/04 11:19:37.387 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=6] [index="\"c3\""] [cnt=6]
[2021/02/04 11:19:37.388 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=19] [schemaVersion=45] [cur_db=test] [sql="drop table admin_test"] [user=]
[2021/02/04 11:19:37.388 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:74, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.388 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.388 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:74, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.388 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table admin_test"]
[2021/02/04 11:19:37.388 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:74, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.388 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.389 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:74, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.388 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.390 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:74, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:72, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.388 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.392 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=6.736183ms]
[2021/02/04 11:19:37.392 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=74] [elementID=72]
[2021/02/04 11:19:37.392 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.393 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.393 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.393 +08:00] [INFO] [delete_range.go:106] ["[ddl] add job into delete-range table"] [jobID=74] [jobType="drop table"]
[2021/02/04 11:19:37.393 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:74, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:72, RowCount:0, ArgLen:2, start time: 2021-02-04 11:19:37.388 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.394 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=74]
[2021/02/04 11:19:37.394 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.394 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=45] [neededSchemaVersion=48] ["start time"=51.003µs] [phyTblIDs="[72]"] [actionTypes="[16]"]
PASS: admin_test.go:356: testSuite5.TestAdminCleanupIndex	0.104s
[2021/02/04 11:19:37.394 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=20] [schemaVersion=48] [cur_db=test] [sql="drop table if exists admin_test"] [user=]
[2021/02/04 11:19:37.394 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=20] [schemaVersion=48] [cur_db=test] [sql="create table admin_test (c1 int, c2 int, c3 int default 1, primary key (c2), unique index c2(c2), index c3(c3)) partition by hash(c2) partitions 3;"] [user=]
[2021/02/04 11:19:37.395 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:79, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:75, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:37.395 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.395 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:79, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:75, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:37.395 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table admin_test (c1 int, c2 int, c3 int default 1, primary key (c2), unique index c2(c2), index c3(c3)) partition by hash(c2) partitions 3;"]
[2021/02/04 11:19:37.395 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=74] [elementID=72]
[2021/02/04 11:19:37.395 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:79, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:75, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.395 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.396 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:79, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:75, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.395 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.397 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=79]
[2021/02/04 11:19:37.397 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.397 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=48] [neededSchemaVersion=49] ["start time"=286.687µs] [phyTblIDs="[75,76,77,78]"] [actionTypes="[8,8,8,8]"]
[2021/02/04 11:19:37.398 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.766897ms]
[2021/02/04 11:19:37.398 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.398 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.398 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.399 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=6]
[2021/02/04 11:19:37.403 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=49] ["start time"=3.957762ms]
[2021/02/04 11:19:37.403 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.403 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.403 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.404 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=4.162142ms]
[2021/02/04 11:19:37.404 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.404 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.404 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.410 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=49] ["start time"=5.9058ms]
[2021/02/04 11:19:37.410 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.410 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.410 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.411 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c2\""] [cnt=4]
[2021/02/04 11:19:37.411 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.411 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=49] [error="handle 6, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:6, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>"] [errorVerbose="handle 6, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:6, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData.func1\n\t/Users/damn/go/tidb/executor/distsql.go:1077\ngithub.com/pingcap/tidb/kv.(*HandleMap).Range\n\t/Users/damn/go/tidb/kv/key.go:405\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData\n\t/Users/damn/go/tidb/executor/distsql.go:1075\ngithub.com/pingcap/tidb/executor.(*tableWorker).executeTask\n\t/Users/damn/go/tidb/executor/distsql.go:1129\ngithub.com/pingcap/tidb/executor.(*tableWorker).pickAndExecTask\n\t/Users/damn/go/tidb/executor/distsql.go:948\ngithub.com/pingcap/tidb/executor.(*IndexLookUpExecutor).startTableWorker.func1\n\t/Users/damn/go/tidb/executor/distsql.go:595\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 20,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.412 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=7.086763ms]
[2021/02/04 11:19:37.412 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.412 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.412 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.412 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=7]
[2021/02/04 11:19:37.413 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.413 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=37] [error="col c2, handle 5, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:13, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:types.Datum{k:0x1, decimal:0x0, length:0x0, i:5, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}"] [errorVerbose="col c2, handle 5, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:13, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:types.Datum{k:0x1, decimal:0x0, length:0x0, i:5, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData\n\t/Users/damn/go/tidb/executor/distsql.go:1109\ngithub.com/pingcap/tidb/executor.(*tableWorker).executeTask\n\t/Users/damn/go/tidb/executor/distsql.go:1129\ngithub.com/pingcap/tidb/executor.(*tableWorker).pickAndExecTask\n\t/Users/damn/go/tidb/executor/distsql.go:948\ngithub.com/pingcap/tidb/executor.(*IndexLookUpExecutor).startTableWorker.func1\n\t/Users/damn/go/tidb/executor/distsql.go:595\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 11,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.429 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=5.513243ms]
[2021/02/04 11:19:37.429 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.429 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.429 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.433 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=37] ["start time"=3.889674ms]
[2021/02/04 11:19:37.433 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.433 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.433 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=37]
[2021/02/04 11:19:37.433 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test_p] [cnt=6] [index="\"idx\""] [cnt=6]
[2021/02/04 11:19:37.435 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=21] [schemaVersion=37] [cur_db=test] [sql="drop table admin_test_p"] [user=]
[2021/02/04 11:19:37.435 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:64, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.435 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.435 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:64, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.435 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table admin_test_p"]
[2021/02/04 11:19:37.435 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:64, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.435 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.436 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:64, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.435 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.436 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 17, tp general"] [job="ID:64, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:58, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.435 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.436 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=49] ["start time"=4.947224ms]
[2021/02/04 11:19:37.436 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.436 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.436 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.437 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=64] [elementID=59]
[2021/02/04 11:19:37.437 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=64] [elementID=60]
[2021/02/04 11:19:37.437 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=64] [elementID=61]
[2021/02/04 11:19:37.438 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=64] [elementID=62]
[2021/02/04 11:19:37.438 +08:00] [INFO] [delete_range.go:106] ["[ddl] add job into delete-range table"] [jobID=64] [jobType="drop table"]
[2021/02/04 11:19:37.438 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 17, tp general"] [job="ID:64, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:58, RowCount:0, ArgLen:2, start time: 2021-02-04 11:19:37.435 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.439 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=64]
[2021/02/04 11:19:37.439 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.439 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=37] [neededSchemaVersion=40] ["start time"=78.953µs] [phyTblIDs="[58,59,60,61,62]"] [actionTypes="[16,16,16,16,16]"]

----------------------------------------------------------------------
PASS: admin_test.go:702: testSuite3.TestAdminCheckPartitionTableFailed	0.498s
[2021/02/04 11:19:37.439 +08:00] [INFO] [ddl_worker.go:124] ["[ddl] DDL worker closed"] [worker="worker 17, tp general"] ["take time"=296ns]
[2021/02/04 11:19:37.439 +08:00] [INFO] [ddl_worker.go:124] ["[ddl] DDL worker closed"] [worker="worker 18, tp add index"] ["take time"=181ns]
[2021/02/04 11:19:37.439 +08:00] [INFO] [delete_range.go:131] ["[ddl] closing delRange"]
[2021/02/04 11:19:37.441 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=64] [elementID=59]
[2021/02/04 11:19:37.442 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=49] ["start time"=4.967102ms]
[2021/02/04 11:19:37.442 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.442 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.442 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.442 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c2\""] [cnt=3]
[2021/02/04 11:19:37.442 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=64] [elementID=60]
[2021/02/04 11:19:37.444 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=64] [elementID=61]
[2021/02/04 11:19:37.445 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=64] [elementID=62]
[2021/02/04 11:19:37.445 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2021/02/04 11:19:37.445 +08:00] [INFO] [ddl.go:396] ["[ddl] DDL closed"] [ID=193318bc-8945-44e8-8ac8-792b800bc995] ["take time"=6.048452ms]
[2021/02/04 11:19:37.445 +08:00] [INFO] [ddl.go:309] ["[ddl] stop DDL"] [ID=193318bc-8945-44e8-8ac8-792b800bc995]
[2021/02/04 11:19:37.445 +08:00] [INFO] [domain.go:439] ["topNSlowQueryLoop exited."]
[2021/02/04 11:19:37.445 +08:00] [INFO] [domain.go:1007] ["handleEvolvePlanTasksLoop exited."]
[2021/02/04 11:19:37.445 +08:00] [INFO] [domain.go:468] ["infoSyncerKeeper exited."]
[2021/02/04 11:19:37.445 +08:00] [INFO] [domain.go:914] ["loadPrivilegeInLoop exited."]
[2021/02/04 11:19:37.445 +08:00] [INFO] [domain.go:978] ["globalBindHandleWorkerLoop exited."]
[2021/02/04 11:19:37.445 +08:00] [INFO] [domain.go:496] ["topologySyncerKeeper exited."]
[2021/02/04 11:19:37.445 +08:00] [INFO] [domain.go:648] ["domain closed"] ["take time"=6.104271ms]
[2021/02/04 11:19:37.445 +08:00] [INFO] [domain.go:1036] ["handleTelemetryLoop exited."]
[2021/02/04 11:19:37.448 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=49] ["start time"=5.372465ms]
[2021/02/04 11:19:37.448 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.448 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.448 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.448 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c3\""] [cnt=3]
[2021/02/04 11:19:37.450 +08:00] [INFO] [db.go:565] ["Closing database"]
[2021/02/04 11:19:37.450 +08:00] [INFO] [db.go:590] ["Memtable flushed"]
[2021/02/04 11:19:37.450 +08:00] [INFO] [db.go:594] ["Compaction finished"]
[2021/02/04 11:19:37.450 +08:00] [INFO] [db.go:613] ["BlobManager finished"]
[2021/02/04 11:19:37.450 +08:00] [INFO] [db.go:617] ["ResourceManager finished"]
[2021/02/04 11:19:37.450 +08:00] [INFO] [db.go:623] ["Waiting for closer"]
[2021/02/04 11:19:37.455 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=49] ["start time"=5.201669ms]
[2021/02/04 11:19:37.455 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.455 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.455 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.460 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=49] ["start time"=4.754372ms]
[2021/02/04 11:19:37.460 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.461 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.461 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.462 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c2\""] [cnt=4]
[2021/02/04 11:19:37.462 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.462 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=49] [error="handle 7, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:7, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>"] [errorVerbose="handle 7, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:7, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData.func1\n\t/Users/damn/go/tidb/executor/distsql.go:1077\ngithub.com/pingcap/tidb/kv.(*HandleMap).Range\n\t/Users/damn/go/tidb/kv/key.go:405\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData\n\t/Users/damn/go/tidb/executor/distsql.go:1075\ngithub.com/pingcap/tidb/executor.(*tableWorker).executeTask\n\t/Users/damn/go/tidb/executor/distsql.go:1129\ngithub.com/pingcap/tidb/executor.(*tableWorker).pickAndExecTask\n\t/Users/damn/go/tidb/executor/distsql.go:948\ngithub.com/pingcap/tidb/executor.(*IndexLookUpExecutor).startTableWorker.func1\n\t/Users/damn/go/tidb/executor/distsql.go:595\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 20,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.474 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=49] ["start time"=4.546362ms]
[2021/02/04 11:19:37.474 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.475 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.475 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.480 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=49] ["start time"=3.94332ms]
[2021/02/04 11:19:37.480 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.480 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.480 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.480 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c2\""] [cnt=3]
[2021/02/04 11:19:37.484 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=49] ["start time"=3.411592ms]
[2021/02/04 11:19:37.484 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.484 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.484 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.484 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c3\""] [cnt=3]
[2021/02/04 11:19:37.489 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=49] ["start time"=3.271916ms]
[2021/02/04 11:19:37.489 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.490 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.490 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.493 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=49] ["start time"=3.361697ms]
[2021/02/04 11:19:37.493 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.494 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.494 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.494 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c2\""] [cnt=4]
[2021/02/04 11:19:37.495 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.495 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=49] [error="handle 8, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:8, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>"] [errorVerbose="handle 8, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:8, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData.func1\n\t/Users/damn/go/tidb/executor/distsql.go:1077\ngithub.com/pingcap/tidb/kv.(*HandleMap).Range\n\t/Users/damn/go/tidb/kv/key.go:405\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData\n\t/Users/damn/go/tidb/executor/distsql.go:1075\ngithub.com/pingcap/tidb/executor.(*tableWorker).executeTask\n\t/Users/damn/go/tidb/executor/distsql.go:1129\ngithub.com/pingcap/tidb/executor.(*tableWorker).pickAndExecTask\n\t/Users/damn/go/tidb/executor/distsql.go:948\ngithub.com/pingcap/tidb/executor.(*IndexLookUpExecutor).startTableWorker.func1\n\t/Users/damn/go/tidb/executor/distsql.go:595\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 20,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.507 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=49] ["start time"=3.550807ms]
[2021/02/04 11:19:37.507 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.507 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.507 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.511 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=49] ["start time"=3.692457ms]
[2021/02/04 11:19:37.511 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.511 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.511 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.511 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c2\""] [cnt=3]
[2021/02/04 11:19:37.515 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=49] ["start time"=3.627968ms]
[2021/02/04 11:19:37.515 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.515 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.515 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=49]
[2021/02/04 11:19:37.516 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c3\""] [cnt=3]
[2021/02/04 11:19:37.517 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=20] [schemaVersion=49] [cur_db=test] [sql="drop table if exists admin_test"] [user=]
[2021/02/04 11:19:37.517 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:80, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:75, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.517 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.517 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:80, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:75, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.517 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table if exists admin_test"]
[2021/02/04 11:19:37.517 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:80, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:75, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.517 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.518 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:80, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:75, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.517 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.519 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:80, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:75, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.517 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.520 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=80] [elementID=76]
[2021/02/04 11:19:37.521 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=80] [elementID=77]
[2021/02/04 11:19:37.521 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=80] [elementID=78]
[2021/02/04 11:19:37.521 +08:00] [INFO] [delete_range.go:106] ["[ddl] add job into delete-range table"] [jobID=80] [jobType="drop table"]
[2021/02/04 11:19:37.521 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:80, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:75, RowCount:0, ArgLen:2, start time: 2021-02-04 11:19:37.517 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.522 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=80]
[2021/02/04 11:19:37.522 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.522 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=49] [neededSchemaVersion=52] ["start time"=52.181µs] [phyTblIDs="[75,76,77,78]"] [actionTypes="[16,16,16,16]"]
[2021/02/04 11:19:37.522 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=20] [schemaVersion=52] [cur_db=test] [sql="create table admin_test (c1 int, c2 int, c3 int default 1, primary key (c2), unique index c2 (c2), index c3(c3)) PARTITION BY RANGE ( c2 ) (\n\t\tPARTITION p0 VALUES LESS THAN (5),\n\t\tPARTITION p1 VALUES LESS THAN (10),\n\t\tPARTITION p2 VALUES LESS THAN (MAXVALUE))"] [user=]
[2021/02/04 11:19:37.522 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:85, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:81, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:37.522 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.522 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:85, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:81, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:37.522 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table admin_test (c1 int, c2 int, c3 int default 1, primary key (c2), unique index c2 (c2), index c3(c3)) PARTITION BY RANGE ( c2 ) (\n\t\tPARTITION p0 VALUES LESS THAN (5),\n\t\tPARTITION p1 VALUES LESS THAN (10),\n\t\tPARTITION p2 VALUES LESS THAN (MAXVALUE))"]
[2021/02/04 11:19:37.523 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:85, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:81, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.522 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.523 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=80] [elementID=76]
[2021/02/04 11:19:37.524 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:85, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:81, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.522 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.524 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=80] [elementID=77]
[2021/02/04 11:19:37.524 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=85]
[2021/02/04 11:19:37.524 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.524 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=52] [neededSchemaVersion=53] ["start time"=226.71µs] [phyTblIDs="[81,82,83,84]"] [actionTypes="[8,8,8,8]"]
[2021/02/04 11:19:37.525 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=80] [elementID=78]
[2021/02/04 11:19:37.532 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=53] ["start time"=4.015255ms]
[2021/02/04 11:19:37.532 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.532 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.532 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.536 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=53] ["start time"=3.839972ms]
[2021/02/04 11:19:37.536 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.537 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.537 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.537 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c2\""] [cnt=4]
[2021/02/04 11:19:37.537 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.537 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=53] [error="handle 1, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:1, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>"] [errorVerbose="handle 1, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:1, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData.func1\n\t/Users/damn/go/tidb/executor/distsql.go:1077\ngithub.com/pingcap/tidb/kv.(*HandleMap).Range\n\t/Users/damn/go/tidb/kv/key.go:405\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData\n\t/Users/damn/go/tidb/executor/distsql.go:1075\ngithub.com/pingcap/tidb/executor.(*tableWorker).executeTask\n\t/Users/damn/go/tidb/executor/distsql.go:1129\ngithub.com/pingcap/tidb/executor.(*tableWorker).pickAndExecTask\n\t/Users/damn/go/tidb/executor/distsql.go:948\ngithub.com/pingcap/tidb/executor.(*IndexLookUpExecutor).startTableWorker.func1\n\t/Users/damn/go/tidb/executor/distsql.go:595\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 20,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.549 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=53] ["start time"=3.706145ms]
[2021/02/04 11:19:37.549 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.549 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.549 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.553 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=53] ["start time"=3.360182ms]
[2021/02/04 11:19:37.553 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.553 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.553 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.553 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c2\""] [cnt=3]
[2021/02/04 11:19:37.558 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=53] ["start time"=4.182403ms]
[2021/02/04 11:19:37.558 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.558 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.558 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.558 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c3\""] [cnt=3]
[2021/02/04 11:19:37.564 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=53] ["start time"=3.955648ms]
[2021/02/04 11:19:37.564 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.565 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.565 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.568 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=53] ["start time"=2.972093ms]
[2021/02/04 11:19:37.568 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.568 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.568 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.568 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c2\""] [cnt=4]
[2021/02/04 11:19:37.569 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.569 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=53] [error="handle 7, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:7, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>"] [errorVerbose="handle 7, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:7, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData.func1\n\t/Users/damn/go/tidb/executor/distsql.go:1077\ngithub.com/pingcap/tidb/kv.(*HandleMap).Range\n\t/Users/damn/go/tidb/kv/key.go:405\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData\n\t/Users/damn/go/tidb/executor/distsql.go:1075\ngithub.com/pingcap/tidb/executor.(*tableWorker).executeTask\n\t/Users/damn/go/tidb/executor/distsql.go:1129\ngithub.com/pingcap/tidb/executor.(*tableWorker).pickAndExecTask\n\t/Users/damn/go/tidb/executor/distsql.go:948\ngithub.com/pingcap/tidb/executor.(*IndexLookUpExecutor).startTableWorker.func1\n\t/Users/damn/go/tidb/executor/distsql.go:595\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 20,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.579 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=53] ["start time"=3.63143ms]
[2021/02/04 11:19:37.579 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.579 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.579 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.583 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=53] ["start time"=3.62938ms]
[2021/02/04 11:19:37.583 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.583 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.583 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.583 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c2\""] [cnt=3]
[2021/02/04 11:19:37.587 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=53] ["start time"=3.308375ms]
[2021/02/04 11:19:37.587 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.587 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.587 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.587 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c3\""] [cnt=3]
[2021/02/04 11:19:37.591 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=53] ["start time"=3.382473ms]
[2021/02/04 11:19:37.591 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.592 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.592 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.596 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=53] ["start time"=3.59996ms]
[2021/02/04 11:19:37.596 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.596 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.596 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.596 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c2\""] [cnt=4]
[2021/02/04 11:19:37.597 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.597 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=53] [error="handle 13, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:13, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>"] [errorVerbose="handle 13, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:13, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData.func1\n\t/Users/damn/go/tidb/executor/distsql.go:1077\ngithub.com/pingcap/tidb/kv.(*HandleMap).Range\n\t/Users/damn/go/tidb/kv/key.go:405\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData\n\t/Users/damn/go/tidb/executor/distsql.go:1075\ngithub.com/pingcap/tidb/executor.(*tableWorker).executeTask\n\t/Users/damn/go/tidb/executor/distsql.go:1129\ngithub.com/pingcap/tidb/executor.(*tableWorker).pickAndExecTask\n\t/Users/damn/go/tidb/executor/distsql.go:948\ngithub.com/pingcap/tidb/executor.(*IndexLookUpExecutor).startTableWorker.func1\n\t/Users/damn/go/tidb/executor/distsql.go:595\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 20,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.604 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=53] ["start time"=3.206693ms]
[2021/02/04 11:19:37.604 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.605 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.605 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.608 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=53] ["start time"=3.536576ms]
[2021/02/04 11:19:37.608 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.609 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.609 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.609 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c2\""] [cnt=3]
[2021/02/04 11:19:37.615 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=53] ["start time"=6.314323ms]
[2021/02/04 11:19:37.615 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.616 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.616 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=53]
[2021/02/04 11:19:37.616 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c3\""] [cnt=3]
[2021/02/04 11:19:37.617 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=22] [schemaVersion=53] [cur_db=test] [sql="drop table admin_test"] [user=]
[2021/02/04 11:19:37.618 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:86, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:81, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.617 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.618 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:86, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:81, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.617 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table admin_test"]
[2021/02/04 11:19:37.618 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:86, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:81, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.617 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.618 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:86, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:81, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.617 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.619 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:86, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:81, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.617 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.619 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=86] [elementID=82]
[2021/02/04 11:19:37.620 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=86] [elementID=83]
[2021/02/04 11:19:37.620 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=86] [elementID=84]
[2021/02/04 11:19:37.620 +08:00] [INFO] [delete_range.go:106] ["[ddl] add job into delete-range table"] [jobID=86] [jobType="drop table"]
[2021/02/04 11:19:37.620 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:86, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:81, RowCount:0, ArgLen:2, start time: 2021-02-04 11:19:37.617 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.621 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=86]
[2021/02/04 11:19:37.621 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.621 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=53] [neededSchemaVersion=56] ["start time"=60.013µs] [phyTblIDs="[81,82,83,84]"] [actionTypes="[16,16,16,16]"]
PASS: admin_test.go:435: testSuite5.TestAdminCleanupIndexForPartitionTable	0.223s
[2021/02/04 11:19:37.621 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=23] [schemaVersion=56] [cur_db=test] [sql="drop table if exists admin_test"] [user=]
[2021/02/04 11:19:37.621 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=23] [schemaVersion=56] [cur_db=test] [sql="create table admin_test (c1 int, c2 int, unique key (c1, c2), key (c2))"] [user=]
[2021/02/04 11:19:37.622 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:88, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:87, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:37.622 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.622 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=86] [elementID=82]
[2021/02/04 11:19:37.622 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:88, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:87, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:37.622 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table admin_test (c1 int, c2 int, unique key (c1, c2), key (c2))"]
[2021/02/04 11:19:37.622 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:88, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:87, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.622 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.623 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:88, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:87, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.622 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.623 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=88]
[2021/02/04 11:19:37.623 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.623 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=86] [elementID=83]
[2021/02/04 11:19:37.623 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=56] [neededSchemaVersion=57] ["start time"=116.125µs] [phyTblIDs="[87]"] [actionTypes="[8]"]
[2021/02/04 11:19:37.623 +08:00] [WARN] [2pc.go:1522] ["schemaLeaseChecker is not set for this transaction"] [sessionID=23] [startTS=422683286601203723] [commitTS=422683286601203724]
[2021/02/04 11:19:37.624 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=86] [elementID=84]
[2021/02/04 11:19:37.643 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=57] ["start time"=4.111059ms]
[2021/02/04 11:19:37.643 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.643 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.643 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.647 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=57] ["start time"=3.632155ms]
[2021/02/04 11:19:37.647 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.648 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.648 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.648 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c1\""] [cnt=2003]
[2021/02/04 11:19:37.653 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.653 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=57] [error="handle 357, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:357, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>"] [errorVerbose="handle 357, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:357, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData.func1\n\t/Users/damn/go/tidb/executor/distsql.go:1077\ngithub.com/pingcap/tidb/kv.(*HandleMap).Range\n\t/Users/damn/go/tidb/kv/key.go:405\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData\n\t/Users/damn/go/tidb/executor/distsql.go:1075\ngithub.com/pingcap/tidb/executor.(*tableWorker).executeTask\n\t/Users/damn/go/tidb/executor/distsql.go:1129\ngithub.com/pingcap/tidb/executor.(*tableWorker).pickAndExecTask\n\t/Users/damn/go/tidb/executor/distsql.go:948\ngithub.com/pingcap/tidb/executor.(*IndexLookUpExecutor).startTableWorker.func1\n\t/Users/damn/go/tidb/executor/distsql.go:595\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 23,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.657 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=57] ["start time"=3.627565ms]
[2021/02/04 11:19:37.657 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.657 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.657 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.662 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=57] ["start time"=4.116055ms]
[2021/02/04 11:19:37.662 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.663 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.663 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.664 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c1\""] [cnt=2003]
[2021/02/04 11:19:37.664 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.664 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=57] [error="[admin:8003]table count 3 != index(c1) count 2003"] [errorVerbose="[admin:8003]table count 3 != index(c1) count 2003\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:147\ngithub.com/pingcap/tidb/util/admin.CheckIndicesCount\n\t/Users/damn/go/tidb/util/admin/admin.go:363\ngithub.com/pingcap/tidb/executor.(*CheckTableExec).Next\n\t/Users/damn/go/tidb/executor/executor.go:746\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/damn/go/tidb/executor/executor.go:279\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/damn/go/tidb/executor/adapter.go:537\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/damn/go/tidb/executor/adapter.go:418\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/damn/go/tidb/executor/adapter.go:368\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/damn/go/tidb/session/session.go:1632\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1537\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).Exec\n\t/Users/damn/go/tidb/util/testkit/testkit.go:170\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).ExecToErr\n\t/Users/damn/go/tidb/util/testkit/testkit.go:288\ngithub.com/pingcap/tidb/executor_test.(*testSuite5).TestAdminCleanupIndexMore\n\t/Users/damn/go/tidb/executor/admin_test.go:603\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:850\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 23,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.667 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=57] ["start time"=3.131328ms]
[2021/02/04 11:19:37.667 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.667 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.667 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.670 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=57] ["start time"=2.79898ms]
[2021/02/04 11:19:37.671 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.671 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.671 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.672 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c2\""] [cnt=2003]
[2021/02/04 11:19:37.672 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.672 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=57] [error="[admin:8003]table count 3 != index(c2) count 2003"] [errorVerbose="[admin:8003]table count 3 != index(c2) count 2003\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:147\ngithub.com/pingcap/tidb/util/admin.CheckIndicesCount\n\t/Users/damn/go/tidb/util/admin/admin.go:363\ngithub.com/pingcap/tidb/executor.(*CheckTableExec).Next\n\t/Users/damn/go/tidb/executor/executor.go:746\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/damn/go/tidb/executor/executor.go:279\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/damn/go/tidb/executor/adapter.go:537\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/damn/go/tidb/executor/adapter.go:418\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/damn/go/tidb/executor/adapter.go:368\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/damn/go/tidb/session/session.go:1632\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1537\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).Exec\n\t/Users/damn/go/tidb/util/testkit/testkit.go:170\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).ExecToErr\n\t/Users/damn/go/tidb/util/testkit/testkit.go:288\ngithub.com/pingcap/tidb/executor_test.(*testSuite5).TestAdminCleanupIndexMore\n\t/Users/damn/go/tidb/executor/admin_test.go:605\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:850\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 23,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.700 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=57] ["start time"=3.222187ms]
[2021/02/04 11:19:37.700 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.700 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.700 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.704 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=57] ["start time"=3.731822ms]
[2021/02/04 11:19:37.704 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.705 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.705 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.706 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c1\""] [cnt=3]
[2021/02/04 11:19:37.711 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=57] ["start time"=3.266896ms]
[2021/02/04 11:19:37.711 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.711 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.711 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.715 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=57] ["start time"=3.564315ms]
[2021/02/04 11:19:37.716 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.716 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.716 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.716 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c2\""] [cnt=3]
[2021/02/04 11:19:37.722 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=57] ["start time"=4.608352ms]
[2021/02/04 11:19:37.722 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.722 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.722 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.726 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=57] ["start time"=3.071717ms]
[2021/02/04 11:19:37.726 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.726 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.726 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.726 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c1\""] [cnt=3]
[2021/02/04 11:19:37.730 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=57] ["start time"=3.2969ms]
[2021/02/04 11:19:37.730 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.730 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.730 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=57]
[2021/02/04 11:19:37.730 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c2\""] [cnt=3]
[2021/02/04 11:19:37.731 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=24] [schemaVersion=57] [cur_db=test] [sql="drop table admin_test"] [user=]
[2021/02/04 11:19:37.732 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:89, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:87, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.731 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.732 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:89, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:87, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.731 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table admin_test"]
[2021/02/04 11:19:37.732 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:89, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:87, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.731 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.732 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:89, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:87, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.731 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.732 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:89, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:87, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.731 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.733 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=89] [elementID=87]
[2021/02/04 11:19:37.733 +08:00] [INFO] [delete_range.go:106] ["[ddl] add job into delete-range table"] [jobID=89] [jobType="drop table"]
[2021/02/04 11:19:37.733 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:89, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:87, RowCount:0, ArgLen:2, start time: 2021-02-04 11:19:37.731 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.733 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=89]
[2021/02/04 11:19:37.733 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.734 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=57] [neededSchemaVersion=60] ["start time"=43.378µs] [phyTblIDs="[87]"] [actionTypes="[16]"]
PASS: admin_test.go:563: testSuite5.TestAdminCleanupIndexMore	0.110s
[2021/02/04 11:19:37.734 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=25] [schemaVersion=60] [cur_db=test] [sql="drop table if exists admin_test"] [user=]
[2021/02/04 11:19:37.734 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=25] [schemaVersion=60] [cur_db=test] [sql="create table admin_test (c1 int, c2 int, c3 int, primary key (c1, c2))"] [user=]
[2021/02/04 11:19:37.735 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:91, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:37.734 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.735 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:91, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:37.734 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table admin_test (c1 int, c2 int, c3 int, primary key (c1, c2))"]
[2021/02/04 11:19:37.735 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:91, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.734 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.735 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:91, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.734 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.735 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=89] [elementID=87]
[2021/02/04 11:19:37.736 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=91]
[2021/02/04 11:19:37.736 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.736 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=60] [neededSchemaVersion=61] ["start time"=86.254µs] [phyTblIDs="[90]"] [actionTypes="[8]"]
[2021/02/04 11:19:37.736 +08:00] [WARN] [2pc.go:1522] ["schemaLeaseChecker is not set for this transaction"] [sessionID=25] [startTS=422683286630825986] [commitTS=422683286630825987]
[2021/02/04 11:19:37.740 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=61] ["start time"=3.14191ms]
[2021/02/04 11:19:37.740 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=61]
[2021/02/04 11:19:37.740 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=61]
[2021/02/04 11:19:37.740 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=61]
[2021/02/04 11:19:37.743 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=61] ["start time"=3.126739ms]
[2021/02/04 11:19:37.744 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=61]
[2021/02/04 11:19:37.744 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=61]
[2021/02/04 11:19:37.744 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=61]
[2021/02/04 11:19:37.744 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"PRIMARY\""] [cnt=6]
[2021/02/04 11:19:37.744 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.744 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=61] [error="handle 100, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:4, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>"] [errorVerbose="handle 100, index:types.Datum{k:0x1, decimal:0x0, length:0x0, i:4, collation:\"\", b:[]uint8(nil), x:interface {}(nil)} != record:<nil>\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData.func1\n\t/Users/damn/go/tidb/executor/distsql.go:1077\ngithub.com/pingcap/tidb/kv.(*HandleMap).Range\n\t/Users/damn/go/tidb/kv/key.go:405\ngithub.com/pingcap/tidb/executor.(*tableWorker).compareData\n\t/Users/damn/go/tidb/executor/distsql.go:1075\ngithub.com/pingcap/tidb/executor.(*tableWorker).executeTask\n\t/Users/damn/go/tidb/executor/distsql.go:1129\ngithub.com/pingcap/tidb/executor.(*tableWorker).pickAndExecTask\n\t/Users/damn/go/tidb/executor/distsql.go:948\ngithub.com/pingcap/tidb/executor.(*IndexLookUpExecutor).startTableWorker.func1\n\t/Users/damn/go/tidb/executor/distsql.go:595\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 25,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.748 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=61] ["start time"=3.78947ms]
[2021/02/04 11:19:37.748 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=61]
[2021/02/04 11:19:37.749 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=61]
[2021/02/04 11:19:37.749 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=61]
[2021/02/04 11:19:37.752 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=61] ["start time"=3.254987ms]
[2021/02/04 11:19:37.752 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=61]
[2021/02/04 11:19:37.753 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=61]
[2021/02/04 11:19:37.753 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=61]
[2021/02/04 11:19:37.753 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"PRIMARY\""] [cnt=6]
[2021/02/04 11:19:37.753 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.753 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=61] [error="[admin:8003]table count 3 != index(PRIMARY) count 6"] [errorVerbose="[admin:8003]table count 3 != index(PRIMARY) count 6\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:147\ngithub.com/pingcap/tidb/util/admin.CheckIndicesCount\n\t/Users/damn/go/tidb/util/admin/admin.go:363\ngithub.com/pingcap/tidb/executor.(*CheckTableExec).Next\n\t/Users/damn/go/tidb/executor/executor.go:746\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/damn/go/tidb/executor/executor.go:279\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/damn/go/tidb/executor/adapter.go:537\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/damn/go/tidb/executor/adapter.go:418\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/damn/go/tidb/executor/adapter.go:368\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/damn/go/tidb/session/session.go:1632\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1537\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).Exec\n\t/Users/damn/go/tidb/util/testkit/testkit.go:170\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).ExecToErr\n\t/Users/damn/go/tidb/util/testkit/testkit.go:288\ngithub.com/pingcap/tidb/executor_test.(*testSuite5).TestAdminCleanupIndexPKNotHandle\n\t/Users/damn/go/tidb/executor/admin_test.go:551\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:850\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 25,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.760 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=61] ["start time"=3.071716ms]
[2021/02/04 11:19:37.760 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=61]
[2021/02/04 11:19:37.760 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=61]
[2021/02/04 11:19:37.760 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=61]
[2021/02/04 11:19:37.764 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=61] ["start time"=3.32941ms]
[2021/02/04 11:19:37.764 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=61]
[2021/02/04 11:19:37.764 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=61]
[2021/02/04 11:19:37.764 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=61]
[2021/02/04 11:19:37.765 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"PRIMARY\""] [cnt=3]
[2021/02/04 11:19:37.768 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=61] ["start time"=2.972745ms]
[2021/02/04 11:19:37.768 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=61]
[2021/02/04 11:19:37.769 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=61]
[2021/02/04 11:19:37.769 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=61]
[2021/02/04 11:19:37.772 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=61] ["start time"=2.849506ms]
[2021/02/04 11:19:37.772 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=61]
[2021/02/04 11:19:37.772 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=61]
[2021/02/04 11:19:37.772 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=61]
[2021/02/04 11:19:37.772 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"PRIMARY\""] [cnt=3]
[2021/02/04 11:19:37.773 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=26] [schemaVersion=61] [cur_db=test] [sql="drop table admin_test"] [user=]
[2021/02/04 11:19:37.774 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:92, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.774 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:92, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table admin_test"]
[2021/02/04 11:19:37.774 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:92, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.775 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:92, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.775 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:92, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:90, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.776 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=92] [elementID=90]
[2021/02/04 11:19:37.776 +08:00] [INFO] [delete_range.go:106] ["[ddl] add job into delete-range table"] [jobID=92] [jobType="drop table"]
[2021/02/04 11:19:37.776 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:92, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:90, RowCount:0, ArgLen:2, start time: 2021-02-04 11:19:37.773 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.777 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=92]
[2021/02/04 11:19:37.777 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.777 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=61] [neededSchemaVersion=64] ["start time"=76.337µs] [phyTblIDs="[90]"] [actionTypes="[16]"]
PASS: admin_test.go:514: testSuite5.TestAdminCleanupIndexPKNotHandle	0.039s
[2021/02/04 11:19:37.777 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=27] [schemaVersion=64] [cur_db=test] [sql="drop table if exists admin_test"] [user=]
[2021/02/04 11:19:37.778 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=27] [schemaVersion=64] [cur_db=test] [sql="create table admin_test (c1 int, c2 int, c3 int default 1, index (c1), unique key(c2))"] [user=]
[2021/02/04 11:19:37.778 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:94, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:93, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:37.778 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.778 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:94, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:93, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:37.778 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table admin_test (c1 int, c2 int, c3 int default 1, index (c1), unique key(c2))"]
[2021/02/04 11:19:37.778 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:94, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:93, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.778 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.779 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=92] [elementID=90]
[2021/02/04 11:19:37.779 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:94, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:93, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.778 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.779 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=94]
[2021/02/04 11:19:37.779 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.780 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=64] [neededSchemaVersion=65] ["start time"=145.775µs] [phyTblIDs="[93]"] [actionTypes="[8]"]
[2021/02/04 11:19:37.780 +08:00] [WARN] [2pc.go:1522] ["schemaLeaseChecker is not set for this transaction"] [sessionID=27] [startTS=422683286642360321] [commitTS=422683286642360322]
[2021/02/04 11:19:37.784 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=65] ["start time"=3.193941ms]
[2021/02/04 11:19:37.784 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=65]
[2021/02/04 11:19:37.784 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=65]
[2021/02/04 11:19:37.784 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=65]
[2021/02/04 11:19:37.788 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=65] ["start time"=3.601743ms]
[2021/02/04 11:19:37.788 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=65]
[2021/02/04 11:19:37.789 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=65]
[2021/02/04 11:19:37.789 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=65]
[2021/02/04 11:19:37.789 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c1\""] [cnt=3]
[2021/02/04 11:19:37.793 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=65] ["start time"=3.615883ms]
[2021/02/04 11:19:37.793 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=65]
[2021/02/04 11:19:37.793 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=65]
[2021/02/04 11:19:37.793 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=65]
[2021/02/04 11:19:37.797 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=65] ["start time"=3.209397ms]
[2021/02/04 11:19:37.797 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=65]
[2021/02/04 11:19:37.797 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=65]
[2021/02/04 11:19:37.797 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=65]
[2021/02/04 11:19:37.797 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c2\""] [cnt=3]
[2021/02/04 11:19:37.798 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=27] [schemaVersion=65] [cur_db=test] [sql="drop table if exists admin_test"] [user=]
[2021/02/04 11:19:37.798 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:95, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:93, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.798 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.798 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:95, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:93, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.798 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table if exists admin_test"]
[2021/02/04 11:19:37.798 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:95, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:93, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.798 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.798 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:95, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:93, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.798 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.799 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:95, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:93, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.798 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.799 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=95] [elementID=93]
[2021/02/04 11:19:37.799 +08:00] [INFO] [delete_range.go:106] ["[ddl] add job into delete-range table"] [jobID=95] [jobType="drop table"]
[2021/02/04 11:19:37.800 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:95, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:93, RowCount:0, ArgLen:2, start time: 2021-02-04 11:19:37.798 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.800 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=95]
[2021/02/04 11:19:37.800 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.800 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=65] [neededSchemaVersion=68] ["start time"=68.908µs] [phyTblIDs="[93]"] [actionTypes="[16]"]
[2021/02/04 11:19:37.800 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=27] [schemaVersion=68] [cur_db=test] [sql="create table admin_test (c1 int, c2 int, c3 int default 1, primary key(c1), unique key(c2))"] [user=]
[2021/02/04 11:19:37.801 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:97, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:37.8 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.801 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:97, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:37.8 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table admin_test (c1 int, c2 int, c3 int default 1, primary key(c1), unique key(c2))"]
[2021/02/04 11:19:37.801 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:97, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.8 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.801 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=95] [elementID=93]
[2021/02/04 11:19:37.801 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:97, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.8 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.802 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=97]
[2021/02/04 11:19:37.802 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.802 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=68] [neededSchemaVersion=69] ["start time"=88.931µs] [phyTblIDs="[96]"] [actionTypes="[8]"]
[2021/02/04 11:19:37.802 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.802 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=69] [error="index `c1` is not found in table `admin_test`."] [errorVerbose="index `c1` is not found in table `admin_test`.\ngithub.com/pingcap/tidb/executor.(*executorBuilder).buildRecoverIndex\n\t/Users/damn/go/tidb/executor/builder.go:444\ngithub.com/pingcap/tidb/executor.(*executorBuilder).build\n\t/Users/damn/go/tidb/executor/builder.go:108\ngithub.com/pingcap/tidb/executor.(*ExecStmt).buildExecutor\n\t/Users/damn/go/tidb/executor/adapter.go:763\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/damn/go/tidb/executor/adapter.go:331\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/damn/go/tidb/session/session.go:1632\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1537\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).Exec\n\t/Users/damn/go/tidb/util/testkit/testkit.go:170\ngithub.com/pingcap/tidb/executor_test.(*testSuite5).TestAdminRecoverIndex\n\t/Users/damn/go/tidb/executor/admin_test.go:98\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:850\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 27,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.807 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=69] ["start time"=3.787916ms]
[2021/02/04 11:19:37.807 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.807 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.807 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.812 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=69] ["start time"=4.363774ms]
[2021/02/04 11:19:37.812 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.813 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.813 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.813 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=5] [index="\"c2\""] [cnt=5]
[2021/02/04 11:19:37.817 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=69] ["start time"=3.43822ms]
[2021/02/04 11:19:37.818 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.818 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.818 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.821 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=69] ["start time"=3.084141ms]
[2021/02/04 11:19:37.821 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.821 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.821 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.822 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=5] [index="\"c2\""] [cnt=4]
[2021/02/04 11:19:37.822 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.822 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=69] [error="[executor:8003]admin_test err:[admin:8223]index:<nil> != record:&admin.RecordData{Handle:1, Values:[]types.Datum{types.Datum{k:0x1, decimal:0x0, length:0x0, i:1, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}}}"] [errorVerbose="[executor:8003]admin_test err:[admin:8223]index:<nil> != record:&admin.RecordData{Handle:1, Values:[]types.Datum{types.Datum{k:0x1, decimal:0x0, length:0x0, i:1, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}}}\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:147\ngithub.com/pingcap/tidb/executor.(*CheckTableExec).Next\n\t/Users/damn/go/tidb/executor/executor.go:758\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/damn/go/tidb/executor/executor.go:279\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/damn/go/tidb/executor/adapter.go:537\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/damn/go/tidb/executor/adapter.go:418\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/damn/go/tidb/executor/adapter.go:368\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/damn/go/tidb/session/session.go:1632\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1537\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).Exec\n\t/Users/damn/go/tidb/util/testkit/testkit.go:170\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).ExecToErr\n\t/Users/damn/go/tidb/util/testkit/testkit.go:288\ngithub.com/pingcap/tidb/executor_test.(*testSuite5).TestAdminRecoverIndex\n\t/Users/damn/go/tidb/executor/admin_test.go:125\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:850\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 27,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.825 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=69] ["start time"=3.222045ms]
[2021/02/04 11:19:37.826 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.826 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.826 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.830 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=69] ["start time"=3.791828ms]
[2021/02/04 11:19:37.830 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.830 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.830 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.830 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=5] [index="\"c2\""] [cnt=4]
[2021/02/04 11:19:37.830 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.830 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=69] [error="[admin:8003]table count 5 != index(c2) count 4"] [errorVerbose="[admin:8003]table count 5 != index(c2) count 4\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:147\ngithub.com/pingcap/tidb/util/admin.CheckIndicesCount\n\t/Users/damn/go/tidb/util/admin/admin.go:363\ngithub.com/pingcap/tidb/executor.(*CheckTableExec).Next\n\t/Users/damn/go/tidb/executor/executor.go:746\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/damn/go/tidb/executor/executor.go:279\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/damn/go/tidb/executor/adapter.go:537\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/damn/go/tidb/executor/adapter.go:418\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/damn/go/tidb/executor/adapter.go:368\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/damn/go/tidb/session/session.go:1632\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1537\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).Exec\n\t/Users/damn/go/tidb/util/testkit/testkit.go:170\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).ExecToErr\n\t/Users/damn/go/tidb/util/testkit/testkit.go:288\ngithub.com/pingcap/tidb/executor_test.(*testSuite5).TestAdminRecoverIndex\n\t/Users/damn/go/tidb/executor/admin_test.go:128\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:850\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 27,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.835 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=69] ["start time"=3.158309ms]
[2021/02/04 11:19:37.835 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.835 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.835 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.839 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=69] ["start time"=3.933416ms]
[2021/02/04 11:19:37.839 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.839 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.839 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.840 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=5] [index="\"c2\""] [cnt=5]
[2021/02/04 11:19:37.843 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=69] ["start time"=3.390564ms]
[2021/02/04 11:19:37.843 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.844 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.844 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.847 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=69] ["start time"=3.18281ms]
[2021/02/04 11:19:37.847 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.847 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.847 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.848 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=5] [index="\"c2\""] [cnt=5]
[2021/02/04 11:19:37.852 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=69] ["start time"=3.755718ms]
[2021/02/04 11:19:37.852 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.852 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.852 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.856 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=69] ["start time"=3.270521ms]
[2021/02/04 11:19:37.856 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.856 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.856 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.856 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=5] [index="\"c2\""] [cnt=4]
[2021/02/04 11:19:37.856 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.856 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=69] [error="[admin:8003]table count 5 != index(c2) count 4"] [errorVerbose="[admin:8003]table count 5 != index(c2) count 4\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:147\ngithub.com/pingcap/tidb/util/admin.CheckIndicesCount\n\t/Users/damn/go/tidb/util/admin/admin.go:363\ngithub.com/pingcap/tidb/executor.(*CheckTableExec).Next\n\t/Users/damn/go/tidb/executor/executor.go:746\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/damn/go/tidb/executor/executor.go:279\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/damn/go/tidb/executor/adapter.go:537\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/damn/go/tidb/executor/adapter.go:418\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/damn/go/tidb/executor/adapter.go:368\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/damn/go/tidb/session/session.go:1632\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1537\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).Exec\n\t/Users/damn/go/tidb/util/testkit/testkit.go:170\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).ExecToErr\n\t/Users/damn/go/tidb/util/testkit/testkit.go:288\ngithub.com/pingcap/tidb/executor_test.(*testSuite5).TestAdminRecoverIndex\n\t/Users/damn/go/tidb/executor/admin_test.go:149\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:850\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 27,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.860 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=69] ["start time"=3.435201ms]
[2021/02/04 11:19:37.860 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.860 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.860 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.864 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=69] ["start time"=3.698493ms]
[2021/02/04 11:19:37.864 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.865 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.865 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.866 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=5] [index="\"c2\""] [cnt=5]
[2021/02/04 11:19:37.870 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=69] ["start time"=3.104013ms]
[2021/02/04 11:19:37.870 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.870 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.870 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.874 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=69] ["start time"=3.427919ms]
[2021/02/04 11:19:37.874 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.875 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.875 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.875 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=5] [index="\"c2\""] [cnt=5]
[2021/02/04 11:19:37.879 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=69] ["start time"=3.123173ms]
[2021/02/04 11:19:37.879 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.879 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.879 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.883 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=69] ["start time"=2.946443ms]
[2021/02/04 11:19:37.883 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.883 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.883 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.883 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=5] [index="\"c2\""] [cnt=0]
[2021/02/04 11:19:37.883 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.883 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=69] [error="[executor:8003]admin_test err:[admin:8223]index:<nil> != record:&admin.RecordData{Handle:1, Values:[]types.Datum{types.Datum{k:0x1, decimal:0x0, length:0x0, i:1, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}}}"] [errorVerbose="[executor:8003]admin_test err:[admin:8223]index:<nil> != record:&admin.RecordData{Handle:1, Values:[]types.Datum{types.Datum{k:0x1, decimal:0x0, length:0x0, i:1, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}}}\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:147\ngithub.com/pingcap/tidb/executor.(*CheckTableExec).Next\n\t/Users/damn/go/tidb/executor/executor.go:758\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/damn/go/tidb/executor/executor.go:279\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/damn/go/tidb/executor/adapter.go:537\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/damn/go/tidb/executor/adapter.go:418\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/damn/go/tidb/executor/adapter.go:368\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/damn/go/tidb/session/session.go:1632\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1537\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).Exec\n\t/Users/damn/go/tidb/util/testkit/testkit.go:170\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).ExecToErr\n\t/Users/damn/go/tidb/util/testkit/testkit.go:288\ngithub.com/pingcap/tidb/executor_test.(*testSuite5).TestAdminRecoverIndex\n\t/Users/damn/go/tidb/executor/admin_test.go:171\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:850\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 27,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.887 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=69] ["start time"=3.165397ms]
[2021/02/04 11:19:37.887 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.887 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.887 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.892 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=69] ["start time"=4.331529ms]
[2021/02/04 11:19:37.892 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.892 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.892 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.892 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=5] [index="\"c2\""] [cnt=0]
[2021/02/04 11:19:37.892 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.892 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=69] [error="[admin:8003]table count 5 != index(c2) count 0"] [errorVerbose="[admin:8003]table count 5 != index(c2) count 0\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:147\ngithub.com/pingcap/tidb/util/admin.CheckIndicesCount\n\t/Users/damn/go/tidb/util/admin/admin.go:363\ngithub.com/pingcap/tidb/executor.(*CheckTableExec).Next\n\t/Users/damn/go/tidb/executor/executor.go:746\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/damn/go/tidb/executor/executor.go:279\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/damn/go/tidb/executor/adapter.go:537\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/damn/go/tidb/executor/adapter.go:418\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/damn/go/tidb/executor/adapter.go:368\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/damn/go/tidb/session/session.go:1632\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1537\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).Exec\n\t/Users/damn/go/tidb/util/testkit/testkit.go:170\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).ExecToErr\n\t/Users/damn/go/tidb/util/testkit/testkit.go:288\ngithub.com/pingcap/tidb/executor_test.(*testSuite5).TestAdminRecoverIndex\n\t/Users/damn/go/tidb/executor/admin_test.go:173\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:850\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 27,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.897 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=69] ["start time"=3.451329ms]
[2021/02/04 11:19:37.897 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.897 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.897 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.901 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=69] ["start time"=3.274118ms]
[2021/02/04 11:19:37.901 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.901 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.901 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.901 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=5] [index="\"c2\""] [cnt=5]
[2021/02/04 11:19:37.905 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=69] ["start time"=3.185149ms]
[2021/02/04 11:19:37.905 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.905 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.905 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.910 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=69] ["start time"=4.956374ms]
[2021/02/04 11:19:37.911 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.911 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.911 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=69]
[2021/02/04 11:19:37.911 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=5] [index="\"c2\""] [cnt=5]
[2021/02/04 11:19:37.914 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=28] [schemaVersion=69] [cur_db=test] [sql="drop table admin_test"] [user=]
[2021/02/04 11:19:37.915 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:98, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.914 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.915 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:98, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.914 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table admin_test"]
[2021/02/04 11:19:37.915 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:98, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.914 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.915 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:98, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.914 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.916 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:98, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:96, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.914 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.916 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=98] [elementID=96]
[2021/02/04 11:19:37.917 +08:00] [INFO] [delete_range.go:106] ["[ddl] add job into delete-range table"] [jobID=98] [jobType="drop table"]
[2021/02/04 11:19:37.917 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:98, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:96, RowCount:0, ArgLen:2, start time: 2021-02-04 11:19:37.914 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.918 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=98]
[2021/02/04 11:19:37.918 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.918 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=69] [neededSchemaVersion=72] ["start time"=62.704µs] [phyTblIDs="[96]"] [actionTypes="[16]"]
PASS: admin_test.go:78: testSuite5.TestAdminRecoverIndex	0.135s
[2021/02/04 11:19:37.919 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=29] [schemaVersion=72] [cur_db=test] [sql="drop table if exists admin_test"] [user=]
[2021/02/04 11:19:37.919 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=29] [schemaVersion=72] [cur_db=test] [sql="create table admin_test (c1 varchar(255), c2 int, c3 int default 1, primary key(c1), unique key(c2))"] [user=]
[2021/02/04 11:19:37.920 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:100, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:99, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:37.92 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.920 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:100, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:99, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:37.92 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table admin_test (c1 varchar(255), c2 int, c3 int default 1, primary key(c1), unique key(c2))"]
[2021/02/04 11:19:37.920 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:100, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:99, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.92 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.920 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=98] [elementID=96]
[2021/02/04 11:19:37.921 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:100, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:99, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.92 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.921 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=100]
[2021/02/04 11:19:37.921 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.921 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=72] [neededSchemaVersion=73] ["start time"=129.77µs] [phyTblIDs="[99]"] [actionTypes="[8]"]
[2021/02/04 11:19:37.922 +08:00] [WARN] [2pc.go:1522] ["schemaLeaseChecker is not set for this transaction"] [sessionID=29] [startTS=422683286679584769] [commitTS=422683286679584770]
[2021/02/04 11:19:37.927 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=73] ["start time"=3.080478ms]
[2021/02/04 11:19:37.927 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=73]
[2021/02/04 11:19:37.927 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=73]
[2021/02/04 11:19:37.927 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=73]
[2021/02/04 11:19:37.930 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=73] ["start time"=3.019773ms]
[2021/02/04 11:19:37.930 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=73]
[2021/02/04 11:19:37.930 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=73]
[2021/02/04 11:19:37.930 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=73]
[2021/02/04 11:19:37.931 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=5] [index="\"PRIMARY\""] [cnt=5]
[2021/02/04 11:19:37.934 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=73] ["start time"=3.293257ms]
[2021/02/04 11:19:37.934 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=73]
[2021/02/04 11:19:37.934 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=73]
[2021/02/04 11:19:37.934 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=73]
[2021/02/04 11:19:37.934 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=5] [index="\"c2\""] [cnt=5]
[2021/02/04 11:19:37.938 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=73] ["start time"=3.393919ms]
[2021/02/04 11:19:37.938 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=73]
[2021/02/04 11:19:37.939 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=73]
[2021/02/04 11:19:37.939 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=73]
[2021/02/04 11:19:37.942 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=73] ["start time"=3.304599ms]
[2021/02/04 11:19:37.942 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=73]
[2021/02/04 11:19:37.942 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=73]
[2021/02/04 11:19:37.942 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=73]
[2021/02/04 11:19:37.942 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=5] [index="\"c2\""] [cnt=5]
[2021/02/04 11:19:37.946 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=73] ["start time"=3.071025ms]
[2021/02/04 11:19:37.946 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=73]
[2021/02/04 11:19:37.946 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=73]
[2021/02/04 11:19:37.946 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=73]
[2021/02/04 11:19:37.950 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=73] ["start time"=3.43829ms]
[2021/02/04 11:19:37.950 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=73]
[2021/02/04 11:19:37.950 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=73]
[2021/02/04 11:19:37.950 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=73]
[2021/02/04 11:19:37.950 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=5] [index="\"PRIMARY\""] [cnt=5]
[2021/02/04 11:19:37.951 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=30] [schemaVersion=73] [cur_db=test] [sql="drop table admin_test"] [user=]
[2021/02/04 11:19:37.952 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:101, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:99, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.951 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.952 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:101, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:99, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.951 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table admin_test"]
[2021/02/04 11:19:37.952 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:101, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:99, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.951 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.952 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:101, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:99, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.951 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.953 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:101, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:99, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.951 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.955 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=101] [elementID=99]
[2021/02/04 11:19:37.955 +08:00] [INFO] [delete_range.go:106] ["[ddl] add job into delete-range table"] [jobID=101] [jobType="drop table"]
[2021/02/04 11:19:37.955 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:101, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:99, RowCount:0, ArgLen:2, start time: 2021-02-04 11:19:37.951 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.956 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=101]
[2021/02/04 11:19:37.956 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.956 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=73] [neededSchemaVersion=76] ["start time"=52.696µs] [phyTblIDs="[99]"] [actionTypes="[16]"]
PASS: admin_test.go:304: testSuite5.TestAdminRecoverIndex1	0.032s
[2021/02/04 11:19:37.956 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=31] [schemaVersion=76] [cur_db=test] [sql="drop table if exists admin_test"] [user=]
[2021/02/04 11:19:37.956 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=31] [schemaVersion=76] [cur_db=test] [sql="create table admin_test (c1 int, c2 int, c3 int default 1, primary key (c1), index (c2)) partition by hash(c1) partitions 3;"] [user=]
[2021/02/04 11:19:37.957 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:106, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:102, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:37.956 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:37.957 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:106, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:102, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:37.956 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table admin_test (c1 int, c2 int, c3 int default 1, primary key (c1), index (c2)) partition by hash(c1) partitions 3;"]
[2021/02/04 11:19:37.957 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:106, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:102, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.956 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.957 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=101] [elementID=99]
[2021/02/04 11:19:37.958 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:106, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:102, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:37.956 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:37.958 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=106]
[2021/02/04 11:19:37.958 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:37.958 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=76] [neededSchemaVersion=77] ["start time"=207.365µs] [phyTblIDs="[102,103,104,105]"] [actionTypes="[8,8,8,8]"]
[2021/02/04 11:19:37.962 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=77] ["start time"=3.208701ms]
[2021/02/04 11:19:37.962 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:37.963 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:37.963 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:37.966 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=77] ["start time"=3.156806ms]
[2021/02/04 11:19:37.966 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:37.967 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:37.967 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:37.967 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c2\""] [cnt=2]
[2021/02/04 11:19:37.967 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.967 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=77] [error="[executor:8003]admin_test err:[admin:8223]index:<nil> != record:&admin.RecordData{Handle:0, Values:[]types.Datum{types.Datum{k:0x1, decimal:0x0, length:0x0, i:0, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}}}"] [errorVerbose="[executor:8003]admin_test err:[admin:8223]index:<nil> != record:&admin.RecordData{Handle:0, Values:[]types.Datum{types.Datum{k:0x1, decimal:0x0, length:0x0, i:0, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}}}\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:147\ngithub.com/pingcap/tidb/executor.(*CheckTableExec).Next\n\t/Users/damn/go/tidb/executor/executor.go:758\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/damn/go/tidb/executor/executor.go:279\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/damn/go/tidb/executor/adapter.go:537\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/damn/go/tidb/executor/adapter.go:418\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/damn/go/tidb/executor/adapter.go:368\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/damn/go/tidb/session/session.go:1632\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1537\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).Exec\n\t/Users/damn/go/tidb/util/testkit/testkit.go:170\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).ExecToErr\n\t/Users/damn/go/tidb/util/testkit/testkit.go:288\ngithub.com/pingcap/tidb/executor_test.(*testSuite5).TestAdminRecoverPartitionTableIndex.func2\n\t/Users/damn/go/tidb/executor/admin_test.go:259\ngithub.com/pingcap/tidb/executor_test.(*testSuite5).TestAdminRecoverPartitionTableIndex\n\t/Users/damn/go/tidb/executor/admin_test.go:284\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:850\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 31,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.972 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=77] ["start time"=3.267334ms]
[2021/02/04 11:19:37.972 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:37.972 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:37.972 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:37.976 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=77] ["start time"=3.653461ms]
[2021/02/04 11:19:37.976 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:37.976 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:37.976 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:37.976 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c2\""] [cnt=3]
[2021/02/04 11:19:37.980 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=77] ["start time"=3.119424ms]
[2021/02/04 11:19:37.980 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:37.980 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:37.980 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:37.984 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=77] ["start time"=3.181224ms]
[2021/02/04 11:19:37.984 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:37.984 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:37.984 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:37.984 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c2\""] [cnt=2]
[2021/02/04 11:19:37.984 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:37.984 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=77] [error="[executor:8003]admin_test err:[admin:8223]index:<nil> != record:&admin.RecordData{Handle:1, Values:[]types.Datum{types.Datum{k:0x1, decimal:0x0, length:0x0, i:1, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}}}"] [errorVerbose="[executor:8003]admin_test err:[admin:8223]index:<nil> != record:&admin.RecordData{Handle:1, Values:[]types.Datum{types.Datum{k:0x1, decimal:0x0, length:0x0, i:1, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}}}\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:147\ngithub.com/pingcap/tidb/executor.(*CheckTableExec).Next\n\t/Users/damn/go/tidb/executor/executor.go:758\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/damn/go/tidb/executor/executor.go:279\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/damn/go/tidb/executor/adapter.go:537\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/damn/go/tidb/executor/adapter.go:418\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/damn/go/tidb/executor/adapter.go:368\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/damn/go/tidb/session/session.go:1632\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1537\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).Exec\n\t/Users/damn/go/tidb/util/testkit/testkit.go:170\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).ExecToErr\n\t/Users/damn/go/tidb/util/testkit/testkit.go:288\ngithub.com/pingcap/tidb/executor_test.(*testSuite5).TestAdminRecoverPartitionTableIndex.func2\n\t/Users/damn/go/tidb/executor/admin_test.go:259\ngithub.com/pingcap/tidb/executor_test.(*testSuite5).TestAdminRecoverPartitionTableIndex\n\t/Users/damn/go/tidb/executor/admin_test.go:284\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:850\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 31,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:37.990 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=77] ["start time"=3.808911ms]
[2021/02/04 11:19:37.990 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:37.990 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:37.990 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:37.995 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=77] ["start time"=4.136873ms]
[2021/02/04 11:19:37.995 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:37.996 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:37.996 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:37.996 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c2\""] [cnt=3]
[2021/02/04 11:19:38.000 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=77] ["start time"=3.454958ms]
[2021/02/04 11:19:38.000 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:38.001 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:38.001 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:38.005 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=77] ["start time"=3.810367ms]
[2021/02/04 11:19:38.005 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:38.005 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:38.005 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:38.005 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c2\""] [cnt=2]
[2021/02/04 11:19:38.006 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:38.006 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=77] [error="[executor:8003]admin_test err:[admin:8223]index:<nil> != record:&admin.RecordData{Handle:2, Values:[]types.Datum{types.Datum{k:0x1, decimal:0x0, length:0x0, i:2, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}}}"] [errorVerbose="[executor:8003]admin_test err:[admin:8223]index:<nil> != record:&admin.RecordData{Handle:2, Values:[]types.Datum{types.Datum{k:0x1, decimal:0x0, length:0x0, i:2, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}}}\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:147\ngithub.com/pingcap/tidb/executor.(*CheckTableExec).Next\n\t/Users/damn/go/tidb/executor/executor.go:758\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/damn/go/tidb/executor/executor.go:279\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/damn/go/tidb/executor/adapter.go:537\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/damn/go/tidb/executor/adapter.go:418\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/damn/go/tidb/executor/adapter.go:368\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/damn/go/tidb/session/session.go:1632\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1537\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).Exec\n\t/Users/damn/go/tidb/util/testkit/testkit.go:170\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).ExecToErr\n\t/Users/damn/go/tidb/util/testkit/testkit.go:288\ngithub.com/pingcap/tidb/executor_test.(*testSuite5).TestAdminRecoverPartitionTableIndex.func2\n\t/Users/damn/go/tidb/executor/admin_test.go:259\ngithub.com/pingcap/tidb/executor_test.(*testSuite5).TestAdminRecoverPartitionTableIndex\n\t/Users/damn/go/tidb/executor/admin_test.go:284\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:850\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 31,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:38.011 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=77] ["start time"=3.451493ms]
[2021/02/04 11:19:38.011 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:38.012 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:38.012 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:38.015 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=77] ["start time"=3.007886ms]
[2021/02/04 11:19:38.015 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:38.015 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:38.015 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=77]
[2021/02/04 11:19:38.016 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c2\""] [cnt=3]
[2021/02/04 11:19:38.016 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=31] [schemaVersion=77] [cur_db=test] [sql="drop table if exists admin_test"] [user=]
[2021/02/04 11:19:38.016 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:107, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:102, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:38.016 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:38.016 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:107, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:102, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:38.016 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table if exists admin_test"]
[2021/02/04 11:19:38.017 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:107, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:102, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:38.016 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:38.017 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:107, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:102, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:38.016 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:38.017 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:107, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:102, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:38.016 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:38.018 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=107] [elementID=103]
[2021/02/04 11:19:38.018 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=107] [elementID=104]
[2021/02/04 11:19:38.018 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=107] [elementID=105]
[2021/02/04 11:19:38.019 +08:00] [INFO] [delete_range.go:106] ["[ddl] add job into delete-range table"] [jobID=107] [jobType="drop table"]
[2021/02/04 11:19:38.019 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:107, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:102, RowCount:0, ArgLen:2, start time: 2021-02-04 11:19:38.016 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:38.019 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=107]
[2021/02/04 11:19:38.019 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:38.019 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=77] [neededSchemaVersion=80] ["start time"=65.255µs] [phyTblIDs="[102,103,104,105]"] [actionTypes="[16,16,16,16]"]
[2021/02/04 11:19:38.019 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=31] [schemaVersion=80] [cur_db=test] [sql="create table admin_test (c1 int, c2 int, c3 int default 1, primary key (c1), index (c2)) PARTITION BY RANGE ( c1 ) (\n\t\tPARTITION p0 VALUES LESS THAN (5),\n\t\tPARTITION p1 VALUES LESS THAN (10),\n\t\tPARTITION p2 VALUES LESS THAN (MAXVALUE))"] [user=]
[2021/02/04 11:19:38.020 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:112, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:108, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:38.02 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:38.020 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:112, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:108, RowCount:0, ArgLen:1, start time: 2021-02-04 11:19:38.02 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="create table admin_test (c1 int, c2 int, c3 int default 1, primary key (c1), index (c2)) PARTITION BY RANGE ( c1 ) (\n\t\tPARTITION p0 VALUES LESS THAN (5),\n\t\tPARTITION p1 VALUES LESS THAN (10),\n\t\tPARTITION p2 VALUES LESS THAN (MAXVALUE))"]
[2021/02/04 11:19:38.020 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:112, Type:create table, State:none, SchemaState:none, SchemaID:1, TableID:108, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:38.02 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:38.020 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=107] [elementID=103]
[2021/02/04 11:19:38.021 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:112, Type:create table, State:synced, SchemaState:public, SchemaID:1, TableID:108, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:38.02 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:38.021 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=112]
[2021/02/04 11:19:38.021 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:38.021 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=107] [elementID=104]
[2021/02/04 11:19:38.021 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=80] [neededSchemaVersion=81] ["start time"=190.437µs] [phyTblIDs="[108,109,110,111]"] [actionTypes="[8,8,8,8]"]
[2021/02/04 11:19:38.022 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=107] [elementID=105]
[2021/02/04 11:19:38.026 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=81] ["start time"=3.206094ms]
[2021/02/04 11:19:38.026 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.026 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.026 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.030 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=81] ["start time"=3.913038ms]
[2021/02/04 11:19:38.030 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.030 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.030 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.030 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c2\""] [cnt=2]
[2021/02/04 11:19:38.031 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:38.031 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=81] [error="[executor:8003]admin_test err:[admin:8223]index:<nil> != record:&admin.RecordData{Handle:0, Values:[]types.Datum{types.Datum{k:0x1, decimal:0x0, length:0x0, i:0, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}}}"] [errorVerbose="[executor:8003]admin_test err:[admin:8223]index:<nil> != record:&admin.RecordData{Handle:0, Values:[]types.Datum{types.Datum{k:0x1, decimal:0x0, length:0x0, i:0, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}}}\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:147\ngithub.com/pingcap/tidb/executor.(*CheckTableExec).Next\n\t/Users/damn/go/tidb/executor/executor.go:758\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/damn/go/tidb/executor/executor.go:279\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/damn/go/tidb/executor/adapter.go:537\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/damn/go/tidb/executor/adapter.go:418\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/damn/go/tidb/executor/adapter.go:368\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/damn/go/tidb/session/session.go:1632\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1537\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).Exec\n\t/Users/damn/go/tidb/util/testkit/testkit.go:170\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).ExecToErr\n\t/Users/damn/go/tidb/util/testkit/testkit.go:288\ngithub.com/pingcap/tidb/executor_test.(*testSuite5).TestAdminRecoverPartitionTableIndex.func2\n\t/Users/damn/go/tidb/executor/admin_test.go:259\ngithub.com/pingcap/tidb/executor_test.(*testSuite5).TestAdminRecoverPartitionTableIndex\n\t/Users/damn/go/tidb/executor/admin_test.go:300\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:850\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 31,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:38.035 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=81] ["start time"=3.172391ms]
[2021/02/04 11:19:38.035 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.036 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.036 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.042 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=81] ["start time"=5.77714ms]
[2021/02/04 11:19:38.042 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.042 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.042 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.042 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c2\""] [cnt=3]
[2021/02/04 11:19:38.047 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=81] ["start time"=3.449471ms]
[2021/02/04 11:19:38.047 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.047 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.047 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.051 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=81] ["start time"=3.183514ms]
[2021/02/04 11:19:38.051 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.051 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.051 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.051 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c2\""] [cnt=2]
[2021/02/04 11:19:38.051 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:38.051 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=81] [error="[executor:8003]admin_test err:[admin:8223]index:<nil> != record:&admin.RecordData{Handle:6, Values:[]types.Datum{types.Datum{k:0x1, decimal:0x0, length:0x0, i:6, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}}}"] [errorVerbose="[executor:8003]admin_test err:[admin:8223]index:<nil> != record:&admin.RecordData{Handle:6, Values:[]types.Datum{types.Datum{k:0x1, decimal:0x0, length:0x0, i:6, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}}}\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:147\ngithub.com/pingcap/tidb/executor.(*CheckTableExec).Next\n\t/Users/damn/go/tidb/executor/executor.go:758\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/damn/go/tidb/executor/executor.go:279\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/damn/go/tidb/executor/adapter.go:537\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/damn/go/tidb/executor/adapter.go:418\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/damn/go/tidb/executor/adapter.go:368\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/damn/go/tidb/session/session.go:1632\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1537\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).Exec\n\t/Users/damn/go/tidb/util/testkit/testkit.go:170\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).ExecToErr\n\t/Users/damn/go/tidb/util/testkit/testkit.go:288\ngithub.com/pingcap/tidb/executor_test.(*testSuite5).TestAdminRecoverPartitionTableIndex.func2\n\t/Users/damn/go/tidb/executor/admin_test.go:259\ngithub.com/pingcap/tidb/executor_test.(*testSuite5).TestAdminRecoverPartitionTableIndex\n\t/Users/damn/go/tidb/executor/admin_test.go:300\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:850\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 31,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:38.057 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=81] ["start time"=3.40098ms]
[2021/02/04 11:19:38.057 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.057 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.057 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.061 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=81] ["start time"=3.50252ms]
[2021/02/04 11:19:38.061 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.061 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.061 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.062 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c2\""] [cnt=3]
[2021/02/04 11:19:38.066 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=81] ["start time"=3.654069ms]
[2021/02/04 11:19:38.066 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.066 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.066 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.070 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=81] ["start time"=3.739046ms]
[2021/02/04 11:19:38.070 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.071 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.071 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.071 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c2\""] [cnt=2]
[2021/02/04 11:19:38.071 +08:00] [INFO] [tidb.go:238] ["rollbackTxn for ddl/autocommit failed"]
[2021/02/04 11:19:38.071 +08:00] [WARN] [session.go:1540] ["run statement failed"] [schemaVersion=81] [error="[executor:8003]admin_test err:[admin:8223]index:<nil> != record:&admin.RecordData{Handle:12, Values:[]types.Datum{types.Datum{k:0x1, decimal:0x0, length:0x0, i:12, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}}}"] [errorVerbose="[executor:8003]admin_test err:[admin:8223]index:<nil> != record:&admin.RecordData{Handle:12, Values:[]types.Datum{types.Datum{k:0x1, decimal:0x0, length:0x0, i:12, collation:\"\", b:[]uint8(nil), x:interface {}(nil)}}}\ngithub.com/pingcap/errors.AddStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/errors.go:174\ngithub.com/pingcap/errors.(*Error).GenWithStack\n\t/Users/damn/go/pkg/mod/github.com/pingcap/errors@v0.11.5-0.20201126102027-b0a155152ca3/normalize.go:147\ngithub.com/pingcap/tidb/executor.(*CheckTableExec).Next\n\t/Users/damn/go/tidb/executor/executor.go:758\ngithub.com/pingcap/tidb/executor.Next\n\t/Users/damn/go/tidb/executor/executor.go:279\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelayExecutor\n\t/Users/damn/go/tidb/executor/adapter.go:537\ngithub.com/pingcap/tidb/executor.(*ExecStmt).handleNoDelay\n\t/Users/damn/go/tidb/executor/adapter.go:418\ngithub.com/pingcap/tidb/executor.(*ExecStmt).Exec\n\t/Users/damn/go/tidb/executor/adapter.go:368\ngithub.com/pingcap/tidb/session.runStmt\n\t/Users/damn/go/tidb/session/session.go:1632\ngithub.com/pingcap/tidb/session.(*session).ExecuteStmt\n\t/Users/damn/go/tidb/session/session.go:1537\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).Exec\n\t/Users/damn/go/tidb/util/testkit/testkit.go:170\ngithub.com/pingcap/tidb/util/testkit.(*TestKit).ExecToErr\n\t/Users/damn/go/tidb/util/testkit/testkit.go:288\ngithub.com/pingcap/tidb/executor_test.(*testSuite5).TestAdminRecoverPartitionTableIndex.func2\n\t/Users/damn/go/tidb/executor/admin_test.go:259\ngithub.com/pingcap/tidb/executor_test.(*testSuite5).TestAdminRecoverPartitionTableIndex\n\t/Users/damn/go/tidb/executor/admin_test.go:300\nreflect.Value.call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:476\nreflect.Value.Call\n\t/usr/local/Cellar/go/1.15.5/libexec/src/reflect/value.go:337\ngithub.com/pingcap/check.(*suiteRunner).forkTest.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:850\ngithub.com/pingcap/check.(*suiteRunner).forkCall.func1\n\t/Users/damn/go/pkg/mod/github.com/pingcap/check@v0.0.0-20200212061837-5e12011dc712/check.go:739\nruntime.goexit\n\t/usr/local/Cellar/go/1.15.5/libexec/src/runtime/asm_amd64.s:1374"] [session="{\n  \"currDBName\": \"test\",\n  \"id\": 31,\n  \"status\": 2,\n  \"strictMode\": true,\n  \"user\": null\n}"]
[2021/02/04 11:19:38.076 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=81] ["start time"=3.280208ms]
[2021/02/04 11:19:38.076 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.076 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.076 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.080 +08:00] [INFO] [domain.go:161] ["full load InfoSchema success"] [usedSchemaVersion=0] [neededSchemaVersion=81] ["start time"=3.272477ms]
[2021/02/04 11:19:38.080 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.080 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.080 +08:00] [INFO] [infoschema.go:401] ["use snapshot schema"] [conn=0] [schemaVersion=81]
[2021/02/04 11:19:38.080 +08:00] [INFO] [admin.go:351] ["check indices count"] [table=admin_test] [cnt=3] [index="\"c2\""] [cnt=3]
[2021/02/04 11:19:38.081 +08:00] [INFO] [session.go:2859] ["CRUCIAL OPERATION"] [conn=32] [schemaVersion=81] [cur_db=test] [sql="drop table admin_test"] [user=]
[2021/02/04 11:19:38.081 +08:00] [INFO] [ddl_worker.go:261] ["[ddl] add DDL jobs"] ["batch count"=1] [jobs="ID:113, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:108, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:38.081 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0; "]
[2021/02/04 11:19:38.081 +08:00] [INFO] [ddl.go:537] ["[ddl] start DDL job"] [job="ID:113, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:108, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:38.081 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"] [query="drop table admin_test"]
[2021/02/04 11:19:38.081 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:113, Type:drop table, State:none, SchemaState:none, SchemaID:1, TableID:108, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:38.081 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:38.082 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:113, Type:drop table, State:running, SchemaState:write only, SchemaID:1, TableID:108, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:38.081 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:38.082 +08:00] [INFO] [ddl_worker.go:599] ["[ddl] run DDL job"] [worker="worker 13, tp general"] [job="ID:113, Type:drop table, State:running, SchemaState:delete only, SchemaID:1, TableID:108, RowCount:0, ArgLen:0, start time: 2021-02-04 11:19:38.081 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:38.082 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=113] [elementID=109]
[2021/02/04 11:19:38.083 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=113] [elementID=110]
[2021/02/04 11:19:38.083 +08:00] [INFO] [delete_range.go:422] ["[ddl] insert into delete-range table"] [jobID=113] [elementID=111]
[2021/02/04 11:19:38.083 +08:00] [INFO] [delete_range.go:106] ["[ddl] add job into delete-range table"] [jobID=113] [jobType="drop table"]
[2021/02/04 11:19:38.083 +08:00] [INFO] [ddl_worker.go:366] ["[ddl] finish DDL job"] [worker="worker 13, tp general"] [job="ID:113, Type:drop table, State:synced, SchemaState:none, SchemaID:1, TableID:108, RowCount:0, ArgLen:2, start time: 2021-02-04 11:19:38.081 +0800 CST, Err:<nil>, ErrCount:0, SnapshotVersion:0"]
[2021/02/04 11:19:38.084 +08:00] [INFO] [ddl.go:592] ["[ddl] DDL job is finished"] [jobID=113]
[2021/02/04 11:19:38.084 +08:00] [INFO] [domain.go:661] ["performing DDL change, must reload"]
[2021/02/04 11:19:38.084 +08:00] [INFO] [domain.go:137] ["diff load InfoSchema success"] [usedSchemaVersion=81] [neededSchemaVersion=84] ["start time"=86.534µs] [phyTblIDs="[108,109,110,111]"] [actionTypes="[16,16,16,16]"]
PASS: admin_test.go:235: testSuite5.TestAdminRecoverPartitionTableIndex	0.125s
[2021/02/04 11:19:38.084 +08:00] [INFO] [ddl_worker.go:124] ["[ddl] DDL worker closed"] [worker="worker 13, tp general"] ["take time"=936ns]
[2021/02/04 11:19:38.084 +08:00] [INFO] [ddl_worker.go:124] ["[ddl] DDL worker closed"] [worker="worker 14, tp add index"] ["take time"=435ns]
[2021/02/04 11:19:38.084 +08:00] [INFO] [delete_range.go:131] ["[ddl] closing delRange"]
[2021/02/04 11:19:38.086 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=113] [elementID=109]
[2021/02/04 11:19:38.088 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=113] [elementID=110]
[2021/02/04 11:19:38.089 +08:00] [INFO] [delete_range.go:235] ["[ddl] delRange emulator complete task"] [jobID=113] [elementID=111]
[2021/02/04 11:19:38.089 +08:00] [INFO] [session_pool.go:85] ["[ddl] closing sessionPool"]
[2021/02/04 11:19:38.089 +08:00] [INFO] [ddl.go:396] ["[ddl] DDL closed"] [ID=08872c48-b775-4cf2-9df6-c5f79768efa6] ["take time"=5.261197ms]
[2021/02/04 11:19:38.089 +08:00] [INFO] [ddl.go:309] ["[ddl] stop DDL"] [ID=08872c48-b775-4cf2-9df6-c5f79768efa6]
[2021/02/04 11:19:38.089 +08:00] [INFO] [domain.go:439] ["topNSlowQueryLoop exited."]
[2021/02/04 11:19:38.089 +08:00] [INFO] [domain.go:468] ["infoSyncerKeeper exited."]
[2021/02/04 11:19:38.089 +08:00] [INFO] [domain.go:1036] ["handleTelemetryLoop exited."]
[2021/02/04 11:19:38.089 +08:00] [INFO] [domain.go:978] ["globalBindHandleWorkerLoop exited."]
[2021/02/04 11:19:38.089 +08:00] [INFO] [domain.go:496] ["topologySyncerKeeper exited."]
[2021/02/04 11:19:38.089 +08:00] [INFO] [domain.go:1007] ["handleEvolvePlanTasksLoop exited."]
[2021/02/04 11:19:38.090 +08:00] [INFO] [domain.go:914] ["loadPrivilegeInLoop exited."]
[2021/02/04 11:19:38.090 +08:00] [INFO] [domain.go:648] ["domain closed"] ["take time"=5.336444ms]
[2021/02/04 11:19:38.094 +08:00] [INFO] [db.go:565] ["Closing database"]
[2021/02/04 11:19:38.094 +08:00] [INFO] [db.go:590] ["Memtable flushed"]
[2021/02/04 11:19:38.094 +08:00] [INFO] [db.go:594] ["Compaction finished"]
[2021/02/04 11:19:38.094 +08:00] [INFO] [db.go:613] ["BlobManager finished"]
[2021/02/04 11:19:38.094 +08:00] [INFO] [db.go:617] ["ResourceManager finished"]
[2021/02/04 11:19:38.094 +08:00] [INFO] [db.go:623] ["Waiting for closer"]
OOPS: 16 passed, 1 PANICKED
--- FAIL: TestT (1.51s)
FAIL
exit status 1
FAIL	github.com/pingcap/tidb/executor	1.595s
